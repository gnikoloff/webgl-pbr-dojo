function Bs(P,U){return U.forEach(function(Y){Y&&typeof Y!="string"&&!Array.isArray(Y)&&Object.keys(Y).forEach(function(ee){if(ee!=="default"&&!(ee in P)){var W=Object.getOwnPropertyDescriptor(Y,ee);Object.defineProperty(P,ee,W.get?W:{enumerable:!0,get:function(){return Y[ee]}})}})}),Object.freeze(P)}var ro=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function $s(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}var Jr={exports:{}};/*! Tweakpane 3.0.7 (c) 2016 cocopon, licensed under the MIT license. */(function(P,U){(function(Y,ee){ee(U)})(ro,function(Y){class ee{constructor(n){const[h,A]=n.split("-"),k=h.split(".");this.major=parseInt(k[0],10),this.minor=parseInt(k[1],10),this.patch=parseInt(k[2],10),this.prerelease=A!=null?A:null}toString(){const n=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[n,this.prerelease].join("-"):n}}class W{constructor(n){this.controller_=n}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(n){this.controller_.viewProps.set("disabled",n)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(n){this.controller_.viewProps.set("hidden",n)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class te{constructor(n){this.target=n}}class M extends te{constructor(n,h,A,k){super(n);this.value=h,this.presetKey=A,this.last=k!=null?k:!0}}class O extends te{constructor(n,h,A){super(n);this.value=h,this.presetKey=A}}class Q extends te{constructor(n,h){super(n);this.expanded=h}}function N(d){return d}function x(d){return d==null}function _(d,n){if(d.length!==n.length)return!1;for(let h=0;h<d.length;h++)if(d[h]!==n[h])return!1;return!0}const p={alreadydisposed:()=>"View has been already disposed",invalidparams:d=>`Invalid parameters for '${d.name}'`,nomatchingcontroller:d=>`No matching controller for '${d.key}'`,nomatchingview:d=>`No matching view for '${JSON.stringify(d.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:d=>`Property '${d.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class a{constructor(n){var h;this.message=(h=p[n.type](n.context))!==null&&h!==void 0?h:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=n.type}static alreadyDisposed(){return new a({type:"alreadydisposed"})}static notBindable(){return new a({type:"notbindable"})}static propertyNotFound(n){return new a({type:"propertynotfound",context:{name:n}})}static shouldNeverHappen(){return new a({type:"shouldneverhappen"})}}class u{constructor(n,h,A){this.obj_=n,this.key_=h,this.presetKey_=A!=null?A:h}static isBindable(n){return!(n===null||typeof n!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(n){this.obj_[this.key_]=n}writeProperty(n,h){const A=this.read();if(!u.isBindable(A))throw a.notBindable();if(!(n in A))throw a.propertyNotFound(n);A[n]=h}}class s extends W{get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get title(){var n;return(n=this.controller_.valueController.props.get("title"))!==null&&n!==void 0?n:""}set title(n){this.controller_.valueController.props.set("title",n)}on(n,h){const A=h.bind(this);return this.controller_.valueController.emitter.on(n,()=>{A(new te(this))}),this}}class l{constructor(){this.observers_={}}on(n,h){let A=this.observers_[n];return A||(A=this.observers_[n]=[]),A.push({handler:h}),this}off(n,h){const A=this.observers_[n];return A&&(this.observers_[n]=A.filter(k=>k.handler!==h)),this}emit(n,h){const A=this.observers_[n];!A||A.forEach(k=>{k.handler(h)})}}const r="tp";function m(d){return(h,A)=>[r,"-",d,"v",h?`_${h}`:"",A?`-${A}`:""].join("")}function v(d,n){return h=>n(d(h))}function C(d){return d.rawValue}function b(d,n){d.emitter.on("change",v(C,n)),n(d.rawValue)}function E(d,n,h){b(d.value(n),h)}function R(d,n,h){h?d.classList.add(n):d.classList.remove(n)}function g(d,n){return h=>{R(d,n,h)}}function f(d,n){b(d,h=>{n.textContent=h!=null?h:""})}const T=m("btn");class L{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(T()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("button");A.classList.add(T("b")),h.viewProps.bindDisabled(A),this.element.appendChild(A),this.buttonElement=A;const k=n.createElement("div");k.classList.add(T("t")),f(h.props.value("title"),k),this.buttonElement.appendChild(k)}}class w{constructor(n,h){this.emitter=new l,this.onClick_=this.onClick_.bind(this),this.props=h.props,this.viewProps=h.viewProps,this.view=new L(n,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class S{constructor(n,h){var A;this.constraint_=h==null?void 0:h.constraint,this.equals_=(A=h==null?void 0:h.equals)!==null&&A!==void 0?A:(k,j)=>k===j,this.emitter=new l,this.rawValue_=n}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(n){this.setRawValue(n,{forceEmit:!1,last:!0})}setRawValue(n,h){const A=h!=null?h:{forceEmit:!1,last:!0},k=this.constraint_?this.constraint_.constrain(n):n;!!this.equals_(this.rawValue_,k)&&!A.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=k,this.emitter.emit("change",{options:A,rawValue:k,sender:this}))}}class I{constructor(n){this.emitter=new l,this.value_=n}get rawValue(){return this.value_}set rawValue(n){this.setRawValue(n,{forceEmit:!1,last:!0})}setRawValue(n,h){const A=h!=null?h:{forceEmit:!1,last:!0};this.value_===n&&!A.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=n,this.emitter.emit("change",{options:A,rawValue:this.value_,sender:this}))}}function F(d,n){const h=n==null?void 0:n.constraint,A=n==null?void 0:n.equals;return!h&&!A?new I(d):new S(d,n)}class B{constructor(n){this.emitter=new l,this.valMap_=n;for(const h in this.valMap_)this.valMap_[h].emitter.on("change",()=>{this.emitter.emit("change",{key:h,sender:this})})}static createCore(n){return Object.keys(n).reduce((A,k)=>Object.assign(A,{[k]:F(n[k])}),{})}static fromObject(n){const h=this.createCore(n);return new B(h)}get(n){return this.valMap_[n].rawValue}set(n,h){this.valMap_[n].rawValue=h}value(n){return this.valMap_[n]}}function G(d,n){const A=Object.keys(n).reduce((k,j)=>{if(k===void 0)return;const he=n[j](d[j]);return he.succeeded?Object.assign(Object.assign({},k),{[j]:he.value}):void 0},{});return A}function z(d,n){return d.reduce((h,A)=>{if(h===void 0)return;const k=n(A);if(!(!k.succeeded||k.value===void 0))return[...h,k.value]},[])}function ne(d){return d===null?!1:typeof d=="object"}function J(d){return n=>h=>{if(!n&&h===void 0)return{succeeded:!1,value:void 0};if(n&&h===void 0)return{succeeded:!0,value:void 0};const A=d(h);return A!==void 0?{succeeded:!0,value:A}:{succeeded:!1,value:void 0}}}function K(d){return{custom:n=>J(n)(d),boolean:J(n=>typeof n=="boolean"?n:void 0)(d),number:J(n=>typeof n=="number"?n:void 0)(d),string:J(n=>typeof n=="string"?n:void 0)(d),function:J(n=>typeof n=="function"?n:void 0)(d),constant:n=>J(h=>h===n?n:void 0)(d),raw:J(n=>n)(d),object:n=>J(h=>{if(!!ne(h))return G(h,n)})(d),array:n=>J(h=>{if(!!Array.isArray(h))return z(h,n)})(d)}}const H={optional:K(!0),required:K(!1)};function $(d,n){const h=H.required.object(n)(d);return h.succeeded?h.value:void 0}function X(d){return d&&d.parentElement&&d.parentElement.removeChild(d),null}function q(){return["veryfirst","first","last","verylast"]}const oe=m(""),ce={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class se{constructor(n){this.parent_=null,this.blade=n.blade,this.view=n.view,this.viewProps=n.viewProps;const h=this.view.element;this.blade.value("positions").emitter.on("change",()=>{q().forEach(A=>{h.classList.remove(oe(void 0,ce[A]))}),this.blade.get("positions").forEach(A=>{h.classList.add(oe(void 0,ce[A]))})}),this.viewProps.handleDispose(()=>{X(h)})}get parent(){return this.parent_}}const fe="http://www.w3.org/2000/svg";function _e(d){d.offsetHeight}function Te(d,n){const h=d.style.transition;d.style.transition="none",n(),d.style.transition=h}function Ce(d){return d.ontouchstart!==void 0}function De(){return new Function("return this")()}function Be(){return De().document}function ht(d){const n=d.ownerDocument.defaultView;return n&&"document"in n?d.getContext("2d"):null}const dt={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function ue(d,n){const h=d.createElementNS(fe,"svg");return h.innerHTML=dt[n],h}function de(d,n,h){d.insertBefore(n,d.children[h])}function ge(d){d.parentElement&&d.parentElement.removeChild(d)}function ye(d){for(;d.children.length>0;)d.removeChild(d.children[0])}function Se(d){for(;d.childNodes.length>0;)d.removeChild(d.childNodes[0])}function Me(d){return d.relatedTarget?d.relatedTarget:"explicitOriginalTarget"in d?d.explicitOriginalTarget:null}const Oe=m("lbl");function ke(d,n){const h=d.createDocumentFragment();return n.split(`
`).map(k=>d.createTextNode(k)).forEach((k,j)=>{j>0&&h.appendChild(d.createElement("br")),h.appendChild(k)}),h}class Le{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(Oe()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("div");A.classList.add(Oe("l")),E(h.props,"label",j=>{x(j)?this.element.classList.add(Oe(void 0,"nol")):(this.element.classList.remove(Oe(void 0,"nol")),Se(A),A.appendChild(ke(n,j)))}),this.element.appendChild(A),this.labelElement=A;const k=n.createElement("div");k.classList.add(Oe("v")),this.element.appendChild(k),this.valueElement=k}}class Re extends se{constructor(n,h){const A=h.valueController.viewProps;super(Object.assign(Object.assign({},h),{view:new Le(n,{props:h.props,viewProps:A}),viewProps:A}));this.props=h.props,this.valueController=h.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const We={id:"button",type:"blade",accept(d){const n=H,h=$(d,{title:n.required.string,view:n.required.constant("button"),label:n.optional.string});return h?{params:h}:null},controller(d){return new Re(d.document,{blade:d.blade,props:B.fromObject({label:d.params.label}),valueController:new w(d.document,{props:B.fromObject({title:d.params.title}),viewProps:d.viewProps})})},api(d){return!(d.controller instanceof Re)||!(d.controller.valueController instanceof w)?null:new s(d.controller)}};class et extends se{constructor(n){super(n);this.value=n.value}}function pt(){return new B({positions:F([],{equals:_})})}class yt extends B{constructor(n){super(n)}static create(n){const h={completed:!0,expanded:n,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},A=B.createCore(h);return new yt(A)}get styleExpanded(){var n;return(n=this.get("temporaryExpanded"))!==null&&n!==void 0?n:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const n=this.get("expandedHeight");return this.get("shouldFixHeight")&&!x(n)?`${n}px`:"auto"}bindExpandedClass(n,h){E(this,"expanded",()=>{this.styleExpanded?n.classList.add(h):n.classList.remove(h)})}}function Sn(d,n){let h=0;return Te(n,()=>{d.set("expandedHeight",null),d.set("temporaryExpanded",!0),_e(n),h=n.clientHeight,d.set("temporaryExpanded",null),_e(n)}),h}function Rn(d,n){n.style.height=d.styleHeight}function Bt(d,n){d.value("expanded").emitter.on("beforechange",()=>{d.set("completed",!1),x(d.get("expandedHeight"))&&d.set("expandedHeight",Sn(d,n)),d.set("shouldFixHeight",!0),_e(n)}),d.emitter.on("change",()=>{Rn(d,n)}),Rn(d,n),n.addEventListener("transitionend",h=>{h.propertyName==="height"&&(d.set("shouldFixHeight",!1),d.set("expandedHeight",null),d.set("completed",!0))})}class Jt extends W{constructor(n,h){super(n);this.rackApi_=h}}function Tn(d,n){return d.addBlade(Object.assign(Object.assign({},n),{view:"button"}))}function di(d,n){return d.addBlade(Object.assign(Object.assign({},n),{view:"folder"}))}function xn(d,n){const h=n||{};return d.addBlade(Object.assign(Object.assign({},h),{view:"separator"}))}function pi(d,n){return d.addBlade(Object.assign(Object.assign({},n),{view:"tab"}))}class $t{constructor(n){this.emitter=new l,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=n}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(n){for(const h of this.allItems())if(n(h))return h;return null}includes(n){return this.cache_.has(n)}add(n,h){if(this.includes(n))throw a.shouldNeverHappen();const A=h!==void 0?h:this.items_.length;this.items_.splice(A,0,n),this.cache_.add(n);const k=this.extract_(n);k&&(k.emitter.on("add",this.onSubListAdd_),k.emitter.on("remove",this.onSubListRemove_),k.allItems().forEach(j=>{this.cache_.add(j)})),this.emitter.emit("add",{index:A,item:n,root:this,target:this})}remove(n){const h=this.items_.indexOf(n);if(h<0)return;this.items_.splice(h,1),this.cache_.delete(n);const A=this.extract_(n);A&&(A.emitter.off("add",this.onSubListAdd_),A.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:h,item:n,root:this,target:this})}onSubListAdd_(n){this.cache_.add(n.item),this.emitter.emit("add",{index:n.index,item:n.item,root:this,target:n.target})}onSubListRemove_(n){this.cache_.delete(n.item),this.emitter.emit("remove",{index:n.index,item:n.item,root:this,target:n.target})}}class en extends W{constructor(n){super(n);this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new l,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(n){const h=n.sender.target.read();this.emitter_.emit("change",{event:new M(this,h,this.controller_.binding.target.presetKey,n.options.last)})}}class ze extends Re{constructor(n,h){super(n,h);this.binding=h.binding}}class tn extends W{constructor(n){super(n);this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new l,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(n){const h=n.sender.target.read();this.emitter_.emit("update",{event:new O(this,h,this.controller_.binding.target.presetKey)})}}class tt extends Re{constructor(n,h){super(n,h);this.binding=h.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function mi(d){return d instanceof At?d.apiSet_:d instanceof Jt?d.rackApi_.apiSet_:null}function mt(d,n){const h=d.find(A=>A.controller_===n);if(!h)throw a.shouldNeverHappen();return h}function Ln(d,n,h){if(!u.isBindable(d))throw a.notBindable();return new u(d,n,h)}class At extends W{constructor(n,h){super(n);this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new l,this.apiSet_=new $t(mi),this.pool_=h;const A=this.controller_.rack;A.emitter.on("add",this.onRackAdd_),A.emitter.on("remove",this.onRackRemove_),A.emitter.on("inputchange",this.onRackInputChange_),A.emitter.on("monitorupdate",this.onRackMonitorUpdate_),A.children.forEach(k=>{this.setUpApi_(k)})}get children(){return this.controller_.rack.children.map(n=>mt(this.apiSet_,n))}addInput(n,h,A){const k=A||{},j=this.controller_.view.element.ownerDocument,ie=this.pool_.createInput(j,Ln(n,h,k.presetKey),k),he=new en(ie);return this.add(he,k.index)}addMonitor(n,h,A){const k=A||{},j=this.controller_.view.element.ownerDocument,ie=this.pool_.createMonitor(j,Ln(n,h),k),he=new tn(ie);return this.add(he,k.index)}addFolder(n){return di(this,n)}addButton(n){return Tn(this,n)}addSeparator(n){return xn(this,n)}addTab(n){return pi(this,n)}add(n,h){this.controller_.rack.add(n.controller_,h);const A=this.apiSet_.find(k=>k.controller_===n.controller_);return A&&this.apiSet_.remove(A),this.apiSet_.add(n),n}remove(n){this.controller_.rack.remove(n.controller_)}addBlade(n){const h=this.controller_.view.element.ownerDocument,A=this.pool_.createBlade(h,n),k=this.pool_.createBladeApi(A);return this.add(k,n.index)}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}setUpApi_(n){this.apiSet_.find(A=>A.controller_===n)||this.apiSet_.add(this.pool_.createBladeApi(n))}onRackAdd_(n){this.setUpApi_(n.bladeController)}onRackRemove_(n){if(n.isRoot){const h=mt(this.apiSet_,n.bladeController);this.apiSet_.remove(h)}}onRackInputChange_(n){const h=n.bladeController;if(h instanceof ze){const A=mt(this.apiSet_,h),k=h.binding;this.emitter_.emit("change",{event:new M(A,k.target.read(),k.target.presetKey,n.options.last)})}else if(h instanceof et){const A=mt(this.apiSet_,h);this.emitter_.emit("change",{event:new M(A,h.value.rawValue,void 0,n.options.last)})}}onRackMonitorUpdate_(n){if(!(n.bladeController instanceof tt))throw a.shouldNeverHappen();const h=mt(this.apiSet_,n.bladeController),A=n.bladeController.binding;this.emitter_.emit("update",{event:new O(h,A.target.read(),A.target.presetKey)})}}class nn extends Jt{constructor(n,h){super(n,new At(n.rackController,h));this.emitter_=new l,this.controller_.foldable.value("expanded").emitter.on("change",A=>{this.emitter_.emit("fold",{event:new Q(this,A.sender.rawValue)})}),this.rackApi_.on("change",A=>{this.emitter_.emit("change",{event:A})}),this.rackApi_.on("update",A=>{this.emitter_.emit("update",{event:A})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(n){this.controller_.foldable.set("expanded",n)}get title(){return this.controller_.props.get("title")}set title(n){this.controller_.props.set("title",n)}get children(){return this.rackApi_.children}addInput(n,h,A){return this.rackApi_.addInput(n,h,A)}addMonitor(n,h,A){return this.rackApi_.addMonitor(n,h,A)}addFolder(n){return this.rackApi_.addFolder(n)}addButton(n){return this.rackApi_.addButton(n)}addSeparator(n){return this.rackApi_.addSeparator(n)}addTab(n){return this.rackApi_.addTab(n)}add(n,h){return this.rackApi_.add(n,h)}remove(n){this.rackApi_.remove(n)}addBlade(n){return this.rackApi_.addBlade(n)}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}}class Dt extends se{constructor(n){super({blade:n.blade,view:n.view,viewProps:n.rackController.viewProps});this.rackController=n.rackController}}class fi{constructor(n,h){const A=m(h.viewName);this.element=n.createElement("div"),this.element.classList.add(A()),h.viewProps.bindClassModifiers(this.element)}}function In(d,n){for(let h=0;h<d.length;h++){const A=d[h];if(A instanceof ze&&A.binding===n)return A}return null}function gi(d,n){for(let h=0;h<d.length;h++){const A=d[h];if(A instanceof tt&&A.binding===n)return A}return null}function Mn(d,n){for(let h=0;h<d.length;h++){const A=d[h];if(A instanceof et&&A.value===n)return A}return null}function rn(d){return d instanceof it?d.rack:d instanceof Dt?d.rackController.rack:null}function On(d){const n=rn(d);return n?n.bcSet_:null}class vi{constructor(n){var h;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new l,this.blade_=n!=null?n:null,(h=this.blade_)===null||h===void 0||h.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new $t(On),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(n,h){n.parent&&n.parent.remove(n),n.parent_=this,this.bcSet_.add(n,h)}remove(n){n.parent_=null,this.bcSet_.remove(n)}find(n){return this.bcSet_.allItems().filter(h=>h instanceof n)}onSetAdd_(n){this.updatePositions_();const h=n.target===n.root;if(this.emitter.emit("add",{bladeController:n.item,index:n.index,isRoot:h,sender:this}),!h)return;const A=n.item;if(A.viewProps.emitter.on("change",this.onChildViewPropsChange_),A.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),A.viewProps.handleDispose(this.onChildDispose_),A instanceof ze)A.binding.emitter.on("change",this.onChildInputChange_);else if(A instanceof tt)A.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(A instanceof et)A.value.emitter.on("change",this.onChildValueChange_);else{const k=rn(A);if(k){const j=k.emitter;j.on("layout",this.onDescendantLayout_),j.on("inputchange",this.onDescendantInputChange_),j.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(n){this.updatePositions_();const h=n.target===n.root;if(this.emitter.emit("remove",{bladeController:n.item,isRoot:h,sender:this}),!h)return;const A=n.item;if(A instanceof ze)A.binding.emitter.off("change",this.onChildInputChange_);else if(A instanceof tt)A.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(A instanceof et)A.value.emitter.off("change",this.onChildValueChange_);else{const k=rn(A);if(k){const j=k.emitter;j.off("layout",this.onDescendantLayout_),j.off("inputchange",this.onDescendantInputChange_),j.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const n=this.bcSet_.items.filter(k=>!k.viewProps.get("hidden")),h=n[0],A=n[n.length-1];this.bcSet_.items.forEach(k=>{const j=[];k===h&&(j.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&j.push("veryfirst")),k===A&&(j.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&j.push("verylast")),k.blade.set("positions",j)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(n){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(h=>h.viewProps.get("disposed")).forEach(h=>{this.bcSet_.remove(h)})}onChildInputChange_(n){const h=In(this.find(ze),n.sender);if(!h)throw a.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:h,options:n.options,sender:this})}onChildMonitorUpdate_(n){const h=gi(this.find(tt),n.sender);if(!h)throw a.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:h,sender:this})}onChildValueChange_(n){const h=Mn(this.find(et),n.sender);if(!h)throw a.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:h,options:n.options,sender:this})}onDescendantLayout_(n){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(n){this.emitter.emit("inputchange",{bladeController:n.bladeController,options:n.options,sender:this})}onDescendantMonitorUpdate_(n){this.emitter.emit("monitorupdate",{bladeController:n.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class it extends se{constructor(n,h){super(Object.assign(Object.assign({},h),{view:new fi(n,{viewName:"brk",viewProps:h.viewProps})}));this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const A=new vi(h.root?void 0:h.blade);A.emitter.on("add",this.onRackAdd_),A.emitter.on("remove",this.onRackRemove_),this.rack=A,this.viewProps.handleDispose(()=>{for(let k=this.rack.children.length-1;k>=0;k--)this.rack.children[k].viewProps.set("disposed",!0)})}onRackAdd_(n){!n.isRoot||de(this.view.element,n.bladeController.view.element,n.index)}onRackRemove_(n){!n.isRoot||ge(n.bladeController.view.element)}}const Nn=m("cnt");class Ue{constructor(n,h){this.className_=m(h.viewName||"fld"),this.element=n.createElement("div"),this.element.classList.add(this.className_(),Nn()),h.viewProps.bindClassModifiers(this.element),this.foldable_=h.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),E(this.foldable_,"completed",g(this.element,this.className_(void 0,"cpl")));const A=n.createElement("button");A.classList.add(this.className_("b")),E(h.props,"title",he=>{x(he)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),h.viewProps.bindDisabled(A),this.element.appendChild(A),this.buttonElement=A;const k=n.createElement("div");k.classList.add(this.className_("t")),f(h.props.value("title"),k),this.buttonElement.appendChild(k),this.titleElement=k;const j=n.createElement("div");j.classList.add(this.className_("m")),this.buttonElement.appendChild(j);const ie=h.containerElement;ie.classList.add(this.className_("c")),this.element.appendChild(ie),this.containerElement=ie}}class on extends Dt{constructor(n,h){var A;const k=yt.create((A=h.expanded)!==null&&A!==void 0?A:!0),j=new it(n,{blade:h.blade,root:h.root,viewProps:h.viewProps});super(Object.assign(Object.assign({},h),{rackController:j,view:new Ue(n,{containerElement:j.view.element,foldable:k,props:h.props,viewName:h.root?"rot":void 0,viewProps:h.viewProps})}));this.onTitleClick_=this.onTitleClick_.bind(this),this.props=h.props,this.foldable=k,Bt(this.foldable,this.view.containerElement),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const _i={id:"folder",type:"blade",accept(d){const n=H,h=$(d,{title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean});return h?{params:h}:null},controller(d){return new on(d.document,{blade:d.blade,expanded:d.params.expanded,props:B.fromObject({title:d.params.title}),viewProps:d.viewProps})},api(d){return d.controller instanceof on?new nn(d.controller,d.pool):null}};class ft extends et{constructor(n,h){const A=h.valueController.viewProps;super(Object.assign(Object.assign({},h),{value:h.valueController.value,view:new Le(n,{props:h.props,viewProps:A}),viewProps:A}));this.props=h.props,this.valueController=h.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Fn extends W{}const Pn=m("spr");class Ei{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(Pn()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("hr");A.classList.add(Pn("r")),this.element.appendChild(A)}}class kn extends se{constructor(n,h){super(Object.assign(Object.assign({},h),{view:new Ei(n,{viewProps:h.viewProps})}))}}const bi={id:"separator",type:"blade",accept(d){const h=$(d,{view:H.required.constant("separator")});return h?{params:h}:null},controller(d){return new kn(d.document,{blade:d.blade,viewProps:d.viewProps})},api(d){return d.controller instanceof kn?new Fn(d.controller):null}},Ci=m("");function Bn(d,n){return g(d,Ci(void 0,n))}class rt extends B{constructor(n){super(n)}static create(n){var h,A;const k=n!=null?n:{},j={disabled:(h=k.disabled)!==null&&h!==void 0?h:!1,disposed:!1,hidden:(A=k.hidden)!==null&&A!==void 0?A:!1},ie=B.createCore(j);return new rt(ie)}bindClassModifiers(n){E(this,"disabled",Bn(n,"disabled")),E(this,"hidden",Bn(n,"hidden"))}bindDisabled(n){E(this,"disabled",h=>{n.disabled=h})}bindTabIndex(n){E(this,"disabled",h=>{n.tabIndex=h?-1:0})}handleDispose(n){this.value("disposed").emitter.on("change",h=>{h&&n()})}}const St=m("tbi");class wi{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(St()),h.viewProps.bindClassModifiers(this.element),E(h.props,"selected",j=>{j?this.element.classList.add(St(void 0,"sel")):this.element.classList.remove(St(void 0,"sel"))});const A=n.createElement("button");A.classList.add(St("b")),h.viewProps.bindDisabled(A),this.element.appendChild(A),this.buttonElement=A;const k=n.createElement("div");k.classList.add(St("t")),f(h.props.value("title"),k),this.buttonElement.appendChild(k),this.titleElement=k}}class yi{constructor(n,h){this.emitter=new l,this.onClick_=this.onClick_.bind(this),this.props=h.props,this.viewProps=h.viewProps,this.view=new wi(n,{props:h.props,viewProps:h.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class $n{constructor(n,h){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new yi(n,{props:h.itemProps,viewProps:rt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new it(n,{blade:pt(),viewProps:rt.create()}),this.props=h.props,E(this.props,"selected",A=>{this.itemController.props.set("selected",A),this.contentController.viewProps.set("hidden",!A)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class Dn{constructor(n,h){this.controller_=n,this.rackApi_=h}get title(){var n;return(n=this.controller_.itemController.props.get("title"))!==null&&n!==void 0?n:""}set title(n){this.controller_.itemController.props.set("title",n)}get selected(){return this.controller_.props.get("selected")}set selected(n){this.controller_.props.set("selected",n)}get children(){return this.rackApi_.children}addButton(n){return this.rackApi_.addButton(n)}addFolder(n){return this.rackApi_.addFolder(n)}addSeparator(n){return this.rackApi_.addSeparator(n)}addTab(n){return this.rackApi_.addTab(n)}add(n,h){this.rackApi_.add(n,h)}remove(n){this.rackApi_.remove(n)}addInput(n,h,A){return this.rackApi_.addInput(n,h,A)}addMonitor(n,h,A){return this.rackApi_.addMonitor(n,h,A)}addBlade(n){return this.rackApi_.addBlade(n)}}class Un extends Jt{constructor(n,h){super(n,new At(n.rackController,h));this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new l,this.pageApiMap_=new Map,this.rackApi_.on("change",A=>{this.emitter_.emit("change",{event:A})}),this.rackApi_.on("update",A=>{this.emitter_.emit("update",{event:A})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(A=>{this.setUpPageApi_(A)})}get pages(){return this.controller_.pageSet.items.map(n=>{const h=this.pageApiMap_.get(n);if(!h)throw a.shouldNeverHappen();return h})}addPage(n){const h=this.controller_.view.element.ownerDocument,A=new $n(h,{itemProps:B.fromObject({selected:!1,title:n.title}),props:B.fromObject({selected:!1})});this.controller_.add(A,n.index);const k=this.pageApiMap_.get(A);if(!k)throw a.shouldNeverHappen();return k}removePage(n){this.controller_.remove(n)}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}setUpPageApi_(n){const h=this.rackApi_.apiSet_.find(k=>k.controller_===n.contentController);if(!h)throw a.shouldNeverHappen();const A=new Dn(n,h);this.pageApiMap_.set(n,A)}onPageAdd_(n){this.setUpPageApi_(n.item)}onPageRemove_(n){if(!this.pageApiMap_.get(n.item))throw a.shouldNeverHappen();this.pageApiMap_.delete(n.item)}}const Ut=m("tab");class Ai{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(Ut(),Nn()),h.viewProps.bindClassModifiers(this.element),b(h.empty,g(this.element,Ut(void 0,"nop")));const A=n.createElement("div");A.classList.add(Ut("i")),this.element.appendChild(A),this.itemsElement=A;const k=h.contentsElement;k.classList.add(Ut("c")),this.element.appendChild(k),this.contentsElement=k}}class Vn extends Dt{constructor(n,h){const A=new it(n,{blade:h.blade,viewProps:h.viewProps}),k=F(!0);super({blade:h.blade,rackController:A,view:new Ai(n,{contentsElement:A.view.element,empty:k,viewProps:h.viewProps})});this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new $t(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=k,this.applyPages_()}get pageSet(){return this.pageSet_}add(n,h){this.pageSet_.add(n,h!=null?h:this.pageSet_.items.length)}remove(n){this.pageSet_.remove(this.pageSet_.items[n])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(n){const h=n.item;de(this.view.itemsElement,h.itemController.view.element,n.index),this.rackController.rack.add(h.contentController,n.index),h.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(n){const h=n.item;ge(h.itemController.view.element),this.rackController.rack.remove(h.contentController),h.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const n=this.pageSet_.items.findIndex(h=>h.props.get("selected"));n<0?this.pageSet_.items.forEach((h,A)=>{h.props.set("selected",A===0)}):this.pageSet_.items.forEach((h,A)=>{h.props.set("selected",A===n)})}onPageSelectedChange_(n){if(n.rawValue){const h=this.pageSet_.items.findIndex(A=>A.props.value("selected")===n.sender);this.pageSet_.items.forEach((A,k)=>{A.props.set("selected",k===h)})}else this.keepSelection_()}}const Gn={id:"tab",type:"blade",accept(d){const n=H,h=$(d,{pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")});return!h||h.pages.length===0?null:{params:h}},controller(d){const n=new Vn(d.document,{blade:d.blade,viewProps:d.viewProps});return d.params.pages.forEach(h=>{const A=new $n(d.document,{itemProps:B.fromObject({selected:!1,title:h.title}),props:B.fromObject({selected:!1})});n.add(A)}),n},api(d){return d.controller instanceof Vn?new Un(d.controller,d.pool):null}};function Si(d,n){const h=d.accept(n.params);if(!h)return null;const A=H.optional.boolean(n.params.disabled).value,k=H.optional.boolean(n.params.hidden).value;return d.controller({blade:pt(),document:n.document,params:Object.assign(Object.assign({},h.params),{disabled:A,hidden:k}),viewProps:rt.create({disabled:A,hidden:k})})}class Ri{constructor(){this.disabled=!1,this.emitter=new l}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class Ti{constructor(n,h){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=n,this.emitter=new l,this.interval_=h,this.setTimer_()}get disabled(){return this.disabled_}set disabled(n){this.disabled_=n,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const n=this.doc_.defaultView;n&&n.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const n=this.doc_.defaultView;n&&(this.timerId_=n.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Ye{constructor(n){this.constraints=n}constrain(n){return this.constraints.reduce((h,A)=>A.constrain(h),n)}}function qe(d,n){if(d instanceof n)return d;if(d instanceof Ye){const h=d.constraints.reduce((A,k)=>A||(k instanceof n?k:null),null);if(h)return h}return null}class Rt{constructor(n){this.options=n}constrain(n){const h=this.options;return h.length===0||h.filter(k=>k.value===n).length>0?n:h[0].value}}class $e{constructor(n){this.maxValue=n.max,this.minValue=n.min}constrain(n){let h=n;return x(this.minValue)||(h=Math.max(h,this.minValue)),x(this.maxValue)||(h=Math.min(h,this.maxValue)),h}}class lt{constructor(n){this.step=n}constrain(n){return(n<0?-Math.round(-n/this.step):Math.round(n/this.step))*this.step}}const sn=m("lst");class Xe{constructor(n,h){this.onValueChange_=this.onValueChange_.bind(this),this.props_=h.props,this.element=n.createElement("div"),this.element.classList.add(sn()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("select");A.classList.add(sn("s")),E(this.props_,"options",j=>{ye(A),j.forEach((ie,he)=>{const pe=n.createElement("option");pe.dataset.index=String(he),pe.textContent=ie.text,pe.value=String(ie.value),A.appendChild(pe)})}),h.viewProps.bindDisabled(A),this.element.appendChild(A),this.selectElement=A;const k=n.createElement("div");k.classList.add(sn("m")),k.appendChild(ue(n,"dropdown")),this.element.appendChild(k),h.value.emitter.on("change",this.onValueChange_),this.value_=h.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class Tt{constructor(n,h){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=h.props,this.value=h.value,this.viewProps=h.viewProps,this.view=new Xe(n,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(n){const A=n.currentTarget.selectedOptions.item(0);if(!A)return;const k=Number(A.dataset.index);this.value.rawValue=this.props.get("options")[k].value}}const Wn=m("pop");class Vt{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(Wn()),h.viewProps.bindClassModifiers(this.element),b(h.shows,g(this.element,Wn(void 0,"v")))}}class Hn{constructor(n,h){this.shows=F(!1),this.viewProps=h.viewProps,this.view=new Vt(n,{shows:this.shows,viewProps:this.viewProps})}}const jn=m("txt");class xi{constructor(n,h){this.onChange_=this.onChange_.bind(this),this.element=n.createElement("div"),this.element.classList.add(jn()),h.viewProps.bindClassModifiers(this.element),this.props_=h.props,this.props_.emitter.on("change",this.onChange_);const A=n.createElement("input");A.classList.add(jn("i")),A.type="text",h.viewProps.bindDisabled(A),this.element.appendChild(A),this.inputElement=A,h.value.emitter.on("change",this.onChange_),this.value_=h.value,this.refresh()}refresh(){const n=this.props_.get("formatter");this.inputElement.value=n(this.value_.rawValue)}onChange_(){this.refresh()}}class Gt{constructor(n,h){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=h.parser,this.props=h.props,this.value=h.value,this.viewProps=h.viewProps,this.view=new xi(n,{props:h.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(n){const A=n.currentTarget.value,k=this.parser_(A);x(k)||(this.value.rawValue=k),this.view.refresh()}}function Li(d){return String(d)}function Xn(d){return d==="false"?!1:!!d}function Kn(d){return Li(d)}class Ii{constructor(n){this.text=n}evaluate(){return Number(this.text)}toString(){return this.text}}const Mi={"**":(d,n)=>Math.pow(d,n),"*":(d,n)=>d*n,"/":(d,n)=>d/n,"%":(d,n)=>d%n,"+":(d,n)=>d+n,"-":(d,n)=>d-n,"<<":(d,n)=>d<<n,">>":(d,n)=>d>>n,">>>":(d,n)=>d>>>n,"&":(d,n)=>d&n,"^":(d,n)=>d^n,"|":(d,n)=>d|n};class zn{constructor(n,h,A){this.left=h,this.operator=n,this.right=A}evaluate(){const n=Mi[this.operator];if(!n)throw new Error(`unexpected binary operator: '${this.operator}`);return n(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Oi={"+":d=>d,"-":d=>-d,"~":d=>~d};class Yn{constructor(n,h){this.operator=n,this.expression=h}evaluate(){const n=Oi[this.operator];if(!n)throw new Error(`unexpected unary operator: '${this.operator}`);return n(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function an(d){return(n,h)=>{for(let A=0;A<d.length;A++){const k=d[A](n,h);if(k!=="")return k}return""}}function xt(d,n){var h;const A=d.substr(n).match(/^\s+/);return(h=A&&A[0])!==null&&h!==void 0?h:""}function Lt(d,n){const h=d.substr(n,1);return h.match(/^[1-9]$/)?h:""}function It(d,n){var h;const A=d.substr(n).match(/^[0-9]+/);return(h=A&&A[0])!==null&&h!==void 0?h:""}function Ni(d,n){const h=It(d,n);if(h!=="")return h;const A=d.substr(n,1);if(n+=1,A!=="-"&&A!=="+")return"";const k=It(d,n);return k===""?"":A+k}function ln(d,n){const h=d.substr(n,1);if(n+=1,h.toLowerCase()!=="e")return"";const A=Ni(d,n);return A===""?"":h+A}function qn(d,n){const h=d.substr(n,1);if(h==="0")return h;const A=Lt(d,n);return n+=A.length,A===""?"":A+It(d,n)}function Fi(d,n){const h=qn(d,n);if(n+=h.length,h==="")return"";const A=d.substr(n,1);if(n+=A.length,A!==".")return"";const k=It(d,n);return n+=k.length,h+A+k+ln(d,n)}function Pi(d,n){const h=d.substr(n,1);if(n+=h.length,h!==".")return"";const A=It(d,n);return n+=A.length,A===""?"":h+A+ln(d,n)}function ki(d,n){const h=qn(d,n);return n+=h.length,h===""?"":h+ln(d,n)}const Bi=an([Fi,Pi,ki]);function $i(d,n){var h;const A=d.substr(n).match(/^[01]+/);return(h=A&&A[0])!==null&&h!==void 0?h:""}function Di(d,n){const h=d.substr(n,2);if(n+=h.length,h.toLowerCase()!=="0b")return"";const A=$i(d,n);return A===""?"":h+A}function Ui(d,n){var h;const A=d.substr(n).match(/^[0-7]+/);return(h=A&&A[0])!==null&&h!==void 0?h:""}function Vi(d,n){const h=d.substr(n,2);if(n+=h.length,h.toLowerCase()!=="0o")return"";const A=Ui(d,n);return A===""?"":h+A}function Gi(d,n){var h;const A=d.substr(n).match(/^[0-9a-f]+/i);return(h=A&&A[0])!==null&&h!==void 0?h:""}function Wi(d,n){const h=d.substr(n,2);if(n+=h.length,h.toLowerCase()!=="0x")return"";const A=Gi(d,n);return A===""?"":h+A}const Hi=an([Di,Vi,Wi]),ji=an([Hi,Bi]);function Xi(d,n){const h=ji(d,n);return n+=h.length,h===""?null:{evaluable:new Ii(h),cursor:n}}function Ki(d,n){const h=d.substr(n,1);if(n+=h.length,h!=="(")return null;const A=un(d,n);if(!A)return null;n=A.cursor,n+=xt(d,n).length;const k=d.substr(n,1);return n+=k.length,k!==")"?null:{evaluable:A.evaluable,cursor:n}}function cn(d,n){return Xi(d,n)||Ki(d,n)}function Qn(d,n){const h=cn(d,n);if(h)return h;const A=d.substr(n,1);if(n+=A.length,A!=="+"&&A!=="-"&&A!=="~")return null;const k=Qn(d,n);return k?(n=k.cursor,{cursor:n,evaluable:new Yn(A,k.evaluable)}):null}function Zn(d,n,h){h+=xt(n,h).length;const A=d.filter(k=>n.startsWith(k,h))[0];return A?(h+=A.length,h+=xt(n,h).length,{cursor:h,operator:A}):null}function zi(d,n){return(h,A)=>{const k=d(h,A);if(!k)return null;A=k.cursor;let j=k.evaluable;for(;;){const ie=Zn(n,h,A);if(!ie)break;A=ie.cursor;const he=d(h,A);if(!he)return null;A=he.cursor,j=new zn(ie.operator,j,he.evaluable)}return j?{cursor:A,evaluable:j}:null}}const Yi=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((d,n)=>zi(d,n),Qn);function un(d,n){return n+=xt(d,n).length,Yi(d,n)}function Jn(d){const n=un(d,0);return!n||n.cursor+xt(d,n.cursor).length!==d.length?null:n.evaluable}function nt(d){var n;const h=Jn(d);return(n=h==null?void 0:h.evaluate())!==null&&n!==void 0?n:null}function Ne(d){if(typeof d=="number")return d;if(typeof d=="string"){const n=nt(d);if(!x(n))return n}return 0}function qi(d){return String(d)}function Ve(d){return n=>n.toFixed(Math.max(Math.min(d,20),0))}const Qi=Ve(0);function Wt(d){return Qi(d)+"%"}function ei(d){return String(d)}function hn(d){return d}function ti(d,n){for(;d.length<n;)d.push(void 0)}function Zi(d){const n=[];return ti(n,d),F(n)}function Ji(d){const n=d.indexOf(void 0);return n<0?d:d.slice(0,n)}function er(d,n){const h=[...Ji(d),n];return h.length>d.length?h.splice(0,h.length-d.length):ti(h,d.length),h}function Mt({primary:d,secondary:n,forward:h,backward:A}){let k=!1;function j(ie){k||(k=!0,ie(),k=!1)}d.emitter.on("change",ie=>{j(()=>{n.setRawValue(h(d,n),ie.options)})}),n.emitter.on("change",ie=>{j(()=>{d.setRawValue(A(d,n),ie.options)}),j(()=>{n.setRawValue(h(d,n),ie.options)})}),j(()=>{n.setRawValue(h(d,n),{forceEmit:!1,last:!0})})}function Ge(d,n){const h=d*(n.altKey?.1:1)*(n.shiftKey?10:1);return n.upKey?+h:n.downKey?-h:0}function Ot(d){return{altKey:d.altKey,downKey:d.key==="ArrowDown",shiftKey:d.shiftKey,upKey:d.key==="ArrowUp"}}function Qe(d){return{altKey:d.altKey,downKey:d.key==="ArrowLeft",shiftKey:d.shiftKey,upKey:d.key==="ArrowRight"}}function tr(d){return d==="ArrowUp"||d==="ArrowDown"}function ni(d){return tr(d)||d==="ArrowLeft"||d==="ArrowRight"}function dn(d,n){const h=n.ownerDocument.defaultView,A=n.getBoundingClientRect();return{x:d.pageX-((h&&h.scrollX||0)+A.left),y:d.pageY-((h&&h.scrollY||0)+A.top)}}class ct{constructor(n){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=n,this.emitter=new l,n.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),n.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),n.addEventListener("touchend",this.onTouchEnd_),n.addEventListener("mousedown",this.onMouseDown_)}computePosition_(n){const h=this.elem_.getBoundingClientRect();return{bounds:{width:h.width,height:h.height},point:n?{x:n.x,y:n.y}:null}}onMouseDown_(n){var h;n.preventDefault(),(h=n.currentTarget)===null||h===void 0||h.focus();const A=this.elem_.ownerDocument;A.addEventListener("mousemove",this.onDocumentMouseMove_),A.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:n.altKey,data:this.computePosition_(dn(n,this.elem_)),sender:this,shiftKey:n.shiftKey})}onDocumentMouseMove_(n){this.emitter.emit("move",{altKey:n.altKey,data:this.computePosition_(dn(n,this.elem_)),sender:this,shiftKey:n.shiftKey})}onDocumentMouseUp_(n){const h=this.elem_.ownerDocument;h.removeEventListener("mousemove",this.onDocumentMouseMove_),h.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:n.altKey,data:this.computePosition_(dn(n,this.elem_)),sender:this,shiftKey:n.shiftKey})}onTouchStart_(n){n.preventDefault();const h=n.targetTouches.item(0),A=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:n.altKey,data:this.computePosition_(h?{x:h.clientX-A.left,y:h.clientY-A.top}:void 0),sender:this,shiftKey:n.shiftKey}),this.lastTouch_=h}onTouchMove_(n){const h=n.targetTouches.item(0),A=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:n.altKey,data:this.computePosition_(h?{x:h.clientX-A.left,y:h.clientY-A.top}:void 0),sender:this,shiftKey:n.shiftKey}),this.lastTouch_=h}onTouchEnd_(n){var h;const A=(h=n.targetTouches.item(0))!==null&&h!==void 0?h:this.lastTouch_,k=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:n.altKey,data:this.computePosition_(A?{x:A.clientX-k.left,y:A.clientY-k.top}:void 0),sender:this,shiftKey:n.shiftKey})}}function Fe(d,n,h,A,k){const j=(d-n)/(h-n);return A+j*(k-A)}function ii(d){return String(d.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Pe(d,n,h){return Math.min(Math.max(d,n),h)}function pn(d,n){return(d%n+n)%n}const He=m("txt");class nr{constructor(n,h){this.onChange_=this.onChange_.bind(this),this.props_=h.props,this.props_.emitter.on("change",this.onChange_),this.element=n.createElement("div"),this.element.classList.add(He(),He(void 0,"num")),h.arrayPosition&&this.element.classList.add(He(void 0,h.arrayPosition)),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("input");A.classList.add(He("i")),A.type="text",h.viewProps.bindDisabled(A),this.element.appendChild(A),this.inputElement=A,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=h.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(He()),this.inputElement.classList.add(He("i"));const k=n.createElement("div");k.classList.add(He("k")),this.element.appendChild(k),this.knobElement=k;const j=n.createElementNS(fe,"svg");j.classList.add(He("g")),this.knobElement.appendChild(j);const ie=n.createElementNS(fe,"path");ie.classList.add(He("gb")),j.appendChild(ie),this.guideBodyElem_=ie;const he=n.createElementNS(fe,"path");he.classList.add(He("gh")),j.appendChild(he),this.guideHeadElem_=he;const pe=n.createElement("div");pe.classList.add(m("tt")()),this.knobElement.appendChild(pe),this.tooltipElem_=pe,h.value.emitter.on("change",this.onChange_),this.value=h.value,this.refresh()}onDraggingChange_(n){if(n.rawValue===null){this.element.classList.remove(He(void 0,"drg"));return}this.element.classList.add(He(void 0,"drg"));const h=n.rawValue/this.props_.get("draggingScale"),A=h+(h>0?-1:h<0?1:0),k=Pe(-A,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${A+k},0 L${A},4 L${A+k},8`,`M ${h},-1 L${h},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${h},4`);const j=this.props_.get("formatter");this.tooltipElem_.textContent=j(this.value.rawValue),this.tooltipElem_.style.left=`${h}px`}refresh(){const n=this.props_.get("formatter");this.inputElement.value=n(this.value.rawValue)}onChange_(){this.refresh()}}class Nt{constructor(n,h){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=h.baseStep,this.parser_=h.parser,this.props=h.props,this.value=h.value,this.viewProps=h.viewProps,this.dragging_=F(null),this.view=new nr(n,{arrayPosition:h.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const A=new ct(this.view.knobElement);A.emitter.on("down",this.onPointerDown_),A.emitter.on("move",this.onPointerMove_),A.emitter.on("up",this.onPointerUp_)}onInputChange_(n){const A=n.currentTarget.value,k=this.parser_(A);x(k)||(this.value.rawValue=k),this.view.refresh()}onInputKeyDown_(n){const h=Ge(this.baseStep_,Ot(n));h!==0&&this.value.setRawValue(this.value.rawValue+h,{forceEmit:!1,last:!1})}onInputKeyUp_(n){Ge(this.baseStep_,Ot(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(n){if(!n.point)return null;const h=n.point.x-n.bounds.width/2;return this.originRawValue_+h*this.props.get("draggingScale")}onPointerMove_(n){const h=this.computeDraggingValue_(n.data);h!==null&&(this.value.setRawValue(h,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(n){const h=this.computeDraggingValue_(n.data);h!==null&&(this.value.setRawValue(h,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const mn=m("sld");class ir{constructor(n,h){this.onChange_=this.onChange_.bind(this),this.props_=h.props,this.props_.emitter.on("change",this.onChange_),this.element=n.createElement("div"),this.element.classList.add(mn()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("div");A.classList.add(mn("t")),h.viewProps.bindTabIndex(A),this.element.appendChild(A),this.trackElement=A;const k=n.createElement("div");k.classList.add(mn("k")),this.trackElement.appendChild(k),this.knobElement=k,h.value.emitter.on("change",this.onChange_),this.value=h.value,this.update_()}update_(){const n=Pe(Fe(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${n}%`}onChange_(){this.update_()}}class rr{constructor(n,h){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=h.baseStep,this.value=h.value,this.viewProps=h.viewProps,this.props=h.props,this.view=new ir(n,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ct(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,h){!n.point||this.value.setRawValue(Fe(Pe(n.point.x,0,n.bounds.width),0,n.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),h)}onPointerDownOrMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){const h=Ge(this.baseStep_,Qe(n));h!==0&&this.value.setRawValue(this.value.rawValue+h,{forceEmit:!1,last:!1})}onKeyUp_(n){Ge(this.baseStep_,Qe(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const fn=m("sldtxt");class or{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(fn());const A=n.createElement("div");A.classList.add(fn("s")),this.sliderView_=h.sliderView,A.appendChild(this.sliderView_.element),this.element.appendChild(A);const k=n.createElement("div");k.classList.add(fn("t")),this.textView_=h.textView,k.appendChild(this.textView_.element),this.element.appendChild(k)}}class gn{constructor(n,h){this.value=h.value,this.viewProps=h.viewProps,this.sliderC_=new rr(n,{baseStep:h.baseStep,props:h.sliderProps,value:h.value,viewProps:this.viewProps}),this.textC_=new Nt(n,{baseStep:h.baseStep,parser:h.parser,props:h.textProps,value:h.value,viewProps:h.viewProps}),this.view=new or(n,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Ft(d,n){d.write(n)}function Ht(d){const n=H;if(Array.isArray(d))return n.required.array(n.required.object({text:n.required.string,value:n.required.raw}))(d).value;if(typeof d=="object")return n.required.raw(d).value}function ri(d){if(d==="inline"||d==="popup")return d}function ot(d){const n=H;return n.required.object({max:n.optional.number,min:n.optional.number,step:n.optional.number})(d).value}function oi(d){if(Array.isArray(d))return d;const n=[];return Object.keys(d).forEach(h=>{n.push({text:h,value:d[h]})}),n}function vn(d){return x(d)?null:new Rt(oi(d))}function _n(d){const n=d?qe(d,Rt):null;return n?n.options:null}function sr(d){const n=d?qe(d,lt):null;return n?n.step:null}function jt(d,n){const h=d&&qe(d,lt);return h?ii(h.step):Math.max(ii(n),2)}function gt(d){const n=sr(d);return n!=null?n:1}function vt(d,n){var h;const A=d&&qe(d,lt),k=Math.abs((h=A==null?void 0:A.step)!==null&&h!==void 0?h:n);return k===0?.1:Math.pow(10,Math.floor(Math.log10(k))-1)}const Xt=m("ckb");class ar{constructor(n,h){this.onValueChange_=this.onValueChange_.bind(this),this.element=n.createElement("div"),this.element.classList.add(Xt()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("label");A.classList.add(Xt("l")),this.element.appendChild(A);const k=n.createElement("input");k.classList.add(Xt("i")),k.type="checkbox",A.appendChild(k),this.inputElement=k,h.viewProps.bindDisabled(this.inputElement);const j=n.createElement("div");j.classList.add(Xt("w")),A.appendChild(j);const ie=ue(n,"check");j.appendChild(ie),h.value.emitter.on("change",this.onValueChange_),this.value=h.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class lr{constructor(n,h){this.onInputChange_=this.onInputChange_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.view=new ar(n,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(n){const h=n.currentTarget;this.value.rawValue=h.checked}}function cr(d){const n=[],h=vn(d.options);return h&&n.push(h),new Ye(n)}const ur={id:"input-bool",type:"input",accept:(d,n)=>{if(typeof d!="boolean")return null;const A=$(n,{options:H.optional.custom(Ht)});return A?{initialValue:d,params:A}:null},binding:{reader:d=>Xn,constraint:d=>cr(d.params),writer:d=>Ft},controller:d=>{var n;const h=d.document,A=d.value,k=d.constraint;return k&&qe(k,Rt)?new Tt(h,{props:B.fromObject({options:(n=_n(k))!==null&&n!==void 0?n:[]}),value:A,viewProps:d.viewProps}):new lr(h,{value:A,viewProps:d.viewProps})}},ut=m("col");class hr{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(ut()),h.foldable.bindExpandedClass(this.element,ut(void 0,"expanded")),E(h.foldable,"completed",g(this.element,ut(void 0,"cpl")));const A=n.createElement("div");A.classList.add(ut("h")),this.element.appendChild(A);const k=n.createElement("div");k.classList.add(ut("s")),A.appendChild(k),this.swatchElement=k;const j=n.createElement("div");if(j.classList.add(ut("t")),A.appendChild(j),this.textElement=j,h.pickerLayout==="inline"){const ie=n.createElement("div");ie.classList.add(ut("p")),this.element.appendChild(ie),this.pickerElement=ie}else this.pickerElement=null}}function dr(d,n,h){const A=Pe(d/255,0,1),k=Pe(n/255,0,1),j=Pe(h/255,0,1),ie=Math.max(A,k,j),he=Math.min(A,k,j),pe=ie-he;let me=0,xe=0;const Ie=(he+ie)/2;return pe!==0&&(xe=pe/(1-Math.abs(ie+he-1)),A===ie?me=(k-j)/pe:k===ie?me=2+(j-A)/pe:me=4+(A-k)/pe,me=me/6+(me<0?1:0)),[me*360,xe*100,Ie*100]}function pr(d,n,h){const A=(d%360+360)%360,k=Pe(n/100,0,1),j=Pe(h/100,0,1),ie=(1-Math.abs(2*j-1))*k,he=ie*(1-Math.abs(A/60%2-1)),pe=j-ie/2;let me,xe,Ie;return A>=0&&A<60?[me,xe,Ie]=[ie,he,0]:A>=60&&A<120?[me,xe,Ie]=[he,ie,0]:A>=120&&A<180?[me,xe,Ie]=[0,ie,he]:A>=180&&A<240?[me,xe,Ie]=[0,he,ie]:A>=240&&A<300?[me,xe,Ie]=[he,0,ie]:[me,xe,Ie]=[ie,0,he],[(me+pe)*255,(xe+pe)*255,(Ie+pe)*255]}function mr(d,n,h){const A=Pe(d/255,0,1),k=Pe(n/255,0,1),j=Pe(h/255,0,1),ie=Math.max(A,k,j),he=Math.min(A,k,j),pe=ie-he;let me;pe===0?me=0:ie===A?me=60*(((k-j)/pe%6+6)%6):ie===k?me=60*((j-A)/pe+2):me=60*((A-k)/pe+4);const xe=ie===0?0:pe/ie,Ie=ie;return[me,xe*100,Ie*100]}function si(d,n,h){const A=pn(d,360),k=Pe(n/100,0,1),j=Pe(h/100,0,1),ie=j*k,he=ie*(1-Math.abs(A/60%2-1)),pe=j-ie;let me,xe,Ie;return A>=0&&A<60?[me,xe,Ie]=[ie,he,0]:A>=60&&A<120?[me,xe,Ie]=[he,ie,0]:A>=120&&A<180?[me,xe,Ie]=[0,ie,he]:A>=180&&A<240?[me,xe,Ie]=[0,he,ie]:A>=240&&A<300?[me,xe,Ie]=[he,0,ie]:[me,xe,Ie]=[ie,0,he],[(me+pe)*255,(xe+pe)*255,(Ie+pe)*255]}function fr(d,n,h){const A=h+n*(100-Math.abs(2*h-100))/200;return[d,A!==0?n*(100-Math.abs(2*h-100))/A:0,h+n*(100-Math.abs(2*h-100))/(2*100)]}function gr(d,n,h){const A=100-Math.abs(h*(200-n)/100-100);return[d,A!==0?n*h/A:0,h*(200-n)/(2*100)]}function _t(d){return[d[0],d[1],d[2]]}function ai(d,n){return[d[0],d[1],d[2],n]}const vr={hsl:{hsl:(d,n,h)=>[d,n,h],hsv:fr,rgb:pr},hsv:{hsl:gr,hsv:(d,n,h)=>[d,n,h],rgb:si},rgb:{hsl:dr,hsv:mr,rgb:(d,n,h)=>[d,n,h]}};function _r(d,n,h){return vr[n][h](...d)}const Kt={hsl:d=>{var n;return[pn(d[0],360),Pe(d[1],0,100),Pe(d[2],0,100),Pe((n=d[3])!==null&&n!==void 0?n:1,0,1)]},hsv:d=>{var n;return[pn(d[0],360),Pe(d[1],0,100),Pe(d[2],0,100),Pe((n=d[3])!==null&&n!==void 0?n:1,0,1)]},rgb:d=>{var n;return[Pe(d[0],0,255),Pe(d[1],0,255),Pe(d[2],0,255),Pe((n=d[3])!==null&&n!==void 0?n:1,0,1)]}};function zt(d,n){return typeof d!="object"||x(d)?!1:n in d&&typeof d[n]=="number"}class we{constructor(n,h){this.mode_=h,this.comps_=Kt[h](n)}static black(){return new we([0,0,0],"rgb")}static fromObject(n){const h="a"in n?[n.r,n.g,n.b,n.a]:[n.r,n.g,n.b];return new we(h,"rgb")}static toRgbaObject(n){return n.toRgbaObject()}static isRgbColorObject(n){return zt(n,"r")&&zt(n,"g")&&zt(n,"b")}static isRgbaColorObject(n){return this.isRgbColorObject(n)&&zt(n,"a")}static isColorObject(n){return this.isRgbColorObject(n)}static equals(n,h){if(n.mode_!==h.mode_)return!1;const A=n.comps_,k=h.comps_;for(let j=0;j<A.length;j++)if(A[j]!==k[j])return!1;return!0}get mode(){return this.mode_}getComponents(n){return ai(_r(_t(this.comps_),this.mode_,n||this.mode_),this.comps_[3])}toRgbaObject(){const n=this.getComponents("rgb");return{r:n[0],g:n[1],b:n[2],a:n[3]}}}const st=m("colp");class Er{constructor(n,h){this.alphaViews_=null,this.element=n.createElement("div"),this.element.classList.add(st());const A=n.createElement("div");A.classList.add(st("hsv"));const k=n.createElement("div");k.classList.add(st("sv")),this.svPaletteView_=h.svPaletteView,k.appendChild(this.svPaletteView_.element),A.appendChild(k);const j=n.createElement("div");j.classList.add(st("h")),this.hPaletteView_=h.hPaletteView,j.appendChild(this.hPaletteView_.element),A.appendChild(j),this.element.appendChild(A);const ie=n.createElement("div");if(ie.classList.add(st("rgb")),this.textView_=h.textView,ie.appendChild(this.textView_.element),this.element.appendChild(ie),h.alphaViews){this.alphaViews_={palette:h.alphaViews.palette,text:h.alphaViews.text};const he=n.createElement("div");he.classList.add(st("a"));const pe=n.createElement("div");pe.classList.add(st("ap")),pe.appendChild(this.alphaViews_.palette.element),he.appendChild(pe);const me=n.createElement("div");me.classList.add(st("at")),me.appendChild(this.alphaViews_.text.element),he.appendChild(me),this.element.appendChild(he)}}get allFocusableElements(){const n=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(h=>h.inputElement)];return this.alphaViews_&&n.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),n}}function En(d){const n=H;return $(d,{alpha:n.optional.boolean,expanded:n.optional.boolean,picker:n.optional.custom(ri)})}function at(d){return d?.1:1}function Ke(d,n){const h=d.match(/^(.+)%$/);return Math.min(h?parseFloat(h[1])*.01*n:parseFloat(d),n)}const br={deg:d=>d,grad:d=>d*360/400,rad:d=>d*360/(2*Math.PI),turn:d=>d*360};function i(d){const n=d.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!n)return parseFloat(d);const h=parseFloat(n[1]),A=n[2];return br[A](h)}const e={"func.rgb":d=>{const n=d.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const h=[Ke(n[1],255),Ke(n[2],255),Ke(n[3],255)];return isNaN(h[0])||isNaN(h[1])||isNaN(h[2])?null:new we(h,"rgb")},"func.rgba":d=>{const n=d.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const h=[Ke(n[1],255),Ke(n[2],255),Ke(n[3],255),Ke(n[4],1)];return isNaN(h[0])||isNaN(h[1])||isNaN(h[2])||isNaN(h[3])?null:new we(h,"rgb")},"func.hsl":d=>{const n=d.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const h=[i(n[1]),Ke(n[2],100),Ke(n[3],100)];return isNaN(h[0])||isNaN(h[1])||isNaN(h[2])?null:new we(h,"hsl")},"func.hsla":d=>{const n=d.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!n)return null;const h=[i(n[1]),Ke(n[2],100),Ke(n[3],100),Ke(n[4],1)];return isNaN(h[0])||isNaN(h[1])||isNaN(h[2])||isNaN(h[3])?null:new we(h,"hsl")},"hex.rgb":d=>{const n=d.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(n)return new we([parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)],"rgb");const h=d.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return h?new we([parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)],"rgb"):null},"hex.rgba":d=>{const n=d.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(n)return new we([parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),Fe(parseInt(n[4]+n[4],16),0,255,0,1)],"rgb");const h=d.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return h?new we([parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16),Fe(parseInt(h[4],16),0,255,0,1)],"rgb"):null}};function t(d){return Object.keys(e).reduce((h,A)=>h||(e[A](d)?A:null),null)}const o=d=>{const n=t(d);return n?e[n](d):null};function c(d){return d==="func.hsla"||d==="func.rgba"||d==="hex.rgba"}function y(d){if(typeof d=="string"){const n=o(d);if(n)return n}return we.black()}function D(d){const n=Pe(Math.floor(d),0,255).toString(16);return n.length===1?`0${n}`:n}function V(d,n="#"){const h=_t(d.getComponents("rgb")).map(D).join("");return`${n}${h}`}function Z(d,n="#"){const h=d.getComponents("rgb"),A=[h[0],h[1],h[2],h[3]*255].map(D).join("");return`${n}${A}`}function re(d){const n=Ve(0);return`rgb(${_t(d.getComponents("rgb")).map(A=>n(A)).join(", ")})`}function ae(d){const n=Ve(2),h=Ve(0);return`rgba(${d.getComponents("rgb").map((k,j)=>(j===3?n:h)(k)).join(", ")})`}function le(d){const n=[Ve(0),Wt,Wt];return`hsl(${_t(d.getComponents("hsl")).map((A,k)=>n[k](A)).join(", ")})`}function ve(d){const n=[Ve(0),Wt,Wt,Ve(2)];return`hsla(${d.getComponents("hsl").map((A,k)=>n[k](A)).join(", ")})`}const Ae={"func.hsl":le,"func.hsla":ve,"func.rgb":re,"func.rgba":ae,"hex.rgb":V,"hex.rgba":Z};function Ee(d){return Ae[d]}const be=m("apl");class Ze{constructor(n,h){this.onValueChange_=this.onValueChange_.bind(this),this.value=h.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(be()),h.viewProps.bindTabIndex(this.element);const A=n.createElement("div");A.classList.add(be("b")),this.element.appendChild(A);const k=n.createElement("div");k.classList.add(be("c")),A.appendChild(k),this.colorElem_=k;const j=n.createElement("div");j.classList.add(be("m")),this.element.appendChild(j),this.markerElem_=j;const ie=n.createElement("div");ie.classList.add(be("p")),this.markerElem_.appendChild(ie),this.previewElem_=ie,this.update_()}update_(){const n=this.value.rawValue,h=n.getComponents("rgb"),A=new we([h[0],h[1],h[2],0],"rgb"),k=new we([h[0],h[1],h[2],255],"rgb"),j=["to right",ae(A),ae(k)];this.colorElem_.style.background=`linear-gradient(${j.join(",")})`,this.previewElem_.style.backgroundColor=ae(n);const ie=Fe(h[3],0,1,0,100);this.markerElem_.style.left=`${ie}%`}onValueChange_(){this.update_()}}class je{constructor(n,h){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.view=new Ze(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ct(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,h){if(!n.point)return;const A=n.point.x/n.bounds.width,k=this.value.rawValue,[j,ie,he]=k.getComponents("hsv");this.value.setRawValue(new we([j,ie,he,A],"hsv"),h)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){const h=Ge(at(!0),Qe(n));if(h===0)return;const A=this.value.rawValue,[k,j,ie,he]=A.getComponents("hsv");this.value.setRawValue(new we([k,j,ie,he+h],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(n){Ge(at(!0),Qe(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Je=m("coltxt");function Cr(d){const n=d.createElement("select"),h=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return n.appendChild(h.reduce((A,k)=>{const j=d.createElement("option");return j.textContent=k.text,j.value=k.value,A.appendChild(j),A},d.createDocumentFragment())),n}class so{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(Je());const A=n.createElement("div");A.classList.add(Je("m")),this.modeElem_=Cr(n),this.modeElem_.classList.add(Je("ms")),A.appendChild(this.modeSelectElement);const k=n.createElement("div");k.classList.add(Je("mm")),k.appendChild(ue(n,"dropdown")),A.appendChild(k),this.element.appendChild(A);const j=n.createElement("div");j.classList.add(Je("w")),this.element.appendChild(j),this.textsElem_=j,this.textViews_=h.textViews,this.applyTextViews_(),b(h.colorMode,ie=>{this.modeElem_.value=ie})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(n){this.textViews_=n,this.applyTextViews_()}applyTextViews_(){ye(this.textsElem_);const n=this.element.ownerDocument;this.textViews_.forEach(h=>{const A=n.createElement("div");A.classList.add(Je("c")),A.appendChild(h.element),this.textsElem_.appendChild(A)})}}const ao=Ve(0),lo={rgb:()=>new $e({min:0,max:255}),hsl:d=>d===0?new $e({min:0,max:360}):new $e({min:0,max:100}),hsv:d=>d===0?new $e({min:0,max:360}):new $e({min:0,max:100})};function wr(d,n,h){return new Nt(d,{arrayPosition:h===0?"fst":h===3-1?"lst":"mid",baseStep:at(!1),parser:n.parser,props:B.fromObject({draggingScale:1,formatter:ao}),value:F(0,{constraint:lo[n.colorMode](h)}),viewProps:n.viewProps})}class co{constructor(n,h){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=h.parser,this.value=h.value,this.viewProps=h.viewProps,this.colorMode=F(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(n),this.view=new so(n,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(n){const h={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},A=[wr(n,h,0),wr(n,h,1),wr(n,h,2)];return A.forEach((k,j)=>{Mt({primary:this.value,secondary:k.value,forward:ie=>ie.rawValue.getComponents(this.colorMode.rawValue)[j],backward:(ie,he)=>{const pe=this.colorMode.rawValue,me=ie.rawValue.getComponents(pe);return me[j]=he.rawValue,new we(ai(_t(me),me[3]),pe)}})}),A}onModeSelectChange_(n){const h=n.currentTarget;this.colorMode.rawValue=h.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const yr=m("hpl");class uo{constructor(n,h){this.onValueChange_=this.onValueChange_.bind(this),this.value=h.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(yr()),h.viewProps.bindTabIndex(this.element);const A=n.createElement("div");A.classList.add(yr("c")),this.element.appendChild(A);const k=n.createElement("div");k.classList.add(yr("m")),this.element.appendChild(k),this.markerElem_=k,this.update_()}update_(){const n=this.value.rawValue,[h]=n.getComponents("hsv");this.markerElem_.style.backgroundColor=re(new we([h,100,100],"hsv"));const A=Fe(h,0,360,0,100);this.markerElem_.style.left=`${A}%`}onValueChange_(){this.update_()}}class ho{constructor(n,h){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.view=new uo(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ct(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,h){if(!n.point)return;const A=Fe(n.point.x,0,n.bounds.width,0,360),k=this.value.rawValue,[,j,ie,he]=k.getComponents("hsv");this.value.setRawValue(new we([A,j,ie,he],"hsv"),h)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){const h=Ge(at(!1),Qe(n));if(h===0)return;const A=this.value.rawValue,[k,j,ie,he]=A.getComponents("hsv");this.value.setRawValue(new we([k+h,j,ie,he],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(n){Ge(at(!1),Qe(n))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Ar=m("svp"),Br=64;class po{constructor(n,h){this.onValueChange_=this.onValueChange_.bind(this),this.value=h.value,this.value.emitter.on("change",this.onValueChange_),this.element=n.createElement("div"),this.element.classList.add(Ar()),h.viewProps.bindTabIndex(this.element);const A=n.createElement("canvas");A.height=Br,A.width=Br,A.classList.add(Ar("c")),this.element.appendChild(A),this.canvasElement=A;const k=n.createElement("div");k.classList.add(Ar("m")),this.element.appendChild(k),this.markerElem_=k,this.update_()}update_(){const n=ht(this.canvasElement);if(!n)return;const A=this.value.rawValue.getComponents("hsv"),k=this.canvasElement.width,j=this.canvasElement.height,ie=n.getImageData(0,0,k,j),he=ie.data;for(let xe=0;xe<j;xe++)for(let Ie=0;Ie<k;Ie++){const Pt=Fe(Ie,0,k,0,100),Cn=Fe(xe,0,j,100,0),wn=si(A[0],Pt,Cn),Zt=(xe*k+Ie)*4;he[Zt]=wn[0],he[Zt+1]=wn[1],he[Zt+2]=wn[2],he[Zt+3]=255}n.putImageData(ie,0,0);const pe=Fe(A[1],0,100,0,100);this.markerElem_.style.left=`${pe}%`;const me=Fe(A[2],0,100,100,0);this.markerElem_.style.top=`${me}%`}onValueChange_(){this.update_()}}class mo{constructor(n,h){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.view=new po(n,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ct(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(n,h){if(!n.point)return;const A=Fe(n.point.x,0,n.bounds.width,0,100),k=Fe(n.point.y,0,n.bounds.height,100,0),[j,,,ie]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new we([j,A,k,ie],"hsv"),h)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onKeyDown_(n){ni(n.key)&&n.preventDefault();const[h,A,k,j]=this.value.rawValue.getComponents("hsv"),ie=at(!1),he=Ge(ie,Qe(n)),pe=Ge(ie,Ot(n));he===0&&pe===0||this.value.setRawValue(new we([h,A+he,k+pe,j],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(n){const h=at(!1),A=Ge(h,Qe(n)),k=Ge(h,Ot(n));A===0&&k===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class fo{constructor(n,h){this.value=h.value,this.viewProps=h.viewProps,this.hPaletteC_=new ho(n,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new mo(n,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=h.supportsAlpha?{palette:new je(n,{value:this.value,viewProps:this.viewProps}),text:new Nt(n,{parser:nt,baseStep:.1,props:B.fromObject({draggingScale:.01,formatter:Ve(2)}),value:F(0,{constraint:new $e({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Mt({primary:this.value,secondary:this.alphaIcs_.text.value,forward:A=>A.rawValue.getComponents()[3],backward:(A,k)=>{const j=A.rawValue.getComponents();return j[3]=k.rawValue,new we(j,A.rawValue.mode)}}),this.textC_=new co(n,{parser:nt,value:this.value,viewProps:this.viewProps}),this.view=new Er(n,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:h.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const Sr=m("colsw");class go{constructor(n,h){this.onValueChange_=this.onValueChange_.bind(this),h.value.emitter.on("change",this.onValueChange_),this.value=h.value,this.element=n.createElement("div"),this.element.classList.add(Sr()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("div");A.classList.add(Sr("sw")),this.element.appendChild(A),this.swatchElem_=A;const k=n.createElement("button");k.classList.add(Sr("b")),h.viewProps.bindDisabled(k),this.element.appendChild(k),this.buttonElement=k,this.update_()}update_(){const n=this.value.rawValue;this.swatchElem_.style.backgroundColor=Z(n)}onValueChange_(){this.update_()}}class vo{constructor(n,h){this.value=h.value,this.viewProps=h.viewProps,this.view=new go(n,{value:this.value,viewProps:this.viewProps})}}class Rr{constructor(n,h){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.foldable_=yt.create(h.expanded),this.swatchC_=new vo(n,{value:this.value,viewProps:this.viewProps});const A=this.swatchC_.view.buttonElement;A.addEventListener("blur",this.onButtonBlur_),A.addEventListener("click",this.onButtonClick_),this.textC_=new Gt(n,{parser:h.parser,props:B.fromObject({formatter:h.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new hr(n,{foldable:this.foldable_,pickerLayout:h.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=h.pickerLayout==="popup"?new Hn(n,{viewProps:this.viewProps}):null;const k=new fo(n,{supportsAlpha:h.supportsAlpha,value:this.value,viewProps:this.viewProps});k.view.allFocusableElements.forEach(j=>{j.addEventListener("blur",this.onPopupChildBlur_),j.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=k,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(k.view.element),Mt({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:j=>j.rawValue,backward:(j,ie)=>ie.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Bt(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(n){if(!this.popC_)return;const h=this.view.element,A=n.relatedTarget;(!A||!h.contains(A))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(n){if(!this.popC_)return;const h=this.popC_.view.element,A=Me(n);A&&h.contains(A)||A&&A===this.swatchC_.view.buttonElement&&!Ce(h.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(n){this.popC_?n.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&n.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function _o(d){return we.isColorObject(d)?we.fromObject(d):we.black()}function Eo(d){return _t(d.getComponents("rgb")).reduce((n,h)=>n<<8|Math.floor(h)&255,0)}function bo(d){return d.getComponents("rgb").reduce((n,h,A)=>{const k=Math.floor(A===3?h*255:h)&255;return n<<8|k},0)>>>0}function Co(d){return new we([d>>16&255,d>>8&255,d&255],"rgb")}function wo(d){return new we([d>>24&255,d>>16&255,d>>8&255,Fe(d&255,0,255,0,1)],"rgb")}function yo(d){return typeof d!="number"?we.black():Co(d)}function Ao(d){return typeof d!="number"?we.black():wo(d)}function So(d){const n=Ee(d);return(h,A)=>{Ft(h,n(A))}}function Ro(d){const n=d?bo:Eo;return(h,A)=>{Ft(h,n(A))}}function To(d,n){const h=n.toRgbaObject();d.writeProperty("r",h.r),d.writeProperty("g",h.g),d.writeProperty("b",h.b),d.writeProperty("a",h.a)}function xo(d,n){const h=n.toRgbaObject();d.writeProperty("r",h.r),d.writeProperty("g",h.g),d.writeProperty("b",h.b)}function Lo(d){return d?To:xo}function Tr(d){return"alpha"in d&&d.alpha===!0}function Io(d){return d?n=>Z(n,"0x"):n=>V(n,"0x")}const Mo={id:"input-color-number",type:"input",accept:(d,n)=>{if(typeof d!="number"||!("view"in n)||n.view!=="color")return null;const h=En(n);return h?{initialValue:d,params:h}:null},binding:{reader:d=>Tr(d.params)?Ao:yo,equals:we.equals,writer:d=>Ro(Tr(d.params))},controller:d=>{const n=Tr(d.params),h="expanded"in d.params?d.params.expanded:void 0,A="picker"in d.params?d.params.picker:void 0;return new Rr(d.document,{expanded:h!=null?h:!1,formatter:Io(n),parser:o,pickerLayout:A!=null?A:"popup",supportsAlpha:n,value:d.value,viewProps:d.viewProps})}};function Oo(d){return we.isRgbaColorObject(d)}const No={id:"input-color-object",type:"input",accept:(d,n)=>{if(!we.isColorObject(d))return null;const h=En(n);return h?{initialValue:d,params:h}:null},binding:{reader:d=>_o,equals:we.equals,writer:d=>Lo(Oo(d.initialValue))},controller:d=>{const n=we.isRgbaColorObject(d.initialValue),h="expanded"in d.params?d.params.expanded:void 0,A="picker"in d.params?d.params.picker:void 0,k=n?Z:V;return new Rr(d.document,{expanded:h!=null?h:!1,formatter:k,parser:o,pickerLayout:A!=null?A:"popup",supportsAlpha:n,value:d.value,viewProps:d.viewProps})}},Fo={id:"input-color-string",type:"input",accept:(d,n)=>{if(typeof d!="string"||"view"in n&&n.view==="text"||!t(d))return null;const A=En(n);return A?{initialValue:d,params:A}:null},binding:{reader:d=>y,equals:we.equals,writer:d=>{const n=t(d.initialValue);if(!n)throw a.shouldNeverHappen();return So(n)}},controller:d=>{const n=t(d.initialValue);if(!n)throw a.shouldNeverHappen();const h=Ee(n),A="expanded"in d.params?d.params.expanded:void 0,k="picker"in d.params?d.params.picker:void 0;return new Rr(d.document,{expanded:A!=null?A:!1,formatter:h,parser:o,pickerLayout:k!=null?k:"popup",supportsAlpha:c(n),value:d.value,viewProps:d.viewProps})}};class Et{constructor(n){this.components=n.components,this.asm_=n.assembly}constrain(n){const h=this.asm_.toComponents(n).map((A,k)=>{var j,ie;return(ie=(j=this.components[k])===null||j===void 0?void 0:j.constrain(A))!==null&&ie!==void 0?ie:A});return this.asm_.fromComponents(h)}}const $r=m("pndtxt");class Po{constructor(n,h){this.textViews=h.textViews,this.element=n.createElement("div"),this.element.classList.add($r()),this.textViews.forEach(A=>{const k=n.createElement("div");k.classList.add($r("a")),k.appendChild(A.element),this.element.appendChild(k)})}}function ko(d,n,h){return new Nt(d,{arrayPosition:h===0?"fst":h===n.axes.length-1?"lst":"mid",baseStep:n.axes[h].baseStep,parser:n.parser,props:n.axes[h].textProps,value:F(0,{constraint:n.axes[h].constraint}),viewProps:n.viewProps})}class xr{constructor(n,h){this.value=h.value,this.viewProps=h.viewProps,this.acs_=h.axes.map((A,k)=>ko(n,h,k)),this.acs_.forEach((A,k)=>{Mt({primary:this.value,secondary:A.value,forward:j=>h.assembly.toComponents(j.rawValue)[k],backward:(j,ie)=>{const he=h.assembly.toComponents(j.rawValue);return he[k]=ie.rawValue,h.assembly.fromComponents(he)}})}),this.view=new Po(n,{textViews:this.acs_.map(A=>A.view)})}}function Bo(d){return"step"in d&&!x(d.step)?new lt(d.step):null}function $o(d){return"max"in d&&!x(d.max)||"min"in d&&!x(d.min)?new $e({max:d.max,min:d.min}):null}function Do(d){const n=[],h=Bo(d);h&&n.push(h);const A=$o(d);A&&n.push(A);const k=vn(d.options);return k&&n.push(k),new Ye(n)}function Uo(d){const n=d?qe(d,$e):null;return n?[n.minValue,n.maxValue]:[void 0,void 0]}function Vo(d){const[n,h]=Uo(d);return[n!=null?n:0,h!=null?h:100]}const Go={id:"input-number",type:"input",accept:(d,n)=>{if(typeof d!="number")return null;const h=H,A=$(n,{format:h.optional.function,max:h.optional.number,min:h.optional.number,options:h.optional.custom(Ht),step:h.optional.number});return A?{initialValue:d,params:A}:null},binding:{reader:d=>Ne,constraint:d=>Do(d.params),writer:d=>Ft},controller:d=>{var n,h;const A=d.value,k=d.constraint;if(k&&qe(k,Rt))return new Tt(d.document,{props:B.fromObject({options:(n=_n(k))!==null&&n!==void 0?n:[]}),value:A,viewProps:d.viewProps});const j=(h="format"in d.params?d.params.format:void 0)!==null&&h!==void 0?h:Ve(jt(k,A.rawValue));if(k&&qe(k,$e)){const[ie,he]=Vo(k);return new gn(d.document,{baseStep:gt(k),parser:nt,sliderProps:B.fromObject({maxValue:he,minValue:ie}),textProps:B.fromObject({draggingScale:vt(k,A.rawValue),formatter:j}),value:A,viewProps:d.viewProps})}return new Nt(d.document,{baseStep:gt(k),parser:nt,props:B.fromObject({draggingScale:vt(k,A.rawValue),formatter:j}),value:A,viewProps:d.viewProps})}};class bt{constructor(n=0,h=0){this.x=n,this.y=h}getComponents(){return[this.x,this.y]}static isObject(n){if(x(n))return!1;const h=n.x,A=n.y;return!(typeof h!="number"||typeof A!="number")}static equals(n,h){return n.x===h.x&&n.y===h.y}toObject(){return{x:this.x,y:this.y}}}const Dr={toComponents:d=>d.getComponents(),fromComponents:d=>new bt(...d)},Yt=m("p2d");class Wo{constructor(n,h){this.element=n.createElement("div"),this.element.classList.add(Yt()),h.viewProps.bindClassModifiers(this.element),b(h.expanded,g(this.element,Yt(void 0,"expanded")));const A=n.createElement("div");A.classList.add(Yt("h")),this.element.appendChild(A);const k=n.createElement("button");k.classList.add(Yt("b")),k.appendChild(ue(n,"p2dpad")),h.viewProps.bindDisabled(k),A.appendChild(k),this.buttonElement=k;const j=n.createElement("div");if(j.classList.add(Yt("t")),A.appendChild(j),this.textElement=j,h.pickerLayout==="inline"){const ie=n.createElement("div");ie.classList.add(Yt("p")),this.element.appendChild(ie),this.pickerElement=ie}else this.pickerElement=null}}const Ct=m("p2dp");class Ho{constructor(n,h){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=h.invertsY,this.maxValue_=h.maxValue,this.element=n.createElement("div"),this.element.classList.add(Ct()),h.layout==="popup"&&this.element.classList.add(Ct(void 0,"p"));const A=n.createElement("div");A.classList.add(Ct("p")),h.viewProps.bindTabIndex(A),this.element.appendChild(A),this.padElement=A;const k=n.createElementNS(fe,"svg");k.classList.add(Ct("g")),this.padElement.appendChild(k),this.svgElem_=k;const j=n.createElementNS(fe,"line");j.classList.add(Ct("ax")),j.setAttributeNS(null,"x1","0"),j.setAttributeNS(null,"y1","50%"),j.setAttributeNS(null,"x2","100%"),j.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(j);const ie=n.createElementNS(fe,"line");ie.classList.add(Ct("ax")),ie.setAttributeNS(null,"x1","50%"),ie.setAttributeNS(null,"y1","0"),ie.setAttributeNS(null,"x2","50%"),ie.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(ie);const he=n.createElementNS(fe,"line");he.classList.add(Ct("l")),he.setAttributeNS(null,"x1","50%"),he.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(he),this.lineElem_=he;const pe=n.createElement("div");pe.classList.add(Ct("m")),this.padElement.appendChild(pe),this.markerElem_=pe,h.value.emitter.on("change",this.onValueChange_),this.value=h.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[n,h]=this.value.rawValue.getComponents(),A=this.maxValue_,k=Fe(n,-A,+A,0,100),j=Fe(h,-A,+A,0,100),ie=this.invertsY_?100-j:j;this.lineElem_.setAttributeNS(null,"x2",`${k}%`),this.lineElem_.setAttributeNS(null,"y2",`${ie}%`),this.markerElem_.style.left=`${k}%`,this.markerElem_.style.top=`${ie}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Ur(d,n,h){return[Ge(n[0],Qe(d)),Ge(n[1],Ot(d))*(h?1:-1)]}class jo{constructor(n,h){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.baseSteps_=h.baseSteps,this.maxValue_=h.maxValue,this.invertsY_=h.invertsY,this.view=new Ho(n,{invertsY:this.invertsY_,layout:h.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new ct(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(n,h){if(!n.point)return;const A=this.maxValue_,k=Fe(n.point.x,0,n.bounds.width,-A,+A),j=Fe(this.invertsY_?n.bounds.height-n.point.y:n.point.y,0,n.bounds.height,-A,+A);this.value.setRawValue(new bt(k,j),h)}onPointerDown_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerMove_(n){this.handlePointerEvent_(n.data,{forceEmit:!1,last:!1})}onPointerUp_(n){this.handlePointerEvent_(n.data,{forceEmit:!0,last:!0})}onPadKeyDown_(n){ni(n.key)&&n.preventDefault();const[h,A]=Ur(n,this.baseSteps_,this.invertsY_);h===0&&A===0||this.value.setRawValue(new bt(this.value.rawValue.x+h,this.value.rawValue.y+A),{forceEmit:!1,last:!1})}onPadKeyUp_(n){const[h,A]=Ur(n,this.baseSteps_,this.invertsY_);h===0&&A===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Xo{constructor(n,h){var A,k;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.foldable_=yt.create(h.expanded),this.popC_=h.pickerLayout==="popup"?new Hn(n,{viewProps:this.viewProps}):null;const j=new jo(n,{baseSteps:[h.axes[0].baseStep,h.axes[1].baseStep],invertsY:h.invertsY,layout:h.pickerLayout,maxValue:h.maxValue,value:this.value,viewProps:this.viewProps});j.view.allFocusableElements.forEach(ie=>{ie.addEventListener("blur",this.onPopupChildBlur_),ie.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=j,this.textC_=new xr(n,{assembly:Dr,axes:h.axes,parser:h.parser,value:this.value,viewProps:this.viewProps}),this.view=new Wo(n,{expanded:this.foldable_.value("expanded"),pickerLayout:h.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(A=this.view.buttonElement)===null||A===void 0||A.addEventListener("blur",this.onPadButtonBlur_),(k=this.view.buttonElement)===null||k===void 0||k.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Mt({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:ie=>ie.rawValue,backward:(ie,he)=>he.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Bt(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(n){if(!this.popC_)return;const h=this.view.element,A=n.relatedTarget;(!A||!h.contains(A))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(n){if(!this.popC_)return;const h=this.popC_.view.element,A=Me(n);A&&h.contains(A)||A&&A===this.view.buttonElement&&!Ce(h.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(n){this.popC_?n.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&n.key==="Escape"&&this.view.buttonElement.focus()}}function Ko(d){return bt.isObject(d)?new bt(d.x,d.y):new bt}function zo(d,n){d.writeProperty("x",n.x),d.writeProperty("y",n.y)}function Vr(d){if(!d)return;const n=[];return x(d.step)||n.push(new lt(d.step)),(!x(d.max)||!x(d.min))&&n.push(new $e({max:d.max,min:d.min})),new Ye(n)}function Yo(d){return new Et({assembly:Dr,components:[Vr("x"in d?d.x:void 0),Vr("y"in d?d.y:void 0)]})}function Gr(d,n){const h=d&&qe(d,$e);if(h)return Math.max(Math.abs(h.minValue||0),Math.abs(h.maxValue||0));const A=gt(d);return Math.max(Math.abs(A)*10,Math.abs(n)*10)}function qo(d,n){const h=n instanceof Et?n.components[0]:void 0,A=n instanceof Et?n.components[1]:void 0,k=Gr(h,d.x),j=Gr(A,d.y);return Math.max(k,j)}function Wr(d,n){return{baseStep:gt(n),constraint:n,textProps:B.fromObject({draggingScale:vt(n,d),formatter:Ve(jt(n,d))})}}function Qo(d){if(!("y"in d))return!1;const n=d.y;return n&&"inverted"in n?!!n.inverted:!1}const Zo={id:"input-point2d",type:"input",accept:(d,n)=>{if(!bt.isObject(d))return null;const h=H,A=$(n,{expanded:h.optional.boolean,picker:h.optional.custom(ri),x:h.optional.custom(ot),y:h.optional.object({inverted:h.optional.boolean,max:h.optional.number,min:h.optional.number,step:h.optional.number})});return A?{initialValue:d,params:A}:null},binding:{reader:d=>Ko,constraint:d=>Yo(d.params),equals:bt.equals,writer:d=>zo},controller:d=>{const n=d.document,h=d.value,A=d.constraint;if(!(A instanceof Et))throw a.shouldNeverHappen();const k="expanded"in d.params?d.params.expanded:void 0,j="picker"in d.params?d.params.picker:void 0;return new Xo(n,{axes:[Wr(h.rawValue.x,A.components[0]),Wr(h.rawValue.y,A.components[1])],expanded:k!=null?k:!1,invertsY:Qo(d.params),maxValue:qo(h.rawValue,A),parser:nt,pickerLayout:j!=null?j:"popup",value:h,viewProps:d.viewProps})}};class qt{constructor(n=0,h=0,A=0){this.x=n,this.y=h,this.z=A}getComponents(){return[this.x,this.y,this.z]}static isObject(n){if(x(n))return!1;const h=n.x,A=n.y,k=n.z;return!(typeof h!="number"||typeof A!="number"||typeof k!="number")}static equals(n,h){return n.x===h.x&&n.y===h.y&&n.z===h.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Hr={toComponents:d=>d.getComponents(),fromComponents:d=>new qt(...d)};function Jo(d){return qt.isObject(d)?new qt(d.x,d.y,d.z):new qt}function es(d,n){d.writeProperty("x",n.x),d.writeProperty("y",n.y),d.writeProperty("z",n.z)}function Lr(d){if(!d)return;const n=[];return x(d.step)||n.push(new lt(d.step)),(!x(d.max)||!x(d.min))&&n.push(new $e({max:d.max,min:d.min})),new Ye(n)}function ts(d){return new Et({assembly:Hr,components:[Lr("x"in d?d.x:void 0),Lr("y"in d?d.y:void 0),Lr("z"in d?d.z:void 0)]})}function Ir(d,n){return{baseStep:gt(n),constraint:n,textProps:B.fromObject({draggingScale:vt(n,d),formatter:Ve(jt(n,d))})}}const ns={id:"input-point3d",type:"input",accept:(d,n)=>{if(!qt.isObject(d))return null;const h=H,A=$(n,{x:h.optional.custom(ot),y:h.optional.custom(ot),z:h.optional.custom(ot)});return A?{initialValue:d,params:A}:null},binding:{reader:d=>Jo,constraint:d=>ts(d.params),equals:qt.equals,writer:d=>es},controller:d=>{const n=d.value,h=d.constraint;if(!(h instanceof Et))throw a.shouldNeverHappen();return new xr(d.document,{assembly:Hr,axes:[Ir(n.rawValue.x,h.components[0]),Ir(n.rawValue.y,h.components[1]),Ir(n.rawValue.z,h.components[2])],parser:nt,value:n,viewProps:d.viewProps})}};class Qt{constructor(n=0,h=0,A=0,k=0){this.x=n,this.y=h,this.z=A,this.w=k}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(n){if(x(n))return!1;const h=n.x,A=n.y,k=n.z,j=n.w;return!(typeof h!="number"||typeof A!="number"||typeof k!="number"||typeof j!="number")}static equals(n,h){return n.x===h.x&&n.y===h.y&&n.z===h.z&&n.w===h.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const jr={toComponents:d=>d.getComponents(),fromComponents:d=>new Qt(...d)};function is(d){return Qt.isObject(d)?new Qt(d.x,d.y,d.z,d.w):new Qt}function rs(d,n){d.writeProperty("x",n.x),d.writeProperty("y",n.y),d.writeProperty("z",n.z),d.writeProperty("w",n.w)}function li(d){if(!d)return;const n=[];return x(d.step)||n.push(new lt(d.step)),(!x(d.max)||!x(d.min))&&n.push(new $e({max:d.max,min:d.min})),new Ye(n)}function os(d){return new Et({assembly:jr,components:[li("x"in d?d.x:void 0),li("y"in d?d.y:void 0),li("z"in d?d.z:void 0),li("w"in d?d.w:void 0)]})}function ss(d,n){return{baseStep:gt(n),constraint:n,textProps:B.fromObject({draggingScale:vt(n,d),formatter:Ve(jt(n,d))})}}const as={id:"input-point4d",type:"input",accept:(d,n)=>{if(!Qt.isObject(d))return null;const h=H,A=$(n,{x:h.optional.custom(ot),y:h.optional.custom(ot),z:h.optional.custom(ot),w:h.optional.custom(ot)});return A?{initialValue:d,params:A}:null},binding:{reader:d=>is,constraint:d=>os(d.params),equals:Qt.equals,writer:d=>rs},controller:d=>{const n=d.value,h=d.constraint;if(!(h instanceof Et))throw a.shouldNeverHappen();return new xr(d.document,{assembly:jr,axes:n.rawValue.getComponents().map((A,k)=>ss(A,h.components[k])),parser:nt,value:n,viewProps:d.viewProps})}};function ls(d){const n=[],h=vn(d.options);return h&&n.push(h),new Ye(n)}const cs={id:"input-string",type:"input",accept:(d,n)=>{if(typeof d!="string")return null;const A=$(n,{options:H.optional.custom(Ht)});return A?{initialValue:d,params:A}:null},binding:{reader:d=>ei,constraint:d=>ls(d.params),writer:d=>Ft},controller:d=>{var n;const h=d.document,A=d.value,k=d.constraint;return k&&qe(k,Rt)?new Tt(h,{props:B.fromObject({options:(n=_n(k))!==null&&n!==void 0?n:[]}),value:A,viewProps:d.viewProps}):new Gt(h,{parser:j=>j,props:B.fromObject({formatter:hn}),value:A,viewProps:d.viewProps})}},bn={monitor:{defaultInterval:200,defaultLineCount:3}},Xr=m("mll");class us{constructor(n,h){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=h.formatter,this.element=n.createElement("div"),this.element.classList.add(Xr()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("textarea");A.classList.add(Xr("i")),A.style.height=`calc(var(--bld-us) * ${h.lineCount})`,A.readOnly=!0,h.viewProps.bindDisabled(A),this.element.appendChild(A),this.textareaElem_=A,h.value.emitter.on("change",this.onValueUpdate_),this.value=h.value,this.update_()}update_(){const n=this.textareaElem_,h=n.scrollTop===n.scrollHeight-n.clientHeight,A=[];this.value.rawValue.forEach(k=>{k!==void 0&&A.push(this.formatter_(k))}),n.textContent=A.join(`
`),h&&(n.scrollTop=n.scrollHeight)}onValueUpdate_(){this.update_()}}class Mr{constructor(n,h){this.value=h.value,this.viewProps=h.viewProps,this.view=new us(n,{formatter:h.formatter,lineCount:h.lineCount,value:this.value,viewProps:this.viewProps})}}const Kr=m("sgl");class hs{constructor(n,h){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=h.formatter,this.element=n.createElement("div"),this.element.classList.add(Kr()),h.viewProps.bindClassModifiers(this.element);const A=n.createElement("input");A.classList.add(Kr("i")),A.readOnly=!0,A.type="text",h.viewProps.bindDisabled(A),this.element.appendChild(A),this.inputElement=A,h.value.emitter.on("change",this.onValueUpdate_),this.value=h.value,this.update_()}update_(){const n=this.value.rawValue,h=n[n.length-1];this.inputElement.value=h!==void 0?this.formatter_(h):""}onValueUpdate_(){this.update_()}}class Or{constructor(n,h){this.value=h.value,this.viewProps=h.viewProps,this.view=new hs(n,{formatter:h.formatter,value:this.value,viewProps:this.viewProps})}}const ds={id:"monitor-bool",type:"monitor",accept:(d,n)=>{if(typeof d!="boolean")return null;const A=$(n,{lineCount:H.optional.number});return A?{initialValue:d,params:A}:null},binding:{reader:d=>Xn},controller:d=>{var n;return d.value.rawValue.length===1?new Or(d.document,{formatter:Kn,value:d.value,viewProps:d.viewProps}):new Mr(d.document,{formatter:Kn,lineCount:(n=d.params.lineCount)!==null&&n!==void 0?n:bn.monitor.defaultLineCount,value:d.value,viewProps:d.viewProps})}};class ps{constructor(){this.emitter=new l,this.index_=-1}get index(){return this.index_}set index(n){this.index_!==n&&(this.index_=n,this.emitter.emit("change",{index:n,sender:this}))}}const wt=m("grl");class ms{constructor(n,h){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=n.createElement("div"),this.element.classList.add(wt()),h.viewProps.bindClassModifiers(this.element),this.formatter_=h.formatter,this.minValue_=h.minValue,this.maxValue_=h.maxValue,this.cursor_=h.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const A=n.createElementNS(fe,"svg");A.classList.add(wt("g")),A.style.height=`calc(var(--bld-us) * ${h.lineCount})`,this.element.appendChild(A),this.svgElem_=A;const k=n.createElementNS(fe,"polyline");this.svgElem_.appendChild(k),this.lineElem_=k;const j=n.createElement("div");j.classList.add(wt("t"),m("tt")()),this.element.appendChild(j),this.tooltipElem_=j,h.value.emitter.on("change",this.onValueUpdate_),this.value=h.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const n=this.svgElem_.getBoundingClientRect(),h=this.value.rawValue.length-1,A=this.minValue_,k=this.maxValue_,j=[];this.value.rawValue.forEach((xe,Ie)=>{if(xe===void 0)return;const Pt=Fe(Ie,0,h,0,n.width),Cn=Fe(xe,A,k,n.height,0);j.push([Pt,Cn].join(","))}),this.lineElem_.setAttributeNS(null,"points",j.join(" "));const ie=this.tooltipElem_,he=this.value.rawValue[this.cursor_.index];if(he===void 0){ie.classList.remove(wt("t","a"));return}const pe=Fe(this.cursor_.index,0,h,0,n.width),me=Fe(he,A,k,n.height,0);ie.style.left=`${pe}px`,ie.style.top=`${me}px`,ie.textContent=`${this.formatter_(he)}`,ie.classList.contains(wt("t","a"))||(ie.classList.add(wt("t","a"),wt("t","in")),_e(ie),ie.classList.remove(wt("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class fs{constructor(n,h){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=h.value,this.viewProps=h.viewProps,this.cursor_=new ps,this.view=new ms(n,{cursor:this.cursor_,formatter:h.formatter,lineCount:h.lineCount,maxValue:h.maxValue,minValue:h.minValue,value:this.value,viewProps:this.viewProps}),!Ce(n))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const A=new ct(this.view.element);A.emitter.on("down",this.onGraphPointerDown_),A.emitter.on("move",this.onGraphPointerMove_),A.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(n){const h=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Fe(n.offsetX,0,h.width,0,this.value.rawValue.length))}onGraphPointerDown_(n){this.onGraphPointerMove_(n)}onGraphPointerMove_(n){if(!n.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Fe(n.data.point.x,0,n.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function Nr(d){return"format"in d&&!x(d.format)?d.format:Ve(2)}function gs(d){var n;return d.value.rawValue.length===1?new Or(d.document,{formatter:Nr(d.params),value:d.value,viewProps:d.viewProps}):new Mr(d.document,{formatter:Nr(d.params),lineCount:(n=d.params.lineCount)!==null&&n!==void 0?n:bn.monitor.defaultLineCount,value:d.value,viewProps:d.viewProps})}function vs(d){var n,h,A;return new fs(d.document,{formatter:Nr(d.params),lineCount:(n=d.params.lineCount)!==null&&n!==void 0?n:bn.monitor.defaultLineCount,maxValue:(h="max"in d.params?d.params.max:null)!==null&&h!==void 0?h:100,minValue:(A="min"in d.params?d.params.min:null)!==null&&A!==void 0?A:0,value:d.value,viewProps:d.viewProps})}function zr(d){return"view"in d&&d.view==="graph"}const _s={id:"monitor-number",type:"monitor",accept:(d,n)=>{if(typeof d!="number")return null;const h=H,A=$(n,{format:h.optional.function,lineCount:h.optional.number,max:h.optional.number,min:h.optional.number,view:h.optional.string});return A?{initialValue:d,params:A}:null},binding:{defaultBufferSize:d=>zr(d)?64:1,reader:d=>Ne},controller:d=>zr(d.params)?vs(d):gs(d)},Es={id:"monitor-string",type:"monitor",accept:(d,n)=>{if(typeof d!="string")return null;const h=H,A=$(n,{lineCount:h.optional.number,multiline:h.optional.boolean});return A?{initialValue:d,params:A}:null},binding:{reader:d=>ei},controller:d=>{var n;const h=d.value;return h.rawValue.length>1||"multiline"in d.params&&d.params.multiline?new Mr(d.document,{formatter:hn,lineCount:(n=d.params.lineCount)!==null&&n!==void 0?n:bn.monitor.defaultLineCount,value:h,viewProps:d.viewProps}):new Or(d.document,{formatter:hn,value:h,viewProps:d.viewProps})}};class bs{constructor(n){this.onValueChange_=this.onValueChange_.bind(this),this.reader=n.reader,this.writer=n.writer,this.emitter=new l,this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.target=n.target,this.read()}read(){const n=this.target.read();n!==void 0&&(this.value.rawValue=this.reader(n))}write_(n){this.writer(this.target,n)}onValueChange_(n){this.write_(n.rawValue),this.emitter.emit("change",{options:n.options,rawValue:n.rawValue,sender:this})}}function Cs(d,n){const h=d.accept(n.target.read(),n.params);if(x(h))return null;const A=H,k={target:n.target,initialValue:h.initialValue,params:h.params},j=d.binding.reader(k),ie=d.binding.constraint?d.binding.constraint(k):void 0,he=F(j(h.initialValue),{constraint:ie,equals:d.binding.equals}),pe=new bs({reader:j,target:n.target,value:he,writer:d.binding.writer(k)}),me=A.optional.boolean(n.params.disabled).value,xe=A.optional.boolean(n.params.hidden).value,Ie=d.controller({constraint:ie,document:n.document,initialValue:h.initialValue,params:h.params,value:pe.value,viewProps:rt.create({disabled:me,hidden:xe})}),Pt=A.optional.string(n.params.label).value;return new ze(n.document,{binding:pe,blade:pt(),props:B.fromObject({label:Pt||n.target.key}),valueController:Ie})}class ws{constructor(n){this.onTick_=this.onTick_.bind(this),this.reader_=n.reader,this.target=n.target,this.emitter=new l,this.value=n.value,this.ticker=n.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const n=this.target.read();if(n===void 0)return;const h=this.value.rawValue,A=this.reader_(n);this.value.rawValue=er(h,A),this.emitter.emit("update",{rawValue:A,sender:this})}onTick_(n){this.read()}}function ys(d,n){return n===0?new Ri:new Ti(d,n!=null?n:bn.monitor.defaultInterval)}function As(d,n){var h,A,k;const j=H,ie=d.accept(n.target.read(),n.params);if(x(ie))return null;const he={target:n.target,initialValue:ie.initialValue,params:ie.params},pe=d.binding.reader(he),me=(A=(h=j.optional.number(n.params.bufferSize).value)!==null&&h!==void 0?h:d.binding.defaultBufferSize&&d.binding.defaultBufferSize(ie.params))!==null&&A!==void 0?A:1,xe=j.optional.number(n.params.interval).value,Ie=new ws({reader:pe,target:n.target,ticker:ys(n.document,xe),value:Zi(me)}),Pt=j.optional.boolean(n.params.disabled).value,Cn=j.optional.boolean(n.params.hidden).value,wn=d.controller({document:n.document,params:ie.params,value:Ie.value,viewProps:rt.create({disabled:Pt,hidden:Cn})}),Zt=(k=j.optional.string(n.params.label).value)!==null&&k!==void 0?k:n.target.key;return new tt(n.document,{binding:Ie,blade:pt(),props:B.fromObject({label:Zt}),valueController:wn})}class Ss{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(n){n.type==="blade"?this.pluginsMap_.blades.unshift(n):n.type==="input"?this.pluginsMap_.inputs.unshift(n):n.type==="monitor"&&this.pluginsMap_.monitors.unshift(n)}createInput(n,h,A){const k=h.read();if(x(k))throw new a({context:{key:h.key},type:"nomatchingcontroller"});const j=this.pluginsMap_.inputs.reduce((ie,he)=>ie||Cs(he,{document:n,target:h,params:A}),null);if(j)return j;throw new a({context:{key:h.key},type:"nomatchingcontroller"})}createMonitor(n,h,A){const k=this.pluginsMap_.monitors.reduce((j,ie)=>j||As(ie,{document:n,params:A,target:h}),null);if(k)return k;throw new a({context:{key:h.key},type:"nomatchingcontroller"})}createBlade(n,h){const A=this.pluginsMap_.blades.reduce((k,j)=>k||Si(j,{document:n,params:h}),null);if(!A)throw new a({type:"nomatchingview",context:{params:h}});return A}createBladeApi(n){if(n instanceof ze)return new en(n);if(n instanceof tt)return new tn(n);if(n instanceof it)return new At(n,this);const h=this.pluginsMap_.blades.reduce((A,k)=>A||k.api({controller:n,pool:this}),null);if(!h)throw a.shouldNeverHappen();return h}}function Rs(){const d=new Ss;return[Zo,ns,as,cs,Go,Fo,No,Mo,ur,ds,Es,_s,We,_i,bi,Gn].forEach(n=>{d.register(n)}),d}class Yr extends W{constructor(n){super(n);this.emitter_=new l,this.controller_.valueController.value.emitter.on("change",h=>{this.emitter_.emit("change",{event:new M(this,h.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get options(){return this.controller_.valueController.props.get("options")}set options(n){this.controller_.valueController.props.set("options",n)}get value(){return this.controller_.valueController.value.rawValue}set value(n){this.controller_.valueController.value.rawValue=n}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}}class qr extends W{constructor(n){super(n);this.emitter_=new l,this.controller_.valueController.value.emitter.on("change",h=>{this.emitter_.emit("change",{event:new M(this,h.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(n){this.controller_.valueController.sliderController.props.set("maxValue",n)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(n){this.controller_.valueController.sliderController.props.set("minValue",n)}get value(){return this.controller_.valueController.value.rawValue}set value(n){this.controller_.valueController.value.rawValue=n}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}}class Qr extends W{constructor(n){super(n);this.emitter_=new l,this.controller_.valueController.value.emitter.on("change",h=>{this.emitter_.emit("change",{event:new M(this,h.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(n){this.controller_.props.set("label",n)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(n){this.controller_.valueController.props.set("formatter",n)}get value(){return this.controller_.valueController.value.rawValue}set value(n){this.controller_.valueController.value.rawValue=n}on(n,h){const A=h.bind(this);return this.emitter_.on(n,k=>{A(k.event)}),this}}const Ts=function(){return{id:"list",type:"blade",accept(d){const n=H,h=$(d,{options:n.required.custom(Ht),value:n.required.raw,view:n.required.constant("list"),label:n.optional.string});return h?{params:h}:null},controller(d){const n=new Tt(d.document,{props:B.fromObject({options:oi(d.params.options)}),value:F(d.params.value),viewProps:d.viewProps});return new ft(d.document,{blade:d.blade,props:B.fromObject({label:d.params.label}),valueController:n})},api(d){return!(d.controller instanceof ft)||!(d.controller.valueController instanceof Tt)?null:new Yr(d.controller)}}}();function xs(d){return d.reduce((n,h)=>Object.assign(n,{[h.presetKey]:h.read()}),{})}function Ls(d,n){d.forEach(h=>{const A=n[h.presetKey];A!==void 0&&h.write(A)})}class Is extends nn{constructor(n,h){super(n,h)}get element(){return this.controller_.view.element}importPreset(n){const h=this.controller_.rackController.rack.find(ze).map(A=>A.binding.target);Ls(h,n),this.refresh()}exportPreset(){const n=this.controller_.rackController.rack.find(ze).map(h=>h.binding.target);return xs(n)}refresh(){this.controller_.rackController.rack.find(ze).forEach(n=>{n.binding.read()}),this.controller_.rackController.rack.find(tt).forEach(n=>{n.binding.read()})}}class Ms extends on{constructor(n,h){super(n,{expanded:h.expanded,blade:h.blade,props:h.props,root:!0,viewProps:h.viewProps})}}const Os={id:"slider",type:"blade",accept(d){const n=H,h=$(d,{max:n.required.number,min:n.required.number,view:n.required.constant("slider"),format:n.optional.function,label:n.optional.string,value:n.optional.number});return h?{params:h}:null},controller(d){var n,h;const A=(n=d.params.value)!==null&&n!==void 0?n:0,k=new gn(d.document,{baseStep:1,parser:nt,sliderProps:B.fromObject({maxValue:d.params.max,minValue:d.params.min}),textProps:B.fromObject({draggingScale:vt(void 0,A),formatter:(h=d.params.format)!==null&&h!==void 0?h:qi}),value:F(A),viewProps:d.viewProps});return new ft(d.document,{blade:d.blade,props:B.fromObject({label:d.params.label}),valueController:k})},api(d){return!(d.controller instanceof ft)||!(d.controller.valueController instanceof gn)?null:new qr(d.controller)}},Ns=function(){return{id:"text",type:"blade",accept(d){const n=H,h=$(d,{parse:n.required.function,value:n.required.raw,view:n.required.constant("text"),format:n.optional.function,label:n.optional.string});return h?{params:h}:null},controller(d){var n;const h=new Gt(d.document,{parser:d.params.parse,props:B.fromObject({formatter:(n=d.params.format)!==null&&n!==void 0?n:A=>String(A)}),value:F(d.params.value),viewProps:d.viewProps});return new ft(d.document,{blade:d.blade,props:B.fromObject({label:d.params.label}),valueController:h})},api(d){return!(d.controller instanceof ft)||!(d.controller.valueController instanceof Gt)?null:new Qr(d.controller)}}}();function Fs(d){const n=d.createElement("div");return n.classList.add(m("dfw")()),d.body&&d.body.appendChild(n),n}function Zr(d,n,h){if(d.querySelector(`style[data-tp-style=${n}]`))return;const A=d.createElement("style");A.dataset.tpStyle=n,A.textContent=h,d.head.appendChild(A)}class Ps extends Is{constructor(n){var h;const A=n||{},k=(h=A.document)!==null&&h!==void 0?h:Be(),j=Rs(),ie=new Ms(k,{expanded:A.expanded,blade:pt(),props:B.fromObject({title:A.title}),viewProps:rt.create()});super(ie,j);this.pool_=j,this.containerElem_=A.container||Fs(k),this.containerElem_.appendChild(this.element),this.doc_=k,this.usesDefaultWrapper_=!A.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw a.alreadyDisposed();return this.doc_}dispose(){const n=this.containerElem_;if(!n)throw a.alreadyDisposed();if(this.usesDefaultWrapper_){const h=n.parentElement;h&&h.removeChild(n)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(n){("plugin"in n?[n.plugin]:"plugins"in n?n.plugins:[]).forEach(A=>{this.pool_.register(A),this.embedPluginStyle_(A)})}embedPluginStyle_(n){n.css&&Zr(this.document,`plugin-${n.id}`,n.css)}setUpDefaultPlugins_(){Zr(this.document,"default",".tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-fldv_b,.tp-rotv_b,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, rgba(187,188,196,0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187,188,196,0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187,188,196,0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187,188,196,0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187,188,196,0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187,188,196,0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187,188,196,0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187,188,196,0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(0,0,0,0.2))}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c,.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c{display:none}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:'';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-us) * 3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:'';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:'';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}"),this.pool_.getAll().forEach(n=>{this.embedPluginStyle_(n)}),this.registerPlugin({plugins:[Os,Ts,Gn,Ns]})}}const ks=new ee("3.0.7");Y.BladeApi=W,Y.ButtonApi=s,Y.FolderApi=nn,Y.InputBindingApi=en,Y.ListApi=Yr,Y.MonitorBindingApi=tn,Y.Pane=Ps,Y.SeparatorApi=Fn,Y.SliderApi=qr,Y.TabApi=Un,Y.TabPageApi=Dn,Y.TextApi=Qr,Y.TpChangeEvent=M,Y.VERSION=ks,Object.defineProperty(Y,"__esModule",{value:!0})})})(Jr,Jr.exports);var Fr=1e-6,An=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var P=0,U=arguments.length;U--;)P+=arguments[U]*arguments[U];return Math.sqrt(P)});function Ys(){var P=new An(16);return An!=Float32Array&&(P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=0,P[12]=0,P[13]=0,P[14]=0),P[0]=1,P[5]=1,P[10]=1,P[15]=1,P}function qs(P,U){return P[0]=U[0],P[1]=U[1],P[2]=U[2],P[3]=U[3],P[4]=U[4],P[5]=U[5],P[6]=U[6],P[7]=U[7],P[8]=U[8],P[9]=U[9],P[10]=U[10],P[11]=U[11],P[12]=U[12],P[13]=U[13],P[14]=U[14],P[15]=U[15],P}function Ds(P){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}function Qs(P,U){if(P===U){var Y=U[1],ee=U[2],W=U[3],te=U[6],M=U[7],O=U[11];P[1]=U[4],P[2]=U[8],P[3]=U[12],P[4]=Y,P[6]=U[9],P[7]=U[13],P[8]=ee,P[9]=te,P[11]=U[14],P[12]=W,P[13]=M,P[14]=O}else P[0]=U[0],P[1]=U[4],P[2]=U[8],P[3]=U[12],P[4]=U[1],P[5]=U[5],P[6]=U[9],P[7]=U[13],P[8]=U[2],P[9]=U[6],P[10]=U[10],P[11]=U[14],P[12]=U[3],P[13]=U[7],P[14]=U[11],P[15]=U[15];return P}function Zs(P,U){var Y=U[0],ee=U[1],W=U[2],te=U[3],M=U[4],O=U[5],Q=U[6],N=U[7],x=U[8],_=U[9],p=U[10],a=U[11],u=U[12],s=U[13],l=U[14],r=U[15],m=Y*O-ee*M,v=Y*Q-W*M,C=Y*N-te*M,b=ee*Q-W*O,E=ee*N-te*O,R=W*N-te*Q,g=x*s-_*u,f=x*l-p*u,T=x*r-a*u,L=_*l-p*s,w=_*r-a*s,S=p*r-a*l,I=m*S-v*w+C*L+b*T-E*f+R*g;return I?(I=1/I,P[0]=(O*S-Q*w+N*L)*I,P[1]=(W*w-ee*S-te*L)*I,P[2]=(s*R-l*E+r*b)*I,P[3]=(p*E-_*R-a*b)*I,P[4]=(Q*T-M*S-N*f)*I,P[5]=(Y*S-W*T+te*f)*I,P[6]=(l*C-u*R-r*v)*I,P[7]=(x*R-p*C+a*v)*I,P[8]=(M*w-O*T+N*g)*I,P[9]=(ee*T-Y*w-te*g)*I,P[10]=(u*E-s*C+r*m)*I,P[11]=(_*C-x*E-a*m)*I,P[12]=(O*f-M*L-Q*g)*I,P[13]=(Y*L-ee*f+W*g)*I,P[14]=(s*v-u*b-l*m)*I,P[15]=(x*b-_*v+p*m)*I,P):null}function Us(P,U,Y){var ee=U[0],W=U[1],te=U[2],M=U[3],O=U[4],Q=U[5],N=U[6],x=U[7],_=U[8],p=U[9],a=U[10],u=U[11],s=U[12],l=U[13],r=U[14],m=U[15],v=Y[0],C=Y[1],b=Y[2],E=Y[3];return P[0]=v*ee+C*O+b*_+E*s,P[1]=v*W+C*Q+b*p+E*l,P[2]=v*te+C*N+b*a+E*r,P[3]=v*M+C*x+b*u+E*m,v=Y[4],C=Y[5],b=Y[6],E=Y[7],P[4]=v*ee+C*O+b*_+E*s,P[5]=v*W+C*Q+b*p+E*l,P[6]=v*te+C*N+b*a+E*r,P[7]=v*M+C*x+b*u+E*m,v=Y[8],C=Y[9],b=Y[10],E=Y[11],P[8]=v*ee+C*O+b*_+E*s,P[9]=v*W+C*Q+b*p+E*l,P[10]=v*te+C*N+b*a+E*r,P[11]=v*M+C*x+b*u+E*m,v=Y[12],C=Y[13],b=Y[14],E=Y[15],P[12]=v*ee+C*O+b*_+E*s,P[13]=v*W+C*Q+b*p+E*l,P[14]=v*te+C*N+b*a+E*r,P[15]=v*M+C*x+b*u+E*m,P}function Js(P,U,Y){var ee=Y[0],W=Y[1],te=Y[2],M,O,Q,N,x,_,p,a,u,s,l,r;return U===P?(P[12]=U[0]*ee+U[4]*W+U[8]*te+U[12],P[13]=U[1]*ee+U[5]*W+U[9]*te+U[13],P[14]=U[2]*ee+U[6]*W+U[10]*te+U[14],P[15]=U[3]*ee+U[7]*W+U[11]*te+U[15]):(M=U[0],O=U[1],Q=U[2],N=U[3],x=U[4],_=U[5],p=U[6],a=U[7],u=U[8],s=U[9],l=U[10],r=U[11],P[0]=M,P[1]=O,P[2]=Q,P[3]=N,P[4]=x,P[5]=_,P[6]=p,P[7]=a,P[8]=u,P[9]=s,P[10]=l,P[11]=r,P[12]=M*ee+x*W+u*te+U[12],P[13]=O*ee+_*W+s*te+U[13],P[14]=Q*ee+p*W+l*te+U[14],P[15]=N*ee+a*W+r*te+U[15]),P}function ea(P,U,Y){var ee=Y[0],W=Y[1],te=Y[2];return P[0]=U[0]*ee,P[1]=U[1]*ee,P[2]=U[2]*ee,P[3]=U[3]*ee,P[4]=U[4]*W,P[5]=U[5]*W,P[6]=U[6]*W,P[7]=U[7]*W,P[8]=U[8]*te,P[9]=U[9]*te,P[10]=U[10]*te,P[11]=U[11]*te,P[12]=U[12],P[13]=U[13],P[14]=U[14],P[15]=U[15],P}function ta(P,U,Y){var ee=Math.sin(Y),W=Math.cos(Y),te=U[4],M=U[5],O=U[6],Q=U[7],N=U[8],x=U[9],_=U[10],p=U[11];return U!==P&&(P[0]=U[0],P[1]=U[1],P[2]=U[2],P[3]=U[3],P[12]=U[12],P[13]=U[13],P[14]=U[14],P[15]=U[15]),P[4]=te*W+N*ee,P[5]=M*W+x*ee,P[6]=O*W+_*ee,P[7]=Q*W+p*ee,P[8]=N*W-te*ee,P[9]=x*W-M*ee,P[10]=_*W-O*ee,P[11]=p*W-Q*ee,P}function na(P,U,Y){var ee=Math.sin(Y),W=Math.cos(Y),te=U[0],M=U[1],O=U[2],Q=U[3],N=U[8],x=U[9],_=U[10],p=U[11];return U!==P&&(P[4]=U[4],P[5]=U[5],P[6]=U[6],P[7]=U[7],P[12]=U[12],P[13]=U[13],P[14]=U[14],P[15]=U[15]),P[0]=te*W-N*ee,P[1]=M*W-x*ee,P[2]=O*W-_*ee,P[3]=Q*W-p*ee,P[8]=te*ee+N*W,P[9]=M*ee+x*W,P[10]=O*ee+_*W,P[11]=Q*ee+p*W,P}function ia(P,U,Y){var ee=Math.sin(Y),W=Math.cos(Y),te=U[0],M=U[1],O=U[2],Q=U[3],N=U[4],x=U[5],_=U[6],p=U[7];return U!==P&&(P[8]=U[8],P[9]=U[9],P[10]=U[10],P[11]=U[11],P[12]=U[12],P[13]=U[13],P[14]=U[14],P[15]=U[15]),P[0]=te*W+N*ee,P[1]=M*W+x*ee,P[2]=O*W+_*ee,P[3]=Q*W+p*ee,P[4]=N*W-te*ee,P[5]=x*W-M*ee,P[6]=_*W-O*ee,P[7]=p*W-Q*ee,P}function Vs(P,U,Y,ee,W){var te=1/Math.tan(U/2),M;return P[0]=te/Y,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=te,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=-1,P[12]=0,P[13]=0,P[15]=0,W!=null&&W!==1/0?(M=1/(ee-W),P[10]=(W+ee)*M,P[14]=2*W*ee*M):(P[10]=-1,P[14]=-2*ee),P}var ra=Vs;function Gs(P,U,Y,ee,W,te,M){var O=1/(U-Y),Q=1/(ee-W),N=1/(te-M);return P[0]=-2*O,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=-2*Q,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=2*N,P[11]=0,P[12]=(U+Y)*O,P[13]=(W+ee)*Q,P[14]=(M+te)*N,P[15]=1,P}var oa=Gs;function sa(P,U,Y,ee){var W,te,M,O,Q,N,x,_,p,a,u=U[0],s=U[1],l=U[2],r=ee[0],m=ee[1],v=ee[2],C=Y[0],b=Y[1],E=Y[2];return Math.abs(u-C)<Fr&&Math.abs(s-b)<Fr&&Math.abs(l-E)<Fr?Ds(P):(x=u-C,_=s-b,p=l-E,a=1/Math.hypot(x,_,p),x*=a,_*=a,p*=a,W=m*p-v*_,te=v*x-r*p,M=r*_-m*x,a=Math.hypot(W,te,M),a?(a=1/a,W*=a,te*=a,M*=a):(W=0,te=0,M=0),O=_*M-p*te,Q=p*W-x*M,N=x*te-_*W,a=Math.hypot(O,Q,N),a?(a=1/a,O*=a,Q*=a,N*=a):(O=0,Q=0,N=0),P[0]=W,P[1]=O,P[2]=x,P[3]=0,P[4]=te,P[5]=Q,P[6]=_,P[7]=0,P[8]=M,P[9]=N,P[10]=p,P[11]=0,P[12]=-(W*u+te*s+M*l),P[13]=-(O*u+Q*s+N*l),P[14]=-(x*u+_*s+p*l),P[15]=1,P)}var aa=Us;function Ws(){var P=new An(3);return An!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0),P}function la(P,U,Y){var ee=new An(3);return ee[0]=P,ee[1]=U,ee[2]=Y,ee}function ca(P,U){return P[0]=U[0],P[1]=U[1],P[2]=U[2],P}function ua(P,U,Y,ee){return P[0]=U,P[1]=Y,P[2]=ee,P}function ha(P,U){var Y=U[0],ee=U[1],W=U[2],te=Y*Y+ee*ee+W*W;return te>0&&(te=1/Math.sqrt(te)),P[0]=U[0]*te,P[1]=U[1]*te,P[2]=U[2]*te,P}function da(P,U,Y){var ee=U[0],W=U[1],te=U[2],M=Y[0],O=Y[1],Q=Y[2];return P[0]=W*Q-te*O,P[1]=te*M-ee*Q,P[2]=ee*O-W*M,P}(function(){var P=Ws();return function(U,Y,ee,W,te,M){var O,Q;for(Y||(Y=3),ee||(ee=0),W?Q=Math.min(W*Y+ee,U.length):Q=U.length,O=ee;O<Q;O+=Y)P[0]=U[O],P[1]=U[O+1],P[2]=U[O+2],te(P,P,M),U[O]=P[0],U[O+1]=P[1],U[O+2]=P[2];return U}})();var kt=256,oo=[],eo=256,ci;for(;kt--;)oo[kt]=(kt+256).toString(16).substring(1);function pa(P){var U=0,Y=P||11;if(!ci||kt+Y>eo*2)for(ci="",kt=0;U<eo;U++)ci+=oo[Math.random()*256|0];return ci.substring(kt,kt+++Y)}var kr={},Hs=function(){function P(U,Y,ee,W){this.x=U,this.y=Y,this.w=ee,this.h=W}return P.prototype.fitsIn=function(U){return U.w>=this.w&&U.h>=this.h},P.prototype.sameSizeAs=function(U){return this.w===U.w&&this.h===U.h},P}();Object.defineProperty(kr,"__esModule",{value:!0});kr.default=Hs;var hi={},Pr=kr;function to(P){var U=P.width/2,Y=document.createElement("canvas");Y.id=P.id||"",Y.width=P.width+P.width,Y.height=P.height+P.height;var ee=Y.getContext("2d"),W=ee.createPattern(P,"repeat");return ee.fillStyle=W,ee.translate(U,U),ee.fillRect(-U,-U,Y.width+U,Y.height+U),ee.translate(-U,-U),Y}function no(P,U,Y,ee){var W=U?P.rect.w/4:0;return[[P.rect.x+W,P.rect.y+W],[P.rect.x+W+(P.rect.w-W*2),P.rect.y+W],[P.rect.x+W+(P.rect.w-W*2),P.rect.y+W+(P.rect.h-W*2)],[P.rect.x+W,P.rect.y+W+(P.rect.h-W*2)]].map(function(te){return te[0]!==0&&(te[0]=te[0]/Y),te[1]!==0&&(te[1]=te[1]/ee),te})}function io(P,U,Y,ee){var W=U?P.rect.w/4:0,te=new Float32Array(8);return te[0]=(P.rect.x+W)/Y,te[1]=(P.rect.y+W)/ee,te[2]=(P.rect.x+W+(P.rect.w-W*2))/Y,te[3]=(P.rect.y+W)/ee,te[4]=(P.rect.x+W+(P.rect.w-W*2))/Y,te[5]=(P.rect.y+W+(P.rect.h-W*2))/ee,te[6]=(P.rect.x+W)/Y,te[7]=(P.rect.y+W+(P.rect.h-W*2))/ee,te}var yn=function(){function P(U,Y,ee,W){this.left=this.right=null,this.rect=new Pr.default(U,Y,ee,W),this.filled=!1}return P.prototype.pack=function(U){return this.left!==null?this.left.pack(U)||this.right.pack(U):this.filled||!U.fitsIn(this.rect)?null:U.sameSizeAs(this.rect)?(this.filled=!0,this):(this.rect.w-U.w>this.rect.h-U.h?(this.left=new P(this.rect.x,this.rect.y,U.w,this.rect.h),this.right=new P(this.rect.x+U.w,this.rect.y,this.rect.w-U.w,this.rect.h)):(this.left=new P(this.rect.x,this.rect.y,this.rect.w,U.h),this.right=new P(this.rect.x,this.rect.y+U.h,this.rect.w,this.rect.h-U.h)),this.left.pack(U))},P}();hi.AtlasNode=yn;var js=function(){function P(U,Y){Y===void 0&&(Y={}),this.tilepad=Y.tilepad||!1,this.canvas=U,this.context=U.getContext("2d"),this._rootNode=new yn(0,0,this.canvas.width,this.canvas.height),this._terminalNodes={},this.invalidateUvIndices()}return P.prototype.pack=function(U,Y){return this._checkId(U),this._pack(U,this.tilepad?to(Y):Y)},P.prototype.expand=function(U,Y){return this._checkId(U),this.invalidateUvIndices(),this._expand(U,this.tilepad?to(Y):Y)},P.prototype.index=function(){var U=this;return Object.keys(this._terminalNodes).map(function(Y){return U._terminalNodes[Y].rect})},P.prototype.uv=function(){return this._uvs?this._uvs:(this._uvs=this.buildUvIndex(),this._uvs)},P.prototype.uv2=function(){return this._uvs2?this._uvs2:(this._uvs2=this.buildUvIndex2(),this._uvs2)},P.prototype.invalidateUvIndices=function(){this._uvs=null,this._uvs2=null},P.prototype._checkId=function(U){if(this._terminalNodes[U])throw new Error("Duplicated texture id "+U)},P.prototype._pack=function(U,Y){var ee=new Pr.default(0,0,Y.width,Y.height),W=this._rootNode.pack(ee);return W?(this._ontoCanvas(U,Y,W.rect),this._terminalNodes[U]=W,this._uvs&&(this._uvs[U]=no(W,this.tilepad,this.canvas.width,this.canvas.height)),this._uvs2&&(this._uvs2[U]=io(W,this.tilepad,this.canvas.width,this.canvas.height)),W):null},P.prototype._expand=function(U,Y){var ee=new Pr.default(0,0,Y.width,Y.height),W=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),te;this._rootNode.rect.w<this._rootNode.rect.h?(this.canvas.width=this._rootNode.rect.w+ee.w,te=new yn(this._rootNode.rect.w,0,ee.w,this._rootNode.rect.h)):(this.canvas.height=this._rootNode.rect.h+ee.h,te=new yn(0,this._rootNode.rect.h,this._rootNode.rect.w,ee.h)),this.context.putImageData(W,0,0);var M=this._rootNode;return this._rootNode=new yn(0,0,this.canvas.width,this.canvas.height),this._rootNode.left=M,this._rootNode.right=te,this._pack(U,Y)?this:this._expand(U,Y)},P.prototype.buildUvIndex=function(){var U=this,Y={};return Object.keys(this._terminalNodes).map(function(ee){var W=U._terminalNodes[ee];Y[ee]=no(W,U.tilepad,U.canvas.width,U.canvas.height)}),Y},P.prototype.buildUvIndex2=function(){var U=this,Y={};return Object.keys(this._terminalNodes).map(function(ee){var W=U._terminalNodes[ee];Y[ee]=io(W,U.tilepad,U.canvas.width,U.canvas.height)}),Y},P.prototype._ontoCanvas=function(U,Y,ee){this.context.clearRect(ee.x,ee.y,ee.w,ee.h),this.context.drawImage(Y,ee.x,ee.y,ee.w,ee.h)},P}();Object.defineProperty(hi,"__esModule",{value:!0});hi.default=js;var Xs=hi,ma=Xs.default,ui={exports:{}};(function(P,U){(function(Y,ee){ee(U)})(ro,function(Y){function ee(C){return C}const W="tp";function te(C){return(E,R)=>[W,"-",C,"v",E?`_${E}`:"",R?`-${R}`:""].join("")}function M(C,b){const R=Object.keys(b).reduce((g,f)=>{if(g===void 0)return;const L=b[f](C[f]);return L.succeeded?Object.assign(Object.assign({},g),{[f]:L.value}):void 0},{});return R}function O(C,b){return C.reduce((E,R)=>{if(E===void 0)return;const g=b(R);if(!(!g.succeeded||g.value===void 0))return[...E,g.value]},[])}function Q(C){return C===null?!1:typeof C=="object"}function N(C){return b=>E=>{if(!b&&E===void 0)return{succeeded:!1,value:void 0};if(b&&E===void 0)return{succeeded:!0,value:void 0};const R=C(E);return R!==void 0?{succeeded:!0,value:R}:{succeeded:!1,value:void 0}}}function x(C){return{custom:b=>N(b)(C),boolean:N(b=>typeof b=="boolean"?b:void 0)(C),number:N(b=>typeof b=="number"?b:void 0)(C),string:N(b=>typeof b=="string"?b:void 0)(C),function:N(b=>typeof b=="function"?b:void 0)(C),constant:b=>N(E=>E===b?b:void 0)(C),raw:N(b=>b)(C),object:b=>N(E=>{if(!!Q(E))return M(E,b)})(C),array:b=>N(E=>{if(!!Array.isArray(E))return O(E,b)})(C)}}const _={optional:x(!0),required:x(!1)};function p(C,b){const E=_.required.object(b)(C);return E.succeeded?E.value:void 0}class a{constructor(b){this.constraints=b}constrain(b){return this.constraints.reduce((E,R)=>R.constrain(E),b)}}const u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA4klEQVR4Xu2awQ3EQAjEbjun9Ohq8ANZOP8JZDBstOL94DMzQ16xrX8k+b92+wNo/AyIAOgARXBbXwtAABqC2wjT+LVALQAdoAhu62sBCECnwDbCNH4tcL4FKEJ2/bN/AM0/A6iDdn0E2CtI848A6qBdHwH2CtL8I4A6aNdHgL2CNP8IoA7a9d0Inb8RygDoQDOgHaGWpNoSI2Nke4b0H0Cq155gi5JtirYfsD3FafxOgfOnAEXIru9KzF5Bmn8EUAft+giwV5DmHwHUQbs+AuwVpPlHAHXQro8AewVp/ucJ+AAX4sBQqPDC3AAAAABJRU5ErkJggg==",s=te("thumb");class l{constructor(b,E){this.optionEls_=[],this.onSelect_=this.onSelect_.bind(this),this.open_=this.open_.bind(this),this.close_=this.close_.bind(this),this.doc_=b,this.element=b.createElement("div"),this.element.classList.add(s()),this.selectEl_=document.createElement("div"),this.selectEl_.classList.add(s("sopt")),this.element.appendChild(this.selectEl_),this.selectThumbEl_=document.createElement("div"),this.selectThumbEl_.classList.add(s("sthmb")),this.selectEl_.appendChild(this.selectThumbEl_),this.selectLabelEl_=document.createElement("span"),this.selectLabelEl_.classList.add(s("slbl")),this.selectEl_.appendChild(this.selectLabelEl_),this.overlayEl_=b.createElement("div"),this.overlayEl_.classList.add(s("ovl")),this.element.appendChild(this.overlayEl_),this.selectEl_.addEventListener("click",this.open_),E.viewProps.bindClassModifiers(this.element),this.value_=E.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.valueOptions_=E.valueOptions,this.init_(),this.refresh_(),E.viewProps.handleDispose(()=>{this.selectEl_.removeEventListener("click",this.open_),this.doc_.removeEventListener("click",this.close_);let R;for(;R=this.optionEls_.pop();)R.removeEventListener("click",this.onSelect_),this.overlayEl_.removeChild(R)})}init_(){const b=this.element.ownerDocument,E=R=>{const g=b.createElement("div");g.classList.add(s("thmb")),g.style.backgroundImage=R?`url(${R.src})`:`url(${u})`;const f=b.createElement("span");f.classList.add(s("lbl")),f.textContent=R?R.text:"None";const T=b.createElement("div");T.classList.add(s("opt")),T.appendChild(g),T.appendChild(f),T.setAttribute("data-value",R?R.value:""),T.addEventListener("click",this.onSelect_),this.optionEls_.push(T),this.overlayEl_.appendChild(T)};E(null);for(const R of this.valueOptions_)E(R)}refresh_(){const b=this.value_.rawValue;b?(this.selectThumbEl_.style.backgroundImage=`url(${b.src})`,this.selectLabelEl_.textContent=b.text):(this.selectThumbEl_.style.backgroundImage=`url(${u})`,this.selectLabelEl_.textContent="");const E=b?b.value:"";for(const R of this.optionEls_)R.getAttribute("data-value")===E?R.setAttribute("aria-selected","true"):R.removeAttribute("aria-selected")}open_(b){this.element.classList.add(s("-active")),this.doc_.addEventListener("click",this.close_),b.stopPropagation()}close_(){this.element.classList.remove(s("-active")),this.doc_.removeEventListener("click",this.close_)}onSelect_(b){const R=this.findOptionEl_(b.target).getAttribute("data-value"),g=this.valueOptions_.find(f=>f.value===R);this.value_.setRawValue(g||null)}findOptionEl_(b){for(;b&&!b.hasAttribute("data-value");)b=b.parentElement;if(!b)throw new Error("Invalid DOM scope");return b}onValueChange_(){this.refresh_()}}class r{constructor(b,E){this.value=E.value,this.viewProps=E.viewProps,this.viewProps.handleDispose(()=>{}),this.view=new l(b,{value:this.value,valueOptions:E.valueOptions,viewProps:this.viewProps})}}const v={id:"thumbnail-list",type:"input",css:".tp-thumbv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-thumbv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-thumbv:hover{background-color:var(--in-bg-h)}.tp-thumbv:focus{background-color:var(--in-bg-f)}.tp-thumbv:active{background-color:var(--in-bg-a)}.tp-thumbv:disabled{opacity:0.5}.tp-thumbv{--tptl-thumb-size: var(--tp-plugin-thumbnail-list-thumb-size, var(--bld-us));position:relative;height:var(--bld-us);cursor:pointer}.tp-thumbv,.tp-thumbv:hover{background:none}.tp-thumbv.tp-v-disabled{opacity:0.5}.tp-thumbv_ovl{z-index:100;box-shadow:0 2px 4px var(--bs-sh);display:none;position:absolute;top:var(--bld-us);right:0;overflow-x:hidden;overflow-y:auto;max-height:var(--tp-plugin-thumbnail-list-height, 400px);width:var(--tp-plugin-thumbnail-list-width, 200px);background:var(--bs-bg);padding:var(--cnt-v-p) var(--cnt-h-p);border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-thumbv_-active .tp-thumbv_ovl{display:block}.tp-thumbv_opt,.tp-thumbv_sopt{display:flex;flex-direction:row;color:var(--in-fg)}.tp-thumbv_sopt{height:var(--bld-us)}.tp-thumbv_opt{height:var(--tptl-thumb-size);margin:0 calc(-1 * var(--cnt-h-p));padding:var(--cnt-v-p) var(--cnt-h-p) 0;opacity:0.75}.tp-thumbv_opt[aria-selected]{opacity:1.0;background:var(--in-bg)}.tp-thumbv_opt:hover{opacity:1.0}.tp-thumbv_thmb,.tp-thumbv_sthmb{flex-shrink:0;width:var(--bld-us);height:100%;border-radius:var(--elm-br);background-size:contain;position:relative}.tp-thumbv_sthmb{width:var(--bld-us)}.tp-thumbv_thmb{margin-right:2em;width:var(--tptl-thumb-size)}[aria-selected] .tp-thumbv_thmb::after{content:'\u2713';position:absolute;right:-1em;font-size:1.5em;line-height:var(--tptl-thumb-size)}.tp-thumbv_lbl,.tp-thumbv_slbl{height:var(--bld-us);line-height:var(--bld-us);text-overflow:ellipsis}.tp-thumbv_slbl{margin-left:4px;padding:0 4px;background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;min-width:0;width:100%}.tp-thumbv_lbl{height:var(--tptl-thumb-size);line-height:var(--tptl-thumb-size)}",accept(C,b){if(typeof C!="string")return null;const E=_,R=p(b,{view:E.required.constant("thumbnail-list"),options:E.required.array(E.required.object({text:E.required.string,value:E.required.string,src:E.required.string,data:E.optional.custom(g=>g)}))});return R?{initialValue:C,params:R}:null},binding:{reader(C){return b=>C.params.options.find(E=>E.value===b)||null},constraint(C){return new a([])},writer(C){return(b,E)=>{b.write(E)}}},controller(C){return new r(C.document,{value:C.value,valueOptions:C.params.options,viewProps:C.viewProps})}};Y.plugin=v,Object.defineProperty(Y,"__esModule",{value:!0})})})(ui,ui.exports);var Ks=$s(ui.exports),fa=Object.freeze(Bs({__proto__:null,[Symbol.toStringTag]:"Module",default:Ks},[ui.exports])),zs={exports:{}};(function(P,U){(function(Y,ee){P.exports=ee()})(window,function(){return function(Y){var ee={};function W(te){if(ee[te])return ee[te].exports;var M=ee[te]={i:te,l:!1,exports:{}};return Y[te].call(M.exports,M,M.exports,W),M.l=!0,M.exports}return W.m=Y,W.c=ee,W.d=function(te,M,O){W.o(te,M)||Object.defineProperty(te,M,{enumerable:!0,get:O})},W.r=function(te){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},W.t=function(te,M){if(1&M&&(te=W(te)),8&M||4&M&&typeof te=="object"&&te&&te.__esModule)return te;var O=Object.create(null);if(W.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:te}),2&M&&typeof te!="string")for(var Q in te)W.d(O,Q,function(N){return te[N]}.bind(null,Q));return O},W.n=function(te){var M=te&&te.__esModule?function(){return te.default}:function(){return te};return W.d(M,"a",M),M},W.o=function(te,M){return Object.prototype.hasOwnProperty.call(te,M)},W.p="/",W(W.s=4)}([function(Y,ee){Y.exports=function(W){return W.webpackPolyfill||(W.deprecate=function(){},W.paths=[],W.children||(W.children=[]),Object.defineProperty(W,"loaded",{enumerable:!0,get:function(){return W.l}}),Object.defineProperty(W,"id",{enumerable:!0,get:function(){return W.i}}),W.webpackPolyfill=1),W}},function(Y,ee,W){var te,M=function(){return te===void 0&&(te=Boolean(window&&document&&document.all&&!window.atob)),te},O=function(){var v={};return function(C){if(v[C]===void 0){var b=document.querySelector(C);if(window.HTMLIFrameElement&&b instanceof window.HTMLIFrameElement)try{b=b.contentDocument.head}catch{b=null}v[C]=b}return v[C]}}(),Q=[];function N(v){for(var C=-1,b=0;b<Q.length;b++)if(Q[b].identifier===v){C=b;break}return C}function x(v,C){for(var b={},E=[],R=0;R<v.length;R++){var g=v[R],f=C.base?g[0]+C.base:g[0],T=b[f]||0,L="".concat(f," ").concat(T);b[f]=T+1;var w=N(L),S={css:g[1],media:g[2],sourceMap:g[3]};w!==-1?(Q[w].references++,Q[w].updater(S)):Q.push({identifier:L,updater:m(S,C),references:1}),E.push(L)}return E}function _(v){var C=document.createElement("style"),b=v.attributes||{};if(b.nonce===void 0){var E=W.nc;E&&(b.nonce=E)}if(Object.keys(b).forEach(function(g){C.setAttribute(g,b[g])}),typeof v.insert=="function")v.insert(C);else{var R=O(v.insert||"head");if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");R.appendChild(C)}return C}var p,a=(p=[],function(v,C){return p[v]=C,p.filter(Boolean).join(`
`)});function u(v,C,b,E){var R=b?"":E.media?"@media ".concat(E.media," {").concat(E.css,"}"):E.css;if(v.styleSheet)v.styleSheet.cssText=a(C,R);else{var g=document.createTextNode(R),f=v.childNodes;f[C]&&v.removeChild(f[C]),f.length?v.insertBefore(g,f[C]):v.appendChild(g)}}function s(v,C,b){var E=b.css,R=b.media,g=b.sourceMap;if(R?v.setAttribute("media",R):v.removeAttribute("media"),g&&btoa&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(g))))," */")),v.styleSheet)v.styleSheet.cssText=E;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(E))}}var l=null,r=0;function m(v,C){var b,E,R;if(C.singleton){var g=r++;b=l||(l=_(C)),E=u.bind(null,b,g,!1),R=u.bind(null,b,g,!0)}else b=_(C),E=s.bind(null,b,C),R=function(){(function(f){if(f.parentNode===null)return!1;f.parentNode.removeChild(f)})(b)};return E(v),function(f){if(f){if(f.css===v.css&&f.media===v.media&&f.sourceMap===v.sourceMap)return;E(v=f)}else R()}}Y.exports=function(v,C){(C=C||{}).singleton||typeof C.singleton=="boolean"||(C.singleton=M());var b=x(v=v||[],C);return function(E){if(E=E||[],Object.prototype.toString.call(E)==="[object Array]"){for(var R=0;R<b.length;R++){var g=N(b[R]);Q[g].references--}for(var f=x(E,C),T=0;T<b.length;T++){var L=N(b[T]);Q[L].references===0&&(Q[L].updater(),Q.splice(L,1))}b=f}}}},function(Y,ee,W){Y.exports=function(te){var M=[];return M.toString=function(){return this.map(function(O){var Q=function(N,x){var _=N[1]||"",p=N[3];if(!p)return _;if(x&&typeof btoa=="function"){var a=(s=p,l=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(r," */")),u=p.sources.map(function(m){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(m," */")});return[_].concat(u).concat([a]).join(`
`)}var s,l,r;return[_].join(`
`)}(O,te);return O[2]?"@media ".concat(O[2]," {").concat(Q,"}"):Q}).join("")},M.i=function(O,Q,N){typeof O=="string"&&(O=[[null,O,""]]);var x={};if(N)for(var _=0;_<this.length;_++){var p=this[_][0];p!=null&&(x[p]=!0)}for(var a=0;a<O.length;a++){var u=[].concat(O[a]);N&&x[u[0]]||(Q&&(u[2]?u[2]="".concat(Q," and ").concat(u[2]):u[2]=Q),M.push(u))}},M}},function(Y,ee){Y.exports=function(){throw new Error("define cannot be used indirect")}},function(Y,ee,W){W(5),W(6),W(7),W(8),W(10),Y.exports=W(15)},function(Y,ee,W){(function(te){(function(){var M=function(){return this}();M||typeof window=="undefined"||(M=window);var O=function(u,s,l){typeof u=="string"?(arguments.length==2&&(l=s),O.modules[u]||(O.payloads[u]=l,O.modules[u]=null)):O.original?O.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};O.modules={},O.payloads={};var Q,N,x=function(u,s,l){if(typeof s=="string"){var r=a(u,s);if(r!=null)return l&&l(),r}else if(Object.prototype.toString.call(s)==="[object Array]"){for(var m=[],v=0,C=s.length;v<C;++v){var b=a(u,s[v]);if(b==null&&_.original)return;m.push(b)}return l&&l.apply(null,m)||!0}},_=function(u,s){var l=x("",u,s);return l==null&&_.original?_.original.apply(this,arguments):l},p=function(u,s){if(s.indexOf("!")!==-1){var l=s.split("!");return p(u,l[0])+"!"+p(u,l[1])}if(s.charAt(0)==".")for(s=u.split("/").slice(0,-1).join("/")+"/"+s;s.indexOf(".")!==-1&&r!=s;){var r=s;s=s.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return s},a=function(u,s){s=p(u,s);var l=O.modules[s];if(!l){if(typeof(l=O.payloads[s])=="function"){var r={},m={id:s,uri:"",exports:r,packaged:!0};r=l(function(v,C){return x(s,v,C)},r,m)||m.exports,O.modules[s]=r,delete O.payloads[s]}l=O.modules[s]=r||l}return l};N=M,(Q="ace")&&(M[Q]||(M[Q]={}),N=M[Q]),N.define&&N.define.packaged||(O.original=N.define,N.define=O,N.define.packaged=!0),N.require&&N.require.packaged||(_.original=N.require,N.require=_,N.require.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],function(M,O,Q){var N,x={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},_=x.exec.call(/()??/,"")[1]===void 0,p=(N=/^/g,x.test.call(N,""),!N.lastIndex);function a(s){return(s.global?"g":"")+(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.extended?"x":"")+(s.sticky?"y":"")}function u(s,l,r){if(Array.prototype.indexOf)return s.indexOf(l,r);for(var m=r||0;m<s.length;m++)if(s[m]===l)return m;return-1}p&&_||(RegExp.prototype.exec=function(s){var l,r,m=x.exec.apply(this,arguments);if(typeof s=="string"&&m){if(!_&&m.length>1&&u(m,"")>-1&&(r=RegExp(this.source,x.replace.call(a(this),"g","")),x.replace.call(s.slice(m.index),r,function(){for(var C=1;C<arguments.length-2;C++)arguments[C]===void 0&&(m[C]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var v=1;v<m.length;v++)(l=this._xregexp.captureNames[v-1])&&(m[l]=m[v]);!p&&this.global&&!m[0].length&&this.lastIndex>m.index&&this.lastIndex--}return m},p||(RegExp.prototype.test=function(s){var l=x.exec.call(this,s);return l&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--,!!l}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(M,O,Q){function N(){}Function.prototype.bind||(Function.prototype.bind=function($){var X=this;if(typeof X!="function")throw new TypeError("Function.prototype.bind called on incompatible "+X);var q=m.call(arguments,1),oe=function(){if(this instanceof oe){var ce=X.apply(this,q.concat(m.call(arguments)));return Object(ce)===ce?ce:this}return X.apply($,q.concat(m.call(arguments)))};return X.prototype&&(N.prototype=X.prototype,oe.prototype=new N,N.prototype=null),oe});var x,_,p,a,u,s=Function.prototype.call,l=Array.prototype,r=Object.prototype,m=l.slice,v=s.bind(r.toString),C=s.bind(r.hasOwnProperty);if((u=C(r,"__defineGetter__"))&&(x=s.bind(r.__defineGetter__),_=s.bind(r.__defineSetter__),p=s.bind(r.__lookupGetter__),a=s.bind(r.__lookupSetter__)),[1,2].splice(0).length!=2)if(function(){function $(oe){var ce=new Array(oe+2);return ce[0]=ce[1]=0,ce}var X,q=[];if(q.splice.apply(q,$(20)),q.splice.apply(q,$(26)),X=q.length,q.splice(5,0,"XXX"),q.length,X+1==q.length)return!0}()){var b=Array.prototype.splice;Array.prototype.splice=function($,X){return arguments.length?b.apply(this,[$===void 0?0:$,X===void 0?this.length-$:X].concat(m.call(arguments,2))):[]}}else Array.prototype.splice=function($,X){var q=this.length;$>0?$>q&&($=q):$==null?$=0:$<0&&($=Math.max(q+$,0)),$+X<q||(X=q-$);var oe=this.slice($,$+X),ce=m.call(arguments,2),se=ce.length;if($===q)se&&this.push.apply(this,ce);else{var fe=Math.min(X,q-$),_e=$+fe,Te=_e+se-fe,Ce=q-_e,De=q-fe;if(Te<_e)for(var Be=0;Be<Ce;++Be)this[Te+Be]=this[_e+Be];else if(Te>_e)for(Be=Ce;Be--;)this[Te+Be]=this[_e+Be];if(se&&$===De)this.length=De,this.push.apply(this,ce);else for(this.length=De+se,Be=0;Be<se;++Be)this[$+Be]=ce[Be]}return oe};Array.isArray||(Array.isArray=function($){return v($)=="[object Array]"});var E,R,g=Object("a"),f=g[0]!="a"||!(0 in g);Array.prototype.forEach||(Array.prototype.forEach=function($){var X=H(this),q=f&&v(this)=="[object String]"?this.split(""):X,oe=arguments[1],ce=-1,se=q.length>>>0;if(v($)!="[object Function]")throw new TypeError;for(;++ce<se;)ce in q&&$.call(oe,q[ce],ce,X)}),Array.prototype.map||(Array.prototype.map=function($){var X=H(this),q=f&&v(this)=="[object String]"?this.split(""):X,oe=q.length>>>0,ce=Array(oe),se=arguments[1];if(v($)!="[object Function]")throw new TypeError($+" is not a function");for(var fe=0;fe<oe;fe++)fe in q&&(ce[fe]=$.call(se,q[fe],fe,X));return ce}),Array.prototype.filter||(Array.prototype.filter=function($){var X,q=H(this),oe=f&&v(this)=="[object String]"?this.split(""):q,ce=oe.length>>>0,se=[],fe=arguments[1];if(v($)!="[object Function]")throw new TypeError($+" is not a function");for(var _e=0;_e<ce;_e++)_e in oe&&(X=oe[_e],$.call(fe,X,_e,q)&&se.push(X));return se}),Array.prototype.every||(Array.prototype.every=function($){var X=H(this),q=f&&v(this)=="[object String]"?this.split(""):X,oe=q.length>>>0,ce=arguments[1];if(v($)!="[object Function]")throw new TypeError($+" is not a function");for(var se=0;se<oe;se++)if(se in q&&!$.call(ce,q[se],se,X))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function($){var X=H(this),q=f&&v(this)=="[object String]"?this.split(""):X,oe=q.length>>>0,ce=arguments[1];if(v($)!="[object Function]")throw new TypeError($+" is not a function");for(var se=0;se<oe;se++)if(se in q&&$.call(ce,q[se],se,X))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function($){var X=H(this),q=f&&v(this)=="[object String]"?this.split(""):X,oe=q.length>>>0;if(v($)!="[object Function]")throw new TypeError($+" is not a function");if(!oe&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var ce,se=0;if(arguments.length>=2)ce=arguments[1];else for(;;){if(se in q){ce=q[se++];break}if(++se>=oe)throw new TypeError("reduce of empty array with no initial value")}for(;se<oe;se++)se in q&&(ce=$.call(void 0,ce,q[se],se,X));return ce}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function($){var X=H(this),q=f&&v(this)=="[object String]"?this.split(""):X,oe=q.length>>>0;if(v($)!="[object Function]")throw new TypeError($+" is not a function");if(!oe&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var ce,se=oe-1;if(arguments.length>=2)ce=arguments[1];else for(;;){if(se in q){ce=q[se--];break}if(--se<0)throw new TypeError("reduceRight of empty array with no initial value")}do se in this&&(ce=$.call(void 0,ce,q[se],se,X));while(se--);return ce}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function($){var X=f&&v(this)=="[object String]"?this.split(""):H(this),q=X.length>>>0;if(!q)return-1;var oe=0;for(arguments.length>1&&(oe=K(arguments[1])),oe=oe>=0?oe:Math.max(0,q+oe);oe<q;oe++)if(oe in X&&X[oe]===$)return oe;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function($){var X=f&&v(this)=="[object String]"?this.split(""):H(this),q=X.length>>>0;if(!q)return-1;var oe=q-1;for(arguments.length>1&&(oe=Math.min(oe,K(arguments[1]))),oe=oe>=0?oe:q-Math.abs(oe);oe>=0;oe--)if(oe in X&&$===X[oe])return oe;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function($){return $.__proto__||($.constructor?$.constructor.prototype:r)}),!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function($,X){if(typeof $!="object"&&typeof $!="function"||$===null)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+$);if(C($,X)){var q;if(q={enumerable:!0,configurable:!0},u){var oe=$.__proto__;$.__proto__=r;var ce=p($,X),se=a($,X);if($.__proto__=oe,ce||se)return ce&&(q.get=ce),se&&(q.set=se),q}return q.value=$[X],q}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function($){return Object.keys($)}),Object.create||(E=Object.prototype.__proto__===null?function(){return{__proto__:null}}:function(){var $={};for(var X in $)$[X]=null;return $.constructor=$.hasOwnProperty=$.propertyIsEnumerable=$.isPrototypeOf=$.toLocaleString=$.toString=$.valueOf=$.__proto__=null,$},Object.create=function($,X){var q;if($===null)q=E();else{if(typeof $!="object")throw new TypeError("typeof prototype["+typeof $+"] != 'object'");var oe=function(){};oe.prototype=$,(q=new oe).__proto__=$}return X!==void 0&&Object.defineProperties(q,X),q});function T($){try{return Object.defineProperty($,"sentinel",{}),"sentinel"in $}catch{}}if(Object.defineProperty){var L=T({}),w=typeof document=="undefined"||T(document.createElement("div"));if(!L||!w)var S=Object.defineProperty}(!Object.defineProperty||S)&&(Object.defineProperty=function($,X,q){if(typeof $!="object"&&typeof $!="function"||$===null)throw new TypeError("Object.defineProperty called on non-object: "+$);if(typeof q!="object"&&typeof q!="function"||q===null)throw new TypeError("Property description must be an object: "+q);if(S)try{return S.call(Object,$,X,q)}catch{}if(C(q,"value"))if(u&&(p($,X)||a($,X))){var oe=$.__proto__;$.__proto__=r,delete $[X],$[X]=q.value,$.__proto__=oe}else $[X]=q.value;else{if(!u)throw new TypeError("getters & setters can not be defined on this javascript engine");C(q,"get")&&x($,X,q.get),C(q,"set")&&_($,X,q.set)}return $}),Object.defineProperties||(Object.defineProperties=function($,X){for(var q in X)C(X,q)&&Object.defineProperty($,q,X[q]);return $}),Object.seal||(Object.seal=function($){return $}),Object.freeze||(Object.freeze=function($){return $});try{Object.freeze(function(){})}catch{Object.freeze=(R=Object.freeze,function(X){return typeof X=="function"?X:R(X)})}if(Object.preventExtensions||(Object.preventExtensions=function($){return $}),Object.isSealed||(Object.isSealed=function($){return!1}),Object.isFrozen||(Object.isFrozen=function($){return!1}),Object.isExtensible||(Object.isExtensible=function($){if(Object($)===$)throw new TypeError;for(var X="";C($,X);)X+="?";$[X]=!0;var q=C($,X);return delete $[X],q}),!Object.keys){var I=!0,F=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],B=F.length;for(var G in{toString:null})I=!1;Object.keys=function($){if(typeof $!="object"&&typeof $!="function"||$===null)throw new TypeError("Object.keys called on a non-object");var X=[];for(var q in $)C($,q)&&X.push(q);if(I)for(var oe=0,ce=B;oe<ce;oe++){var se=F[oe];C($,se)&&X.push(se)}return X}}Date.now||(Date.now=function(){return new Date().getTime()});var z=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`;if(!String.prototype.trim){z="["+z+"]";var ne=new RegExp("^"+z+z+"*"),J=new RegExp(z+z+"*$");String.prototype.trim=function(){return String(this).replace(ne,"").replace(J,"")}}function K($){return($=+$)!=$?$=0:$!==0&&$!==1/0&&$!==-1/0&&($=($>0||-1)*Math.floor(Math.abs($))),$}var H=function($){if($==null)throw new TypeError("can't convert "+$+" to object");return Object($)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(M,O,Q){M("./regexp"),M("./es5-shim"),typeof Element=="undefined"||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(M,O,Q){O.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},O.getOS=function(){return O.isMac?O.OS.MAC:O.isLinux?O.OS.LINUX:O.OS.WINDOWS};var N=typeof navigator=="object"?navigator:{},x=(/mac|win|linux/i.exec(N.platform)||["other"])[0].toLowerCase(),_=N.userAgent||"",p=N.appName||"";O.isWin=x=="win",O.isMac=x=="mac",O.isLinux=x=="linux",O.isIE=p=="Microsoft Internet Explorer"||p.indexOf("MSAppHost")>=0?parseFloat((_.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((_.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),O.isOldIE=O.isIE&&O.isIE<9,O.isGecko=O.isMozilla=_.match(/ Gecko\/\d+/),O.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",O.isWebKit=parseFloat(_.split("WebKit/")[1])||void 0,O.isChrome=parseFloat(_.split(" Chrome/")[1])||void 0,O.isEdge=parseFloat(_.split(" Edge/")[1])||void 0,O.isAIR=_.indexOf("AdobeAIR")>=0,O.isAndroid=_.indexOf("Android")>=0,O.isChromeOS=_.indexOf(" CrOS ")>=0,O.isIOS=/iPad|iPhone|iPod/.test(_)&&!window.MSStream,O.isIOS&&(O.isMac=!0),O.isMobile=O.isIOS||O.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(M,O,Q){var N=M("./useragent");if(O.buildDom=function _(p,a,u){if(typeof p=="string"&&p){var s=document.createTextNode(p);return a&&a.appendChild(s),s}if(!Array.isArray(p))return p;if(typeof p[0]!="string"||!p[0]){for(var l=[],r=0;r<p.length;r++){var m=_(p[r],a,u);m&&l.push(m)}return l}var v=document.createElement(p[0]),C=p[1],b=1;for(C&&typeof C=="object"&&!Array.isArray(C)&&(b=2),r=b;r<p.length;r++)_(p[r],v,u);return b==2&&Object.keys(C).forEach(function(E){var R=C[E];E==="class"?v.className=Array.isArray(R)?R.join(" "):R:typeof R=="function"||E=="value"?v[E]=R:E==="ref"?u&&(u[R]=v):R!=null&&v.setAttribute(E,R)}),a&&a.appendChild(v),v},O.getDocumentHead=function(_){return _||(_=document),_.head||_.getElementsByTagName("head")[0]||_.documentElement},O.createElement=function(_,p){return document.createElementNS?document.createElementNS(p||"http://www.w3.org/1999/xhtml",_):document.createElement(_)},O.removeChildren=function(_){_.innerHTML=""},O.createTextNode=function(_,p){return(p?p.ownerDocument:document).createTextNode(_)},O.createFragment=function(_){return(_?_.ownerDocument:document).createDocumentFragment()},O.hasCssClass=function(_,p){return(_.className+"").split(/\s+/g).indexOf(p)!==-1},O.addCssClass=function(_,p){O.hasCssClass(_,p)||(_.className+=" "+p)},O.removeCssClass=function(_,p){for(var a=_.className.split(/\s+/g);;){var u=a.indexOf(p);if(u==-1)break;a.splice(u,1)}_.className=a.join(" ")},O.toggleCssClass=function(_,p){for(var a=_.className.split(/\s+/g),u=!0;;){var s=a.indexOf(p);if(s==-1)break;u=!1,a.splice(s,1)}return u&&a.push(p),_.className=a.join(" "),u},O.setCssClass=function(_,p,a){a?O.addCssClass(_,p):O.removeCssClass(_,p)},O.hasCssString=function(_,p){var a,u=0;if(a=(p=p||document).querySelectorAll("style")){for(;u<a.length;)if(a[u++].id===_)return!0}},O.importCssString=function(_,p,a){var u=a;a&&a.getRootNode&&(u=a.getRootNode())&&u!=a||(u=document);var s=u.ownerDocument||u;if(p&&O.hasCssString(p,u))return null;p&&(_+=`
/*# sourceURL=ace/css/`+p+" */");var l=O.createElement("style");l.appendChild(s.createTextNode(_)),p&&(l.id=p),u==s&&(u=O.getDocumentHead(s)),u.insertBefore(l,u.firstChild)},O.importCssStylsheet=function(_,p){O.buildDom(["link",{rel:"stylesheet",href:_}],O.getDocumentHead(p))},O.scrollbarWidth=function(_){var p=O.createElement("ace_inner");p.style.width="100%",p.style.minWidth="0px",p.style.height="200px",p.style.display="block";var a=O.createElement("ace_outer"),u=a.style;u.position="absolute",u.left="-10000px",u.overflow="hidden",u.width="200px",u.minWidth="0px",u.height="150px",u.display="block",a.appendChild(p);var s=_.documentElement;s.appendChild(a);var l=p.offsetWidth;u.overflow="scroll";var r=p.offsetWidth;return l==r&&(r=a.clientWidth),s.removeChild(a),l-r},typeof document=="undefined"&&(O.importCssString=function(){}),O.computedStyle=function(_,p){return window.getComputedStyle(_,"")||{}},O.setStyle=function(_,p,a){_[p]!==a&&(_[p]=a)},O.HAS_CSS_ANIMATION=!1,O.HAS_CSS_TRANSFORMS=!1,O.HI_DPI=!N.isWin||typeof window!="undefined"&&window.devicePixelRatio>=1.5,typeof document!="undefined"){var x=document.createElement("div");O.HI_DPI&&x.style.transform!==void 0&&(O.HAS_CSS_TRANSFORMS=!0),N.isEdge||x.style.animationName===void 0||(O.HAS_CSS_ANIMATION=!0),x=null}O.HAS_CSS_TRANSFORMS?O.translate=function(_,p,a){_.style.transform="translate("+Math.round(p)+"px, "+Math.round(a)+"px)"}:O.translate=function(_,p,a){_.style.top=Math.round(a)+"px",_.style.left=Math.round(p)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(M,O,Q){O.inherits=function(N,x){N.super_=x,N.prototype=Object.create(x.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}})},O.mixin=function(N,x){for(var _ in x)N[_]=x[_];return N},O.implement=function(N,x){O.mixin(N,x)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(M,O,Q){var N=M("./oop"),x=function(){var _,p,a={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(p in a.FUNCTION_KEYS)_=a.FUNCTION_KEYS[p].toLowerCase(),a[_]=parseInt(p,10);for(p in a.PRINTABLE_KEYS)_=a.PRINTABLE_KEYS[p].toLowerCase(),a[_]=parseInt(p,10);return N.mixin(a,a.MODIFIER_KEYS),N.mixin(a,a.PRINTABLE_KEYS),N.mixin(a,a.FUNCTION_KEYS),a.enter=a.return,a.escape=a.esc,a.del=a.delete,a[173]="-",function(){for(var u=["cmd","ctrl","alt","shift"],s=Math.pow(2,u.length);s--;)a.KEY_MODS[s]=u.filter(function(l){return s&a.KEY_MODS[l]}).join("-")+"-"}(),a.KEY_MODS[0]="",a.KEY_MODS[-1]="input-",a}();N.mixin(O,x),O.keyCodeToString=function(_){var p=x[_];return typeof p!="string"&&(p=String.fromCharCode(_)),p.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(M,O,Q){var N=M("./keys"),x=M("./useragent"),_=null,p=0;O.addListener=function(r,m,v){if(r.addEventListener)return r.addEventListener(m,v,!1);if(r.attachEvent){var C=function(){v.call(r,window.event)};v._wrapper=C,r.attachEvent("on"+m,C)}},O.removeListener=function(r,m,v){if(r.removeEventListener)return r.removeEventListener(m,v,!1);r.detachEvent&&r.detachEvent("on"+m,v._wrapper||v)},O.stopEvent=function(r){return O.stopPropagation(r),O.preventDefault(r),!1},O.stopPropagation=function(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0},O.preventDefault=function(r){r.preventDefault?r.preventDefault():r.returnValue=!1},O.getButton=function(r){return r.type=="dblclick"?0:r.type=="contextmenu"||x.isMac&&r.ctrlKey&&!r.altKey&&!r.shiftKey?2:r.preventDefault?r.button:{1:0,2:2,4:1}[r.button]},O.capture=function(r,m,v){function C(b){m&&m(b),v&&v(b),O.removeListener(document,"mousemove",m,!0),O.removeListener(document,"mouseup",C,!0),O.removeListener(document,"dragstart",C,!0)}return O.addListener(document,"mousemove",m,!0),O.addListener(document,"mouseup",C,!0),O.addListener(document,"dragstart",C,!0),C},O.addMouseWheelListener=function(r,m){"onmousewheel"in r?O.addListener(r,"mousewheel",function(v){v.wheelDeltaX!==void 0?(v.wheelX=-v.wheelDeltaX/8,v.wheelY=-v.wheelDeltaY/8):(v.wheelX=0,v.wheelY=-v.wheelDelta/8),m(v)}):"onwheel"in r?O.addListener(r,"wheel",function(v){switch(v.deltaMode){case v.DOM_DELTA_PIXEL:v.wheelX=.35*v.deltaX||0,v.wheelY=.35*v.deltaY||0;break;case v.DOM_DELTA_LINE:case v.DOM_DELTA_PAGE:v.wheelX=5*(v.deltaX||0),v.wheelY=5*(v.deltaY||0)}m(v)}):O.addListener(r,"DOMMouseScroll",function(v){v.axis&&v.axis==v.HORIZONTAL_AXIS?(v.wheelX=5*(v.detail||0),v.wheelY=0):(v.wheelX=0,v.wheelY=5*(v.detail||0)),m(v)})},O.addMultiMouseDownListener=function(r,m,v,C){var b,E,R,g=0,f={2:"dblclick",3:"tripleclick",4:"quadclick"};function T(w){if(O.getButton(w)!==0?g=0:w.detail>1?++g>4&&(g=1):g=1,x.isIE){var S=Math.abs(w.clientX-b)>5||Math.abs(w.clientY-E)>5;R&&!S||(g=1),R&&clearTimeout(R),R=setTimeout(function(){R=null},m[g-1]||600),g==1&&(b=w.clientX,E=w.clientY)}if(w._clicks=g,v[C]("mousedown",w),g>4)g=0;else if(g>1)return v[C](f[g],w)}function L(w){g=2,R&&clearTimeout(R),R=setTimeout(function(){R=null},m[g-1]||600),v[C]("mousedown",w),v[C](f[g],w)}Array.isArray(r)||(r=[r]),r.forEach(function(w){O.addListener(w,"mousedown",T),x.isOldIE&&O.addListener(w,"dblclick",L)})};var a=!x.isMac||!x.isOpera||"KeyboardEvent"in window?function(r){return 0|(r.ctrlKey?1:0)|(r.altKey?2:0)|(r.shiftKey?4:0)|(r.metaKey?8:0)}:function(r){return 0|(r.metaKey?1:0)|(r.altKey?2:0)|(r.shiftKey?4:0)|(r.ctrlKey?8:0)};function u(r,m,v){var C=a(m);if(!x.isMac&&_){if(m.getModifierState&&(m.getModifierState("OS")||m.getModifierState("Win"))&&(C|=8),_.altGr){if((3&C)==3)return;_.altGr=0}if(v===18||v===17){var b="location"in m?m.location:m.keyLocation;v===17&&b===1?_[v]==1&&(p=m.timeStamp):v===18&&C===3&&b===2&&m.timeStamp-p<50&&(_.altGr=!0)}}if(v in N.MODIFIER_KEYS&&(v=-1),!(!C&&v===13&&(b="location"in m?m.location:m.keyLocation)===3&&(r(m,C,-v),m.defaultPrevented))){if(x.isChromeOS&&8&C){if(r(m,C,v),m.defaultPrevented)return;C&=-9}return!!(C||v in N.FUNCTION_KEYS||v in N.PRINTABLE_KEYS)&&r(m,C,v)}}function s(){_=Object.create(null)}if(O.getModifierString=function(r){return N.KEY_MODS[a(r)]},O.addCommandKeyListener=function(r,m){var v=O.addListener;if(x.isOldGecko||x.isOpera&&!("KeyboardEvent"in window)){var C=null;v(r,"keydown",function(E){C=E.keyCode}),v(r,"keypress",function(E){return u(m,E,C)})}else{var b=null;v(r,"keydown",function(E){_[E.keyCode]=(_[E.keyCode]||0)+1;var R=u(m,E,E.keyCode);return b=E.defaultPrevented,R}),v(r,"keypress",function(E){b&&(E.ctrlKey||E.altKey||E.shiftKey||E.metaKey)&&(O.stopEvent(E),b=null)}),v(r,"keyup",function(E){_[E.keyCode]=null}),_||(s(),v(window,"focus",s))}},typeof window=="object"&&window.postMessage&&!x.isOldIE){var l=1;O.nextTick=function(r,m){m=m||window;var v="zero-timeout-message-"+l++,C=function(b){b.data==v&&(O.stopPropagation(b),O.removeListener(m,"message",C),r())};O.addListener(m,"message",C),m.postMessage(v,"*")}}O.$idleBlocked=!1,O.onIdle=function(r,m){return setTimeout(function v(){O.$idleBlocked?setTimeout(v,100):r()},m)},O.$idleBlockId=null,O.blockIdle=function(r){O.$idleBlockId&&clearTimeout(O.$idleBlockId),O.$idleBlocked=!0,O.$idleBlockId=setTimeout(function(){O.$idleBlocked=!1},r||100)},O.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),O.nextFrame?O.nextFrame=O.nextFrame.bind(window):O.nextFrame=function(r){setTimeout(r,17)}}),ace.define("ace/range",["require","exports","module"],function(M,O,Q){var N=function(x,_,p,a){this.start={row:x,column:_},this.end={row:p,column:a}};(function(){this.isEqual=function(x){return this.start.row===x.start.row&&this.end.row===x.end.row&&this.start.column===x.start.column&&this.end.column===x.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(x,_){return this.compare(x,_)==0},this.compareRange=function(x){var _,p=x.end,a=x.start;return(_=this.compare(p.row,p.column))==1?(_=this.compare(a.row,a.column))==1?2:_==0?1:0:_==-1?-2:(_=this.compare(a.row,a.column))==-1?-1:_==1?42:0},this.comparePoint=function(x){return this.compare(x.row,x.column)},this.containsRange=function(x){return this.comparePoint(x.start)==0&&this.comparePoint(x.end)==0},this.intersects=function(x){var _=this.compareRange(x);return _==-1||_==0||_==1},this.isEnd=function(x,_){return this.end.row==x&&this.end.column==_},this.isStart=function(x,_){return this.start.row==x&&this.start.column==_},this.setStart=function(x,_){typeof x=="object"?(this.start.column=x.column,this.start.row=x.row):(this.start.row=x,this.start.column=_)},this.setEnd=function(x,_){typeof x=="object"?(this.end.column=x.column,this.end.row=x.row):(this.end.row=x,this.end.column=_)},this.inside=function(x,_){return this.compare(x,_)==0&&!this.isEnd(x,_)&&!this.isStart(x,_)},this.insideStart=function(x,_){return this.compare(x,_)==0&&!this.isEnd(x,_)},this.insideEnd=function(x,_){return this.compare(x,_)==0&&!this.isStart(x,_)},this.compare=function(x,_){return this.isMultiLine()||x!==this.start.row?x<this.start.row?-1:x>this.end.row?1:this.start.row===x?_>=this.start.column?0:-1:this.end.row===x?_<=this.end.column?0:1:0:_<this.start.column?-1:_>this.end.column?1:0},this.compareStart=function(x,_){return this.start.row==x&&this.start.column==_?-1:this.compare(x,_)},this.compareEnd=function(x,_){return this.end.row==x&&this.end.column==_?1:this.compare(x,_)},this.compareInside=function(x,_){return this.end.row==x&&this.end.column==_?1:this.start.row==x&&this.start.column==_?-1:this.compare(x,_)},this.clipRows=function(x,_){if(this.end.row>_)var p={row:_+1,column:0};else this.end.row<x&&(p={row:x,column:0});if(this.start.row>_)var a={row:_+1,column:0};else this.start.row<x&&(a={row:x,column:0});return N.fromPoints(a||this.start,p||this.end)},this.extend=function(x,_){var p=this.compare(x,_);if(p==0)return this;if(p==-1)var a={row:x,column:_};else var u={row:x,column:_};return N.fromPoints(a||this.start,u||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return N.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new N(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new N(this.start.row,0,this.end.row,0)},this.toScreenRange=function(x){var _=x.documentToScreenPosition(this.start),p=x.documentToScreenPosition(this.end);return new N(_.row,_.column,p.row,p.column)},this.moveBy=function(x,_){this.start.row+=x,this.start.column+=_,this.end.row+=x,this.end.column+=_}}).call(N.prototype),N.fromPoints=function(x,_){return new N(x.row,x.column,_.row,_.column)},N.comparePoints=function(x,_){return x.row-_.row||x.column-_.column},N.comparePoints=function(x,_){return x.row-_.row||x.column-_.column},O.Range=N}),ace.define("ace/lib/lang",["require","exports","module"],function(M,O,Q){O.last=function(_){return _[_.length-1]},O.stringReverse=function(_){return _.split("").reverse().join("")},O.stringRepeat=function(_,p){for(var a="";p>0;)1&p&&(a+=_),(p>>=1)&&(_+=_);return a};var N=/^\s\s*/,x=/\s\s*$/;O.stringTrimLeft=function(_){return _.replace(N,"")},O.stringTrimRight=function(_){return _.replace(x,"")},O.copyObject=function(_){var p={};for(var a in _)p[a]=_[a];return p},O.copyArray=function(_){for(var p=[],a=0,u=_.length;a<u;a++)_[a]&&typeof _[a]=="object"?p[a]=this.copyObject(_[a]):p[a]=_[a];return p},O.deepCopy=function _(p){if(typeof p!="object"||!p)return p;var a;if(Array.isArray(p)){a=[];for(var u=0;u<p.length;u++)a[u]=_(p[u]);return a}if(Object.prototype.toString.call(p)!=="[object Object]")return p;for(var u in a={},p)a[u]=_(p[u]);return a},O.arrayToMap=function(_){for(var p={},a=0;a<_.length;a++)p[_[a]]=1;return p},O.createMap=function(_){var p=Object.create(null);for(var a in _)p[a]=_[a];return p},O.arrayRemove=function(_,p){for(var a=0;a<=_.length;a++)p===_[a]&&_.splice(a,1)},O.escapeRegExp=function(_){return _.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},O.escapeHTML=function(_){return(""+_).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},O.getMatchOffsets=function(_,p){var a=[];return _.replace(p,function(u){a.push({offset:arguments[arguments.length-2],length:u.length})}),a},O.deferredCall=function(_){var p=null,a=function(){p=null,_()},u=function(s){return u.cancel(),p=setTimeout(a,s||0),u};return u.schedule=u,u.call=function(){return this.cancel(),_(),u},u.cancel=function(){return clearTimeout(p),p=null,u},u.isPending=function(){return p},u},O.delayedCall=function(_,p){var a=null,u=function(){a=null,_()},s=function(l){a==null&&(a=setTimeout(u,l||p))};return s.delay=function(l){a&&clearTimeout(a),a=setTimeout(u,l||p)},s.schedule=s,s.call=function(){this.cancel(),_()},s.cancel=function(){a&&clearTimeout(a),a=null},s.isPending=function(){return a},s}}),ace.define("ace/clipboard",["require","exports","module"],function(M,O,Q){var N;Q.exports={lineMode:!1,pasteCancelled:function(){return!!(N&&N>Date.now()-50)||(N=!1)},cancel:function(){N=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(M,O,Q){var N=M("../lib/event"),x=M("../lib/useragent"),_=M("../lib/dom"),p=M("../lib/lang"),a=M("../clipboard"),u=x.isChrome<18,s=x.isIE,l=x.isChrome>63,r=M("../lib/keys"),m=r.KEY_MODS,v=x.isIOS,C=v?/\s/:/\n/;O.TextInput=function(b,E){var R=_.createElement("textarea");R.className="ace_text-input",R.setAttribute("wrap","off"),R.setAttribute("autocorrect","off"),R.setAttribute("autocapitalize","off"),R.setAttribute("spellcheck",!1),R.style.opacity="0",b.insertBefore(R,b.firstChild);var g=!1,f=!1,T=!1,L=!1,w="";x.isMobile||(R.style.fontSize="1px");var S=!1,I=!1,F="",B=0,G=0,z=0;try{var ne=document.activeElement===R}catch{}N.addListener(R,"blur",function(ue){I||(E.onBlur(ue),ne=!1)}),N.addListener(R,"focus",function(ue){if(!I){if(ne=!0,x.isEdge)try{if(!document.hasFocus())return}catch{}E.onFocus(ue),x.isEdge?setTimeout(J):J()}}),this.$focusScroll=!1,this.focus=function(){if(w||l||this.$focusScroll=="browser")return R.focus({preventScroll:!0});var ue=R.style.top;R.style.position="fixed",R.style.top="0px";try{var de=R.getBoundingClientRect().top!=0}catch{return}var ge=[];if(de)for(var ye=R.parentElement;ye&&ye.nodeType==1;)ge.push(ye),ye.setAttribute("ace_nocontext",!0),ye=!ye.parentElement&&ye.getRootNode?ye.getRootNode().host:ye.parentElement;R.focus({preventScroll:!0}),de&&ge.forEach(function(Se){Se.removeAttribute("ace_nocontext")}),setTimeout(function(){R.style.position="",R.style.top=="0px"&&(R.style.top=ue)},0)},this.blur=function(){R.blur()},this.isFocused=function(){return ne},E.on("beforeEndOperation",function(){E.curOp&&E.curOp.command.name=="insertstring"||(T&&(F=R.value="",Te()),J())});var J=v?function(ue){if(ne&&(!g||ue)&&!L){ue||(ue="");var de=`
 ab`+ue+`cde fg
`;de!=R.value&&(R.value=F=de);var ge=4+(ue.length||(E.selection.isEmpty()?0:1));B==4&&G==ge||R.setSelectionRange(4,ge),B=4,G=ge}}:function(){if(!T&&!L&&(ne||H)){T=!0;var ue=E.selection,de=ue.getRange(),ge=ue.cursor.row,ye=de.start.column,Se=de.end.column,Me=E.session.getLine(ge);if(de.start.row!=ge){var Oe=E.session.getLine(ge-1);ye=de.start.row<ge-1?0:ye,Se+=Oe.length+1,Me=Oe+`
`+Me}else if(de.end.row!=ge){var ke=E.session.getLine(ge+1);Se=de.end.row>ge+1?ke.length:Se,Se+=Me.length+1,Me=Me+`
`+ke}Me.length>400&&(ye<400&&Se<400?Me=Me.slice(0,400):(Me=`
`,ye=0,Se=1));var Le=Me+`

`;if(Le!=F&&(R.value=F=Le,B=G=Le.length),H&&(B=R.selectionStart,G=R.selectionEnd),G!=Se||B!=ye||R.selectionEnd!=G)try{R.setSelectionRange(ye,Se),B=ye,G=Se}catch{}T=!1}};ne&&E.onFocus();var K=null;this.setInputHandler=function(ue){K=ue},this.getInputHandler=function(){return K};var H=!1,$=function(ue,de){if(H&&(H=!1),f)return J(),ue&&E.onPaste(ue),f=!1,"";for(var ge=R.selectionStart,ye=R.selectionEnd,Se=B,Me=F.length-G,Oe=ue,ke=ue.length-ge,Le=ue.length-ye,Re=0;Se>0&&F[Re]==ue[Re];)Re++,Se--;for(Oe=Oe.slice(Re),Re=1;Me>0&&F.length-Re>B-1&&F[F.length-Re]==ue[ue.length-Re];)Re++,Me--;ke-=Re-1,Le-=Re-1;var We=Oe.length-Re+1;return We<0&&(Se=-We,We=0),Oe=Oe.slice(0,We),de||Oe||ke||Se||Me||Le?(L=!0,Oe&&!Se&&!Me&&!ke&&!Le||S?E.onTextInput(Oe):E.onTextInput(Oe,{extendLeft:Se,extendRight:Me,restoreStart:ke,restoreEnd:Le}),L=!1,F=ue,B=ge,G=ye,z=Le,Oe):""},X=function(ue){if(T)return _e();if(ue&&ue.inputType){if(ue.inputType=="historyUndo")return E.execCommand("undo");if(ue.inputType=="historyRedo")return E.execCommand("redo")}var de=R.value,ge=$(de,!0);(de.length>500||C.test(ge))&&J()},q=function(ue,de,ge){var ye=ue.clipboardData||window.clipboardData;if(ye&&!u){var Se=s||ge?"Text":"text/plain";try{return de?ye.setData(Se,de)!==!1:ye.getData(Se)}catch(Me){if(!ge)return q(Me,de,!0)}}},oe=function(ue,de){var ge=E.getCopyText();if(!ge)return N.preventDefault(ue);q(ue,ge)?(v&&(J(ge),g=ge,setTimeout(function(){g=!1},10)),de?E.onCut():E.onCopy(),N.preventDefault(ue)):(g=!0,R.value=ge,R.select(),setTimeout(function(){g=!1,J(),de?E.onCut():E.onCopy()}))},ce=function(ue){oe(ue,!0)},se=function(ue){oe(ue,!1)},fe=function(ue){var de=q(ue);a.pasteCancelled()||(typeof de=="string"?(de&&E.onPaste(de,ue),x.isIE&&setTimeout(J),N.preventDefault(ue)):(R.value="",f=!0))};N.addCommandKeyListener(R,E.onCommandKey.bind(E)),N.addListener(R,"select",function(ue){T||(g?g=!1:function(de){return de.selectionStart===0&&de.selectionEnd>=F.length&&de.value===F&&F&&de.selectionEnd!==G}(R)&&(E.selectAll(),J()))}),N.addListener(R,"input",X),N.addListener(R,"cut",ce),N.addListener(R,"copy",se),N.addListener(R,"paste",fe),"oncut"in R&&"oncopy"in R&&"onpaste"in R||N.addListener(b,"keydown",function(ue){if((!x.isMac||ue.metaKey)&&ue.ctrlKey)switch(ue.keyCode){case 67:se(ue);break;case 86:fe(ue);break;case 88:ce(ue)}});var _e=function(){if(T&&E.onCompositionUpdate&&!E.$readOnly){if(S)return Ce();if(T.useTextareaForIME)E.onCompositionUpdate(R.value);else{var ue=R.value;$(ue),T.markerRange&&(T.context&&(T.markerRange.start.column=T.selectionStart=T.context.compositionStartOffset),T.markerRange.end.column=T.markerRange.start.column+G-T.selectionStart+z)}}},Te=function(ue){E.onCompositionEnd&&!E.$readOnly&&(T=!1,E.onCompositionEnd(),E.off("mousedown",Ce),ue&&X())};function Ce(){I=!0,R.blur(),R.focus(),I=!1}var De,Be=p.delayedCall(_e,50).schedule.bind(null,null);function ht(){clearTimeout(De),De=setTimeout(function(){w&&(R.style.cssText=w,w=""),E.renderer.$isMousePressed=!1,E.renderer.$keepTextAreaAtCursor&&E.renderer.$moveTextAreaToCursor()},0)}N.addListener(R,"compositionstart",function(ue){if(!T&&E.onCompositionStart&&!E.$readOnly&&(T={},!S)){setTimeout(_e,0),E.on("mousedown",Ce);var de=E.getSelectionRange();de.end.row=de.start.row,de.end.column=de.start.column,T.markerRange=de,T.selectionStart=B,E.onCompositionStart(T),T.useTextareaForIME?(R.value="",F="",B=0,G=0):(R.msGetInputContext&&(T.context=R.msGetInputContext()),R.getInputContext&&(T.context=R.getInputContext()))}}),N.addListener(R,"compositionupdate",_e),N.addListener(R,"keyup",function(ue){ue.keyCode==27&&R.value.length<R.selectionStart&&(T||(F=R.value),B=G=-1,J()),Be()}),N.addListener(R,"keydown",Be),N.addListener(R,"compositionend",Te),this.getElement=function(){return R},this.setCommandMode=function(ue){S=ue,R.readOnly=!1},this.setReadOnly=function(ue){S||(R.readOnly=ue)},this.setCopyWithEmptySelection=function(ue){},this.onContextMenu=function(ue){H=!0,J(),E._emit("nativecontextmenu",{target:E,domEvent:ue}),this.moveToMouse(ue,!0)},this.moveToMouse=function(ue,de){w||(w=R.style.cssText),R.style.cssText=(de?"z-index:100000;":"")+(x.isIE?"opacity:0.1;":"")+"text-indent: -"+(B+G)*E.renderer.characterWidth*.5+"px;";var ge=E.container.getBoundingClientRect(),ye=_.computedStyle(E.container),Se=ge.top+(parseInt(ye.borderTopWidth)||0),Me=ge.left+(parseInt(ge.borderLeftWidth)||0),Oe=ge.bottom-Se-R.clientHeight-2,ke=function(Le){_.translate(R,Le.clientX-Me-2,Math.min(Le.clientY-Se-2,Oe))};ke(ue),ue.type=="mousedown"&&(E.renderer.$isMousePressed=!0,clearTimeout(De),x.isWin&&N.capture(E.container,ke,ht))},this.onContextMenuClose=ht;var dt=function(ue){E.textInput.onContextMenu(ue),ht()};N.addListener(R,"mouseup",dt),N.addListener(R,"mousedown",function(ue){ue.preventDefault(),ht()}),N.addListener(E.renderer.scroller,"contextmenu",dt),N.addListener(R,"contextmenu",dt),v&&function(ue,de,ge){var ye=null,Se=!1;ge.addEventListener("keydown",function(Oe){ye&&clearTimeout(ye),Se=!0},!0),ge.addEventListener("keyup",function(Oe){ye=setTimeout(function(){Se=!1},100)},!0);var Me=function(Oe){if(document.activeElement===ge&&!(Se||T||de.$mouseHandler.isMousePressed||g)){var ke=ge.selectionStart,Le=ge.selectionEnd,Re=null,We=0;if(ke==0?Re=r.up:ke==1?Re=r.home:Le>G&&F[Le]==`
`?Re=r.end:ke<B&&F[ke-1]==" "?(Re=r.left,We=m.option):ke<B||ke==B&&G!=B&&ke==Le?Re=r.left:Le>G&&F.slice(0,Le).split(`
`).length>2?Re=r.down:Le>G&&F[Le-1]==" "?(Re=r.right,We=m.option):(Le>G||Le==G&&G!=B&&ke==Le)&&(Re=r.right),ke!==Le&&(We|=m.shift),Re){if(!de.onCommandKey({},We,Re)&&de.commands){Re=r.keyCodeToString(Re);var et=de.commands.findKeyCommand(We,Re);et&&de.execCommand(et)}B=ke,G=Le,J("")}}};document.addEventListener("selectionchange",Me),de.on("destroy",function(){document.removeEventListener("selectionchange",Me)})}(0,E,R)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(M,O,Q){var N=M("../lib/useragent");function x(p){p.$clickSelection=null;var a=p.editor;a.setDefaultHandler("mousedown",this.onMouseDown.bind(p)),a.setDefaultHandler("dblclick",this.onDoubleClick.bind(p)),a.setDefaultHandler("tripleclick",this.onTripleClick.bind(p)),a.setDefaultHandler("quadclick",this.onQuadClick.bind(p)),a.setDefaultHandler("mousewheel",this.onMouseWheel.bind(p)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(u){p[u]=this[u]},this),p.selectByLines=this.extendSelectionBy.bind(p,"getLineRange"),p.selectByWords=this.extendSelectionBy.bind(p,"getWordRange")}function _(p,a){if(p.start.row==p.end.row)var u=2*a.column-p.start.column-p.end.column;else if(p.start.row!=p.end.row-1||p.start.column||p.end.column)u=2*a.row-p.start.row-p.end.row;else var u=a.column-4;return u<0?{cursor:p.start,anchor:p.end}:{cursor:p.end,anchor:p.start}}(function(){this.onMouseDown=function(p){var a=p.inSelection(),u=p.getDocumentPosition();this.mousedownEvent=p;var s=this.editor,l=p.getButton();return l!==0?((s.getSelectionRange().isEmpty()||l==1)&&s.selection.moveToPosition(u),void(l==2&&(s.textInput.onContextMenu(p.domEvent),N.isMozilla||p.preventDefault()))):(this.mousedownEvent.time=Date.now(),!a||s.isFocused()||(s.focus(),!this.$focusTimeout||this.$clickSelection||s.inMultiSelectMode)?(this.captureMouse(p),this.startSelect(u,p.domEvent._clicks>1),p.preventDefault()):(this.setState("focusWait"),void this.captureMouse(p)))},this.startSelect=function(p,a){p=p||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var u=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?u.selection.selectToPosition(p):a||u.selection.moveToPosition(p),a||this.select(),u.renderer.scroller.setCapture&&u.renderer.scroller.setCapture(),u.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var p,a=this.editor,u=a.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(u);if(s==-1)p=this.$clickSelection.end;else if(s==1)p=this.$clickSelection.start;else{var l=_(this.$clickSelection,u);u=l.cursor,p=l.anchor}a.selection.setSelectionAnchor(p.row,p.column)}a.selection.selectToPosition(u),a.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(p){var a,u=this.editor,s=u.renderer.screenToTextCoordinates(this.x,this.y),l=u.selection[p](s.row,s.column);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(l.start),m=this.$clickSelection.comparePoint(l.end);if(r==-1&&m<=0)a=this.$clickSelection.end,l.end.row==s.row&&l.end.column==s.column||(s=l.start);else if(m==1&&r>=0)a=this.$clickSelection.start,l.start.row==s.row&&l.start.column==s.column||(s=l.end);else if(r==-1&&m==1)s=l.end,a=l.start;else{var v=_(this.$clickSelection,s);s=v.cursor,a=v.anchor}u.selection.setSelectionAnchor(a.row,a.column)}u.selection.selectToPosition(s),u.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var p,a,u,s,l=(p=this.mousedownEvent.x,a=this.mousedownEvent.y,u=this.x,s=this.y,Math.sqrt(Math.pow(u-p,2)+Math.pow(s-a,2))),r=Date.now();(l>0||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(p){var a=p.getDocumentPosition(),u=this.editor,s=u.session.getBracketRange(a);s?(s.isEmpty()&&(s.start.column--,s.end.column++),this.setState("select")):(s=u.selection.getWordRange(a.row,a.column),this.setState("selectByWords")),this.$clickSelection=s,this.select()},this.onTripleClick=function(p){var a=p.getDocumentPosition(),u=this.editor;this.setState("selectByLines");var s=u.getSelectionRange();s.isMultiLine()&&s.contains(a.row,a.column)?(this.$clickSelection=u.selection.getLineRange(s.start.row),this.$clickSelection.end=u.selection.getLineRange(s.end.row).end):this.$clickSelection=u.selection.getLineRange(a.row),this.select()},this.onQuadClick=function(p){var a=this.editor;a.selectAll(),this.$clickSelection=a.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(p){if(!p.getAccelKey()){p.getShiftKey()&&p.wheelY&&!p.wheelX&&(p.wheelX=p.wheelY,p.wheelY=0);var a=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var u=this.$lastScroll,s=p.domEvent.timeStamp,l=s-u.t,r=l?p.wheelX/l:u.vx,m=l?p.wheelY/l:u.vy;l<550&&(r=(r+u.vx)/2,m=(m+u.vy)/2);var v=Math.abs(r/m),C=!1;return v>=1&&a.renderer.isScrollableBy(p.wheelX*p.speed,0)&&(C=!0),v<=1&&a.renderer.isScrollableBy(0,p.wheelY*p.speed)&&(C=!0),C?u.allowed=s:s-u.allowed<550&&(Math.abs(r)<=1.5*Math.abs(u.vx)&&Math.abs(m)<=1.5*Math.abs(u.vy)?(C=!0,u.allowed=s):u.allowed=0),u.t=s,u.vx=r,u.vy=m,C?(a.renderer.scrollBy(p.wheelX*p.speed,p.wheelY*p.speed),p.stop()):void 0}}}).call(x.prototype),O.DefaultHandlers=x}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(M,O,Q){M("./lib/oop");var N=M("./lib/dom");function x(_){this.isOpen=!1,this.$element=null,this.$parentNode=_}(function(){this.$init=function(){return this.$element=N.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(_){this.getElement().textContent=_},this.setHtml=function(_){this.getElement().innerHTML=_},this.setPosition=function(_,p){this.getElement().style.left=_+"px",this.getElement().style.top=p+"px"},this.setClassName=function(_){N.addCssClass(this.getElement(),_)},this.show=function(_,p,a){_!=null&&this.setText(_),p!=null&&a!=null&&this.setPosition(p,a),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(x.prototype),O.Tooltip=x}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(M,O,Q){var N=M("../lib/dom"),x=M("../lib/oop"),_=M("../lib/event"),p=M("../tooltip").Tooltip;function a(u){p.call(this,u)}x.inherits(a,p),function(){this.setPosition=function(u,s){var l=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,m=this.getWidth(),v=this.getHeight();(u+=15)+m>l&&(u-=u+m-l),(s+=15)+v>r&&(s-=20+v),p.prototype.setPosition.call(this,u,s)}}.call(a.prototype),O.GutterHandler=function(u){var s,l,r,m=u.editor,v=m.renderer.$gutterLayer,C=new a(m.container);function b(){s&&(s=clearTimeout(s)),r&&(C.hide(),r=null,m._signal("hideGutterTooltip",C),m.removeEventListener("mousewheel",b))}function E(R){C.setPosition(R.x,R.y)}u.editor.setDefaultHandler("guttermousedown",function(R){if(m.isFocused()&&R.getButton()==0&&v.getRegion(R)!="foldWidgets"){var g=R.getDocumentPosition().row,f=m.session.selection;if(R.getShiftKey())f.selectTo(g,0);else{if(R.domEvent.detail==2)return m.selectAll(),R.preventDefault();u.$clickSelection=m.selection.getLineRange(g)}return u.setState("selectByLines"),u.captureMouse(R),R.preventDefault()}}),u.editor.setDefaultHandler("guttermousemove",function(R){var g=R.domEvent.target||R.domEvent.srcElement;if(N.hasCssClass(g,"ace_fold-widget"))return b();r&&u.$tooltipFollowsMouse&&E(R),l=R,s||(s=setTimeout(function(){s=null,l&&!u.isMousePressed?function(){var f=l.getDocumentPosition().row,T=v.$annotations[f];if(!T)return b();if(f==m.session.getLength()){var L=m.renderer.pixelToScreenCoordinates(0,l.y).row,w=l.$pos;if(L>m.session.documentToScreenRow(w.row,w.column))return b()}if(r!=T)if(r=T.text.join("<br/>"),C.setHtml(r),C.show(),m._signal("showGutterTooltip",C),m.on("mousewheel",b),u.$tooltipFollowsMouse)E(l);else{var S=l.domEvent.target.getBoundingClientRect(),I=C.getElement().style;I.left=S.right+"px",I.top=S.bottom+"px"}}():b()},50))}),_.addListener(m.renderer.$gutter,"mouseout",function(R){l=null,r&&!s&&(s=setTimeout(function(){s=null,b()},50))}),m.on("changeSession",b)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(M,O,Q){var N=M("../lib/event"),x=M("../lib/useragent"),_=O.MouseEvent=function(p,a){this.domEvent=p,this.editor=a,this.x=this.clientX=p.clientX,this.y=this.clientY=p.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){N.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){N.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var p=this.editor.getSelectionRange();if(p.isEmpty())this.$inSelection=!1;else{var a=this.getDocumentPosition();this.$inSelection=p.contains(a.row,a.column)}return this.$inSelection},this.getButton=function(){return N.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=x.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(_.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(M,O,Q){var N=M("../lib/dom"),x=M("../lib/event"),_=M("../lib/useragent");function p(u){var s=u.editor,l=N.createElement("img");l.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_.isOpera&&(l.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(K){u[K]=this[K]},this),s.addEventListener("mousedown",this.onMouseDown.bind(u));var r,m,v,C,b,E,R,g,f,T,L,w=s.container,S=0;function I(){var K=E;(function(H,$){var X=Date.now(),q=!$||H.row!=$.row,oe=!$||H.column!=$.column;!T||q||oe?(s.moveCursorToPosition(H),T=X,L={x:m,y:v}):a(L.x,L.y,m,v)>5?T=null:X-T>=200&&(s.renderer.scrollCursorIntoView(),T=null)})(E=s.renderer.screenToTextCoordinates(m,v),K),function(H,$){var X=Date.now(),q=s.renderer.layerConfig.lineHeight,oe=s.renderer.layerConfig.characterWidth,ce=s.renderer.scroller.getBoundingClientRect(),se={x:{left:m-ce.left,right:ce.right-m},y:{top:v-ce.top,bottom:ce.bottom-v}},fe=Math.min(se.x.left,se.x.right),_e=Math.min(se.y.top,se.y.bottom),Te={row:H.row,column:H.column};fe/oe<=2&&(Te.column+=se.x.left<se.x.right?-3:2),_e/q<=1&&(Te.row+=se.y.top<se.y.bottom?-1:1);var Ce=H.row!=Te.row,De=H.column!=Te.column,Be=!$||H.row!=$.row;Ce||De&&!Be?f?X-f>=200&&s.renderer.scrollCursorIntoView(Te):f=X:f=null}(E,K)}function F(){b=s.selection.toOrientedRange(),r=s.session.addMarker(b,"ace_selection",s.getSelectionStyle()),s.clearSelection(),s.isFocused()&&s.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),I(),C=setInterval(I,20),S=0,x.addListener(document,"mousemove",z)}function B(){clearInterval(C),s.session.removeMarker(r),r=null,s.selection.fromOrientedRange(b),s.isFocused()&&!g&&s.$resetCursorStyle(),b=null,E=null,S=0,f=null,T=null,x.removeListener(document,"mousemove",z)}this.onDragStart=function(K){if(this.cancelDrag||!w.draggable){var H=this;return setTimeout(function(){H.startSelect(),H.captureMouse(K)},0),K.preventDefault()}b=s.getSelectionRange();var $=K.dataTransfer;$.effectAllowed=s.getReadOnly()?"copy":"copyMove",_.isOpera&&(s.container.appendChild(l),l.scrollTop=0),$.setDragImage&&$.setDragImage(l,0,0),_.isOpera&&s.container.removeChild(l),$.clearData(),$.setData("Text",s.session.getTextRange()),g=!0,this.setState("drag")},this.onDragEnd=function(K){if(w.draggable=!1,g=!1,this.setState(null),!s.getReadOnly()){var H=K.dataTransfer.dropEffect;R||H!="move"||s.session.remove(s.getSelectionRange()),s.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(K){if(!s.getReadOnly()&&ne(K.dataTransfer))return m=K.clientX,v=K.clientY,r||F(),S++,K.dataTransfer.dropEffect=R=J(K),x.preventDefault(K)},this.onDragOver=function(K){if(!s.getReadOnly()&&ne(K.dataTransfer))return m=K.clientX,v=K.clientY,r||(F(),S++),G!==null&&(G=null),K.dataTransfer.dropEffect=R=J(K),x.preventDefault(K)},this.onDragLeave=function(K){if(--S<=0&&r)return B(),R=null,x.preventDefault(K)},this.onDrop=function(K){if(E){var H=K.dataTransfer;if(g)switch(R){case"move":b=b.contains(E.row,E.column)?{start:E,end:E}:s.moveText(b,E);break;case"copy":b=s.moveText(b,E,!0)}else{var $=H.getData("Text");b={start:E,end:s.session.insert(E,$)},s.focus(),R=null}return B(),x.preventDefault(K)}},x.addListener(w,"dragstart",this.onDragStart.bind(u)),x.addListener(w,"dragend",this.onDragEnd.bind(u)),x.addListener(w,"dragenter",this.onDragEnter.bind(u)),x.addListener(w,"dragover",this.onDragOver.bind(u)),x.addListener(w,"dragleave",this.onDragLeave.bind(u)),x.addListener(w,"drop",this.onDrop.bind(u));var G=null;function z(){G==null&&(G=setTimeout(function(){G!=null&&r&&B()},20))}function ne(K){var H=K.types;return!H||Array.prototype.some.call(H,function($){return $=="text/plain"||$=="Text"})}function J(K){var H=["copy","copymove","all","uninitialized"],$=_.isMac?K.altKey:K.ctrlKey,X="uninitialized";try{X=K.dataTransfer.effectAllowed.toLowerCase()}catch{}var q="none";return $&&H.indexOf(X)>=0?q="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(X)>=0?q="move":H.indexOf(X)>=0&&(q="copy"),q}}function a(u,s,l,r){return Math.sqrt(Math.pow(l-u,2)+Math.pow(r-s,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(u){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var u=this.editor;u.container.draggable=!0,u.renderer.$cursorLayer.setBlinking(!1),u.setStyle("ace_dragging");var s=_.isWin?"default":"move";u.renderer.setCursorStyle(s),this.setState("dragReady")},this.onMouseDrag=function(u){var s=this.editor.container;_.isIE&&this.state=="dragReady"&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&s.dragDrop(),this.state==="dragWait"&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(s.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var s=this.editor,l=u.inSelection(),r=u.getButton();if((u.domEvent.detail||1)===1&&r===0&&l){if(u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey()))return;this.mousedownEvent.time=Date.now();var m=u.domEvent.target||u.domEvent.srcElement;"unselectable"in m&&(m.unselectable="on"),s.getDragDelay()?(_.isWebKit&&(this.cancelDrag=!0,s.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0}}}}).call(p.prototype),O.DragdropHandler=p}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/dom"],function(M,O,Q){var N=M("./mouse_event").MouseEvent,x=M("../lib/dom");O.addTouchListeners=function(_,p){var a,u,s,l,r,m,v,C,b,E="scroll",R=0,g=0,f=0,T=0;function L(){var F=window.navigator&&window.navigator.clipboard,B=!1,G=function(z){var ne,J,K=z.target.getAttribute("action");if(K=="more"||!B)return B=!B,ne=p.getCopyText(),J=p.session.getUndoManager().hasUndo(),void b.replaceChild(x.buildDom(B?["span",!ne&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],ne&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],ne&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],F&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],J&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),b.firstChild);K=="paste"?F.readText().then(function(H){p.execCommand(K,H)}):K&&(K!="cut"&&K!="copy"||(F?F.writeText(p.getCopyText()):document.execCommand("copy")),p.execCommand(K)),b.firstChild.style.display="none",B=!1,K!="openCommandPallete"&&p.focus()};b=x.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(z){E="menu",z.stopPropagation(),z.preventDefault(),p.textInput.focus()},ontouchend:function(z){z.stopPropagation(),z.preventDefault(),G(z)},onclick:G},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],p.container)}function w(){b||L();var F=p.selection.cursor,B=p.renderer.textToScreenCoordinates(F.row,F.column),G=p.container.getBoundingClientRect();b.style.top=B.pageY-G.top-3+"px",b.style.right="10px",b.style.display="",b.firstChild.style.display="none",p.on("input",S)}function S(F){b&&(b.style.display="none"),p.off("input",S)}function I(){r=null,clearTimeout(r);var F=p.selection.getRange(),B=F.contains(v.row,v.column);!F.isEmpty()&&B||(p.selection.moveToPosition(v),p.selection.selectWord()),E="wait",w()}_.addEventListener("contextmenu",function(F){C&&p.textInput.getElement().focus()}),_.addEventListener("touchstart",function(F){var B=F.touches;if(r||B.length>1)return clearTimeout(r),r=null,s=-1,void(E="zoom");C=p.$mouseHandler.isMousePressed=!0;var G=p.renderer.layerConfig.lineHeight,z=p.renderer.layerConfig.lineHeight,ne=F.timeStamp;l=ne;var J=B[0],K=J.clientX,H=J.clientY;Math.abs(a-K)+Math.abs(u-H)>G&&(s=-1),a=F.clientX=K,u=F.clientY=H,f=T=0;var $=new N(F,p);if(v=$.getDocumentPosition(),ne-s<500&&B.length==1&&!R)g++,F.preventDefault(),F.button=0,function(){r=null,clearTimeout(r),p.selection.moveToPosition(v);var Ce=g>=2?p.selection.getLineRange(v.row):p.session.getBracketRange(v);Ce&&!Ce.isEmpty()?p.selection.setRange(Ce):p.selection.selectWord(),E="wait"}();else{g=0;var X=p.selection.cursor,q=p.selection.isEmpty()?X:p.selection.anchor,oe=p.renderer.$cursorLayer.getPixelPosition(X,!0),ce=p.renderer.$cursorLayer.getPixelPosition(q,!0),se=p.renderer.scroller.getBoundingClientRect(),fe=function(Ce,De){return(Ce/=z)*Ce+(De=De/G-.75)*De};if(F.clientX<se.left)return void(E="zoom");var _e=fe(F.clientX-se.left-oe.left,F.clientY-se.top-oe.top),Te=fe(F.clientX-se.left-ce.left,F.clientY-se.top-ce.top);_e<3.5&&Te<3.5&&(E=_e>Te?"cursor":"anchor"),E=Te<3.5?"anchor":_e<3.5?"cursor":"scroll",r=setTimeout(I,450)}s=ne}),_.addEventListener("touchend",function(F){C=p.$mouseHandler.isMousePressed=!1,m&&clearInterval(m),E=="zoom"?(E="",R=0):r?(p.selection.moveToPosition(v),R=0,w()):E=="scroll"?(R+=60,m=setInterval(function(){R--<=0&&(clearInterval(m),m=null),Math.abs(f)<.01&&(f=0),Math.abs(T)<.01&&(T=0),R<20&&(f*=.9),R<20&&(T*=.9);var B=p.session.getScrollTop();p.renderer.scrollBy(10*f,10*T),B==p.session.getScrollTop()&&(R=0)},10),F.preventDefault(),S()):w(),clearTimeout(r),r=null}),_.addEventListener("touchmove",function(F){r&&(clearTimeout(r),r=null);var B=F.touches;if(!(B.length>1||E=="zoom")){var G=B[0],z=a-G.clientX,ne=u-G.clientY;if(E=="wait"){if(!(z*z+ne*ne>4))return F.preventDefault();E="cursor"}a=G.clientX,u=G.clientY,F.clientX=G.clientX,F.clientY=G.clientY;var J=F.timeStamp,K=J-l;if(l=J,E=="scroll"){var H=new N(F,p);H.speed=1,H.wheelX=z,H.wheelY=ne,10*Math.abs(z)<Math.abs(ne)&&(z=0),10*Math.abs(ne)<Math.abs(z)&&(ne=0),K!=0&&(f=z/K,T=ne/K),p._emit("mousewheel",H),H.propagationStopped||(f=T=0)}else{var $=new N(F,p).getDocumentPosition();E=="cursor"?p.selection.moveCursorToPosition($):E=="anchor"&&p.selection.setSelectionAnchor($.row,$.column),p.renderer.scrollCursorIntoView($),F.preventDefault()}}})}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(M,O,Q){var N=M("./dom");O.get=function(x,_){var p=new XMLHttpRequest;p.open("GET",x,!0),p.onreadystatechange=function(){p.readyState===4&&_(p.responseText)},p.send(null)},O.loadScript=function(x,_){var p=N.getDocumentHead(),a=document.createElement("script");a.src=x,p.appendChild(a),a.onload=a.onreadystatechange=function(u,s){!s&&a.readyState&&a.readyState!="loaded"&&a.readyState!="complete"||(a=a.onload=a.onreadystatechange=null,s||_())}},O.qualifyURL=function(x){var _=document.createElement("a");return _.href=x,_.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(M,O,Q){var N={},x=function(){this.propagationStopped=!0},_=function(){this.defaultPrevented=!0};N._emit=N._dispatchEvent=function(p,a){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var u=this._eventRegistry[p]||[],s=this._defaultHandlers[p];if(u.length||s){typeof a=="object"&&a||(a={}),a.type||(a.type=p),a.stopPropagation||(a.stopPropagation=x),a.preventDefault||(a.preventDefault=_),u=u.slice();for(var l=0;l<u.length&&(u[l](a,this),!a.propagationStopped);l++);return s&&!a.defaultPrevented?s(a,this):void 0}},N._signal=function(p,a){var u=(this._eventRegistry||{})[p];if(u){u=u.slice();for(var s=0;s<u.length;s++)u[s](a,this)}},N.once=function(p,a){var u=this;if(this.addEventListener(p,function s(){u.removeEventListener(p,s),a.apply(null,arguments)}),!a)return new Promise(function(s){a=s})},N.setDefaultHandler=function(p,a){var u=this._defaultHandlers;if(u||(u=this._defaultHandlers={_disabled_:{}}),u[p]){var s=u[p],l=u._disabled_[p];l||(u._disabled_[p]=l=[]),l.push(s);var r=l.indexOf(a);r!=-1&&l.splice(r,1)}u[p]=a},N.removeDefaultHandler=function(p,a){var u=this._defaultHandlers;if(u){var s=u._disabled_[p];if(u[p]==a)s&&this.setDefaultHandler(p,s.pop());else if(s){var l=s.indexOf(a);l!=-1&&s.splice(l,1)}}},N.on=N.addEventListener=function(p,a,u){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[p];return s||(s=this._eventRegistry[p]=[]),s.indexOf(a)==-1&&s[u?"unshift":"push"](a),a},N.off=N.removeListener=N.removeEventListener=function(p,a){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[p];if(u){var s=u.indexOf(a);s!==-1&&u.splice(s,1)}},N.removeAllListeners=function(p){this._eventRegistry&&(this._eventRegistry[p]=[])},O.EventEmitter=N}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(M,O,Q){var N=M("./oop"),x=M("./event_emitter").EventEmitter,_={setOptions:function(s){Object.keys(s).forEach(function(l){this.setOption(l,s[l])},this)},getOptions:function(s){var l={};if(s)Array.isArray(s)||(l=s,s=Object.keys(l));else{var r=this.$options;s=Object.keys(r).filter(function(m){return!r[m].hidden})}return s.forEach(function(m){l[m]=this.getOption(m)},this),l},setOption:function(s,l){if(this["$"+s]!==l){var r=this.$options[s];if(!r)return p('misspelled option "'+s+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(s,l);r.handlesSet||(this["$"+s]=l),r&&r.set&&r.set.call(this,l)}},getOption:function(s){var l=this.$options[s];return l?l.forwardTo?this[l.forwardTo]&&this[l.forwardTo].getOption(s):l&&l.get?l.get.call(this):this["$"+s]:p('misspelled option "'+s+'"')}};function p(s){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}function a(s,l){var r=new Error(s);r.data=l,typeof console=="object"&&console.error&&console.error(r),setTimeout(function(){throw r})}var u=function(){this.$defaultOptions={}};(function(){N.implement(this,x),this.defineOptions=function(s,l,r){return s.$options||(this.$defaultOptions[l]=s.$options={}),Object.keys(r).forEach(function(m){var v=r[m];typeof v=="string"&&(v={forwardTo:v}),v.name||(v.name=m),s.$options[v.name]=v,"initialValue"in v&&(s["$"+v.name]=v.initialValue)}),N.implement(s,_),this},this.resetOptions=function(s){Object.keys(s.$options).forEach(function(l){var r=s.$options[l];"value"in r&&s.setOption(l,r.value)})},this.setDefaultValue=function(s,l,r){if(!s){for(s in this.$defaultOptions)if(this.$defaultOptions[s][l])break;if(!this.$defaultOptions[s][l])return!1}var m=this.$defaultOptions[s]||(this.$defaultOptions[s]={});m[l]&&(m.forwardTo?this.setDefaultValue(m.forwardTo,l,r):m[l].value=r)},this.setDefaultValues=function(s,l){Object.keys(l).forEach(function(r){this.setDefaultValue(s,r,l[r])},this)},this.warn=p,this.reportError=a}).call(u.prototype),O.AppConfig=u}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(M,O,Q){var N=M("./lib/lang"),x=(M("./lib/oop"),M("./lib/net")),_=M("./lib/app_config").AppConfig;Q.exports=O=new _;var p=function(){return this||typeof window!="undefined"&&window}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};O.get=function(l){if(!a.hasOwnProperty(l))throw new Error("Unknown config key: "+l);return a[l]},O.set=function(l,r){if(a.hasOwnProperty(l))a[l]=r;else if(this.setDefaultValue("",l,r)==0)throw new Error("Unknown config key: "+l)},O.all=function(){return N.copyObject(a)},O.$modes={},O.moduleUrl=function(l,r){if(a.$moduleUrls[l])return a.$moduleUrls[l];var m=l.split("/"),v=(r=r||m[m.length-2]||"")=="snippets"?"/":"-",C=m[m.length-1];if(r=="worker"&&v=="-"){var b=new RegExp("^"+r+"[\\-_]|[\\-_]"+r+"$","g");C=C.replace(b,"")}(!C||C==r)&&m.length>1&&(C=m[m.length-2]);var E=a[r+"Path"];return E==null?E=a.basePath:v=="/"&&(r=v=""),E&&E.slice(-1)!="/"&&(E+="/"),E+r+v+C+this.get("suffix")},O.setModuleUrl=function(l,r){return a.$moduleUrls[l]=r},O.$loading={},O.loadModule=function(l,r){var m,v;Array.isArray(l)&&(v=l[0],l=l[1]);try{m=M(l)}catch{}if(m&&!O.$loading[l])return r&&r(m);if(O.$loading[l]||(O.$loading[l]=[]),O.$loading[l].push(r),!(O.$loading[l].length>1)){var C=function(){M([l],function(b){O._emit("load.module",{name:l,module:b});var E=O.$loading[l];O.$loading[l]=null,E.forEach(function(R){R&&R(b)})})};if(!O.get("packaged"))return C();x.loadScript(O.moduleUrl(l,v),C),u()}};var u=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})};function s(l){if(p&&p.document){a.packaged=l||M.packaged||Q.packaged||p.define&&W(3).packaged;for(var r,m={},v="",C=document.currentScript||document._currentScript,b=(C&&C.ownerDocument||document).getElementsByTagName("script"),E=0;E<b.length;E++){var R=b[E],g=R.src||R.getAttribute("src");if(g){for(var f=R.attributes,T=0,L=f.length;T<L;T++){var w=f[T];w.name.indexOf("data-ace-")===0&&(m[r=w.name.replace(/^data-ace-/,""),r.replace(/-(.)/g,function(F,B){return B.toUpperCase()})]=w.value)}var S=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);S&&(v=S[1])}}for(var I in v&&(m.base=m.base||v,m.packaged=!0),m.basePath=m.base,m.workerPath=m.workerPath||m.base,m.modePath=m.modePath||m.base,m.themePath=m.themePath||m.base,delete m.base,m)m[I]!==void 0&&O.set(I,m[I])}}s(!0),O.init=s,O.version="1.4.7"}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(M,O,Q){var N=M("../lib/event"),x=M("../lib/useragent"),_=M("./default_handlers").DefaultHandlers,p=M("./default_gutter_handler").GutterHandler,a=M("./mouse_event").MouseEvent,u=M("./dragdrop_handler").DragdropHandler,s=M("./touch_handler").addTouchListeners,l=M("../config"),r=function(m){var v=this;this.editor=m,new _(this),new p(this),new u(this);var C=function(R){(!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement()))&&window.focus(),m.focus()},b=m.renderer.getMouseEventTarget();N.addListener(b,"click",this.onMouseEvent.bind(this,"click")),N.addListener(b,"mousemove",this.onMouseMove.bind(this,"mousemove")),N.addMultiMouseDownListener([b,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),N.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel")),s(m.container,m);var E=m.renderer.$gutter;N.addListener(E,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),N.addListener(E,"click",this.onMouseEvent.bind(this,"gutterclick")),N.addListener(E,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),N.addListener(E,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),N.addListener(b,"mousedown",C),N.addListener(E,"mousedown",C),x.isIE&&m.renderer.scrollBarV&&(N.addListener(m.renderer.scrollBarV.element,"mousedown",C),N.addListener(m.renderer.scrollBarH.element,"mousedown",C)),m.on("mousemove",function(R){if(!v.state&&!v.$dragDelay&&v.$dragEnabled){var g=m.renderer.screenToTextCoordinates(R.x,R.y),f=m.session.selection.getRange(),T=m.renderer;!f.isEmpty()&&f.insideStart(g.row,g.column)?T.setCursorStyle("default"):T.setCursorStyle("")}})};(function(){this.onMouseEvent=function(m,v){this.editor._emit(m,new a(v,this.editor))},this.onMouseMove=function(m,v){var C=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;C&&C.length&&this.editor._emit(m,new a(v,this.editor))},this.onMouseWheel=function(m,v){var C=new a(v,this.editor);C.speed=2*this.$scrollSpeed,C.wheelX=v.wheelX,C.wheelY=v.wheelY,this.editor._emit(m,C)},this.setState=function(m){this.state=m},this.captureMouse=function(m,v){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var C=this.editor,b=this.editor.renderer;b.$isMousePressed=!0;var E=this,R=function(w){if(w){if(x.isWebKit&&!w.which&&E.releaseMouse)return E.releaseMouse();E.x=w.clientX,E.y=w.clientY,v&&v(w),E.mouseEvent=new a(w,E.editor),E.$mouseMoved=!0}},g=function(w){C.off("beforeEndOperation",T),clearInterval(L),f(),E[E.state+"End"]&&E[E.state+"End"](w),E.state="",E.isMousePressed=b.$isMousePressed=!1,b.$keepTextAreaAtCursor&&b.$moveTextAreaToCursor(),E.$onCaptureMouseMove=E.releaseMouse=null,w&&E.onMouseEvent("mouseup",w),C.endOperation()},f=function(){E[E.state]&&E[E.state](),E.$mouseMoved=!1};if(x.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){g(m)});var T=function(w){E.releaseMouse&&C.curOp.command.name&&C.curOp.selectionChanged&&(E[E.state+"End"]&&E[E.state+"End"](),E.state="",E.releaseMouse())};C.on("beforeEndOperation",T),C.startOperation({command:{name:"mouse"}}),E.$onCaptureMouseMove=R,E.releaseMouse=N.capture(this.editor.container,R,g);var L=setInterval(f,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var m=function(v){v&&v.domEvent&&v.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),v&&v.domEvent&&N.stopEvent(v.domEvent))}.bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)}}).call(r.prototype),l.defineOptions(r.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:x.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),O.MouseHandler=r}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(M,O,Q){var N=M("../lib/dom");O.FoldHandler=function(x){x.on("click",function(_){var p=_.getDocumentPosition(),a=x.session,u=a.getFoldAt(p.row,p.column,1);u&&(_.getAccelKey()?a.removeFold(u):a.expandFold(u),_.stop());var s=_.domEvent&&_.domEvent.target;s&&N.hasCssClass(s,"ace_inline_button")&&N.hasCssClass(s,"ace_toggle_wrap")&&(a.setOption("wrap",!a.getUseWrapMode()),x.renderer.scrollCursorIntoView())}),x.on("gutterclick",function(_){if(x.renderer.$gutterLayer.getRegion(_)=="foldWidgets"){var p=_.getDocumentPosition().row,a=x.session;a.foldWidgets&&a.foldWidgets[p]&&x.session.onFoldWidgetClick(p,_),x.isFocused()||x.focus(),_.stop()}}),x.on("gutterdblclick",function(_){if(x.renderer.$gutterLayer.getRegion(_)=="foldWidgets"){var p=_.getDocumentPosition().row,a=x.session,u=a.getParentFoldRangeData(p,!0),s=u.range||u.firstRange;if(s){p=s.start.row;var l=a.getFoldAt(p,a.getLine(p).length,1);l?a.removeFold(l):(a.addFold("...",s),x.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}_.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(M,O,Q){var N=M("../lib/keys"),x=M("../lib/event"),_=function(p){this.$editor=p,this.$data={editor:p},this.$handlers=[],this.setDefaultHandler(p.commands)};(function(){this.setDefaultHandler=function(p){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=p,this.addKeyboardHandler(p,0)},this.setKeyboardHandler=function(p){var a=this.$handlers;if(a[a.length-1]!=p){for(;a[a.length-1]&&a[a.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(a[a.length-1]);this.addKeyboardHandler(p,1)}},this.addKeyboardHandler=function(p,a){if(p){typeof p!="function"||p.handleKeyboard||(p.handleKeyboard=p);var u=this.$handlers.indexOf(p);u!=-1&&this.$handlers.splice(u,1),a==null?this.$handlers.push(p):this.$handlers.splice(a,0,p),u==-1&&p.attach&&p.attach(this.$editor)}},this.removeKeyboardHandler=function(p){var a=this.$handlers.indexOf(p);return a!=-1&&(this.$handlers.splice(a,1),p.detach&&p.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var p=this.$data,a=p.editor;return this.$handlers.map(function(u){return u.getStatusText&&u.getStatusText(a,p)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(p,a,u,s){for(var l,r=!1,m=this.$editor.commands,v=this.$handlers.length;v--&&!((l=this.$handlers[v].handleKeyboard(this.$data,p,a,u,s))&&l.command&&((r=l.command=="null"||m.exec(l.command,this.$editor,l.args,s))&&s&&p!=-1&&l.passEvent!=1&&l.command.passEvent!=1&&x.stopEvent(s),r)););return r||p!=-1||(l={command:"insertstring"},r=m.exec("insertstring",this.$editor,a)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",l),r},this.onCommandKey=function(p,a,u){var s=N.keyCodeToString(u);return this.$callKeyboardHandlers(a,s,u,p)},this.onTextInput=function(p){return this.$callKeyboardHandlers(-1,p)}}).call(_.prototype),O.KeyBinding=_}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(M,O,Q){var N=0,x=0,_=!1,p=!1,a=!1,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],s=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],l=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],r=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function m(b,E,R){if(!(x<b))if(b!=1||N!=1||p)for(var g,f,T,L,w=R.length,S=0;S<w;){if(E[S]>=b){for(g=S+1;g<w&&E[g]>=b;)g++;for(f=S,T=g-1;f<T;f++,T--)L=R[f],R[f]=R[T],R[T]=L;S=g}S++}else R.reverse()}function v(b,E,R,g){var f,T,L,w,S=E[g];switch(S){case 0:case 1:_=!1;case 4:case 3:return S;case 2:return _?3:2;case 7:return _=!0,1;case 8:return 4;case 9:return g<1||g+1>=E.length||(f=R[g-1])!=2&&f!=3||(T=E[g+1])!=2&&T!=3?4:(_&&(T=3),T==f?T:4);case 10:return(f=g>0?R[g-1]:5)==2&&g+1<E.length&&E[g+1]==2?2:4;case 11:if(g>0&&R[g-1]==2)return 2;if(_)return 4;for(w=g+1,L=E.length;w<L&&E[w]==11;)w++;return w<L&&E[w]==2?2:4;case 12:for(L=E.length,w=g+1;w<L&&E[w]==12;)w++;if(w<L){var I=b[g],F=I>=1425&&I<=2303||I==64286;if(f=E[w],F&&(f==1||f==7))return 1}return g<1||(f=E[g-1])==5?4:R[g-1];case 5:return _=!1,p=!0,N;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:_=!1;case 18:return 4}}function C(b){var E=b.charCodeAt(0),R=E>>8;return R==0?E>191?0:l[E]:R==5?/[\u0591-\u05f4]/.test(b)?1:0:R==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(b)?12:/[\u0660-\u0669\u066b-\u066c]/.test(b)?3:E==1642?11:/[\u06f0-\u06f9]/.test(b)?2:7:R==32&&E<=8287?r[255&E]:R==254&&E>=65136?7:4}O.L=0,O.R=1,O.EN=2,O.ON_R=3,O.AN=4,O.R_H=5,O.B=6,O.RLE=7,O.DOT="\xB7",O.doBidiReorder=function(b,E,R){if(b.length<2)return{};var g=b.split(""),f=new Array(g.length),T=new Array(g.length),L=[];N=R?1:0,function(S,I,F,B){var G=N?s:u,z=null,ne=null,J=null,K=0,H=null,$=-1,X=null,q=null,oe=[];if(!B)for(X=0,B=[];X<F;X++)B[X]=C(S[X]);for(x=N,_=!1,p=!1,a=!1,q=0;q<F;q++){if(z=K,oe[q]=ne=v(S,B,oe,q),H=240&(K=G[z][ne]),K&=15,I[q]=J=G[K][5],H>0)if(H==16){for(X=$;X<q;X++)I[X]=1;$=-1}else $=-1;if(G[K][6])$==-1&&($=q);else if($>-1){for(X=$;X<q;X++)I[X]=J;$=-1}B[q]==5&&(I[q]=0),x|=J}if(a){for(X=0;X<F;X++)if(B[X]==6){I[X]=N;for(var ce=X-1;ce>=0&&B[ce]==8;ce--)I[ce]=N}}}(g,L,g.length,E);for(var w=0;w<f.length;f[w]=w,w++);for(m(2,L,f),m(1,L,f),w=0;w<f.length-1;w++)E[w]===3?L[w]=O.AN:L[w]===1&&(E[w]>7&&E[w]<13||E[w]===4||E[w]===18)?L[w]=O.ON_R:w>0&&g[w-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(g[w])&&(L[w-1]=L[w]=O.R_H,w++);for(g[g.length-1]===O.DOT&&(L[g.length-1]=O.B),g[0]==="\u202B"&&(L[0]=O.RLE),w=0;w<f.length;w++)T[w]=L[f[w]];return{logicalFromVisual:f,bidiLevels:T}},O.hasBidiCharacters=function(b,E){for(var R=!1,g=0;g<b.length;g++)E[g]=C(b.charAt(g)),R||E[g]!=1&&E[g]!=7&&E[g]!=3||(R=!0);return R},O.getVisualFromLogicalIdx=function(b,E){for(var R=0;R<E.logicalFromVisual.length;R++)if(E.logicalFromVisual[R]==b)return R;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(M,O,Q){var N=M("./lib/bidiutil"),x=M("./lib/lang"),_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,p=function(a){this.session=a,this.bidiMap={},this.currentRow=null,this.bidiUtil=N,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=_.test(a.getValue())};(function(){this.isBidiRow=function(a,u,s){return!!this.seenBidi&&(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(u,s),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(a){this.seenBidi?this.currentRow=null:a.action=="insert"&&_.test(a.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var a=0,u=this.session.$screenRowCache;if(u.length){var s=this.session.$getRowCacheIndex(u,this.currentRow);s>=0&&(a=this.session.$docRowCache[s])}return a},this.getSplitIndex=function(){var a=0,u=this.session.$screenRowCache;if(u.length)for(var s,l=this.session.$getRowCacheIndex(u,this.currentRow);this.currentRow-a>0&&(s=this.session.$getRowCacheIndex(u,this.currentRow-a-1))===l;)l=s,a++;else a=this.currentRow;return a},this.updateRowLine=function(a,u){a===void 0&&(a=this.getDocumentRow());var s=a===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(a),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var l=this.session.$wrapData[a];l&&(u===void 0&&(u=this.getSplitIndex()),u>0&&l.length?(this.wrapIndent=l.indent,this.wrapOffset=this.wrapIndent*this.charWidths[N.L],this.line=u<l.length?this.line.substring(l[u-1],l[u]):this.line.substring(l[l.length-1])):this.line=this.line.substring(0,l[u])),u==l.length&&(this.line+=this.showInvisibles?s:N.DOT)}else this.line+=this.showInvisibles?s:N.DOT;var r,m=this.session,v=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(C,b){return C==="	"||m.isFullWidth(C.charCodeAt(0))?(r=C==="	"?m.getScreenTabSize(b+v):2,v+=r-1,x.stringRepeat(N.DOT,r)):C}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==N.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var a=[];N.hasBidiCharacters(this.line,a)||this.isRtlDir?this.bidiMap=N.doBidiReorder(this.line,a,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(a){if(this.characterWidth!==a.$characterSize.width){this.fontMetrics=a;var u=this.characterWidth=a.$characterSize.width,s=a.$measureCharWidth("\u05D4");this.charWidths[N.L]=this.charWidths[N.EN]=this.charWidths[N.ON_R]=u,this.charWidths[N.R]=this.charWidths[N.AN]=s,this.charWidths[N.R_H]=.45*s,this.charWidths[N.B]=this.charWidths[N.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(a){this.showInvisibles=a,this.currentRow=null},this.setEolChar=function(a){this.EOL=a},this.setContentWidth=function(a){this.contentWidth=a},this.isRtlLine=function(a){return!!this.$isRtl||(a!=null?this.session.getLine(a).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(a,u){for(var s=a.getCursorPosition(),l=a.selection.getSelectionAnchor().row;l<=s.row;l++)u||a.session.getLine(l).charAt(0)!==a.session.$bidiHandler.RLE?u&&a.session.getLine(l).charAt(0)!==a.session.$bidiHandler.RLE&&a.session.doc.insert({column:0,row:l},a.session.$bidiHandler.RLE):a.session.doc.removeInLine(l,0,1)},this.getPosLeft=function(a){a-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,s=a>u?this.session.getOverwrite()?a:a-1:u,l=N.getVisualFromLogicalIdx(s,this.bidiMap),r=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&a<=u&&r[l]%2!=0&&l++;for(var v=0;v<l;v++)m+=this.charWidths[r[v]];return!this.session.getOverwrite()&&a>u&&r[l]%2==0&&(m+=this.charWidths[r[l]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},this.getSelections=function(a,u){var s,l=this.bidiMap,r=l.bidiLevels,m=[],v=0,C=Math.min(a,u)-this.wrapIndent,b=Math.max(a,u)-this.wrapIndent,E=!1,R=!1,g=0;this.wrapIndent&&(v+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var f,T=0;T<r.length;T++)f=l.logicalFromVisual[T],s=r[T],(E=f>=C&&f<b)&&!R?g=v:!E&&R&&m.push({left:g,width:v-g}),v+=this.charWidths[s],R=E;if(E&&T===r.length&&m.push({left:g,width:v-g}),this.isRtlDir)for(var L=0;L<m.length;L++)m[L].left+=this.rtlLineOffset;return m},this.offsetToCol=function(a){this.isRtlDir&&(a-=this.rtlLineOffset);var u=0,s=(a=Math.max(a,0),0),l=0,r=this.bidiMap.bidiLevels,m=this.charWidths[r[l]];for(this.wrapIndent&&(a-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);a>s+m/2;){if(s+=m,l===r.length-1){m=0;break}m=this.charWidths[r[++l]]}return l>0&&r[l-1]%2!=0&&r[l]%2==0?(a<s&&l--,u=this.bidiMap.logicalFromVisual[l]):l>0&&r[l-1]%2==0&&r[l]%2!=0?u=1+(a>s?this.bidiMap.logicalFromVisual[l]:this.bidiMap.logicalFromVisual[l-1]):this.isRtlDir&&l===r.length-1&&m===0&&r[l-1]%2==0||!this.isRtlDir&&l===0&&r[l]%2!=0?u=1+this.bidiMap.logicalFromVisual[l]:(l>0&&r[l-1]%2!=0&&m!==0&&l--,u=this.bidiMap.logicalFromVisual[l]),u===0&&this.isRtlDir&&u++,u+this.wrapIndent}}).call(p.prototype),O.BidiHandler=p}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(M,O,Q){var N=M("./lib/oop"),x=M("./lib/lang"),_=M("./lib/event_emitter").EventEmitter,p=M("./range").Range,a=function(u){this.session=u,this.doc=u.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var s=this;this.cursor.on("change",function(l){s.$cursorChanged=!0,s.$silent||s._emit("changeCursor"),s.$isEmpty||s.$silent||s._emit("changeSelection"),s.$keepDesiredColumnOnChange||l.old.column==l.value.column||(s.$desiredColumn=null)}),this.anchor.on("change",function(){s.$anchorChanged=!0,s.$isEmpty||s.$silent||s._emit("changeSelection")})};(function(){N.implement(this,_),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(u,s){this.$isEmpty=!1,this.anchor.setPosition(u,s)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var u=this.anchor,s=this.lead;return u.row>s.row||u.row==s.row&&u.column>s.column},this.getRange=function(){var u=this.anchor,s=this.lead;return this.$isEmpty?p.fromPoints(s,s):this.isBackwards()?p.fromPoints(s,u):p.fromPoints(u,s)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(u,s){var l=s?u.end:u.start,r=s?u.start:u.end;this.$setSelection(l.row,l.column,r.row,r.column)},this.$setSelection=function(u,s,l,r){var m=this.$isEmpty,v=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(u,s),this.cursor.setPosition(l,r),this.$isEmpty=!p.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||v)&&this._emit("changeSelection")},this.$moveSelection=function(u){var s=this.lead;this.$isEmpty&&this.setSelectionAnchor(s.row,s.column),u.call(this)},this.selectTo=function(u,s){this.$moveSelection(function(){this.moveCursorTo(u,s)})},this.selectToPosition=function(u){this.$moveSelection(function(){this.moveCursorToPosition(u)})},this.moveTo=function(u,s){this.clearSelection(),this.moveCursorTo(u,s)},this.moveToPosition=function(u){this.clearSelection(),this.moveCursorToPosition(u)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(u,s){if(s===void 0){var l=u||this.lead;u=l.row,s=l.column}return this.session.getWordRange(u,s)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var u=this.getCursor(),s=this.session.getAWordRange(u.row,u.column);this.setSelectionRange(s)},this.getLineRange=function(u,s){var l,r=typeof u=="number"?u:this.lead.row,m=this.session.getFoldLine(r);return m?(r=m.start.row,l=m.end.row):l=r,s===!0?new p(r,0,l,this.session.getLine(l).length):new p(r,0,l+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(u,s,l){var r=u.column,m=u.column+s;return l<0&&(r=u.column-s,m=u.column),this.session.isTabStop(u)&&this.doc.getLine(u.row).slice(r,m).split(" ").length-1==s},this.moveCursorLeft=function(){var u,s=this.lead.getPosition();if(u=this.session.getFoldAt(s.row,s.column,-1))this.moveCursorTo(u.start.row,u.start.column);else if(s.column===0)s.row>0&&this.moveCursorTo(s.row-1,this.doc.getLine(s.row-1).length);else{var l=this.session.getTabSize();this.wouldMoveIntoSoftTab(s,l,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-l):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var u,s=this.lead.getPosition();if(u=this.session.getFoldAt(s.row,s.column,1))this.moveCursorTo(u.end.row,u.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var l=this.session.getTabSize();s=this.lead,this.wouldMoveIntoSoftTab(s,l,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,l):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var u=this.lead.row,s=this.lead.column,l=this.session.documentToScreenRow(u,s),r=this.session.screenToDocumentPosition(l,0),m=this.session.getDisplayLine(u,null,r.row,r.column).match(/^\s*/);m[0].length==s||this.session.$useEmacsStyleLineStart||(r.column+=m[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var u=this.lead,s=this.session.getDocumentLastRowColumnPosition(u.row,u.column);if(this.lead.column==s.column){var l=this.session.getLine(s.row);if(s.column==l.length){var r=l.search(/\s+$/);r>0&&(s.column=r)}}this.moveCursorTo(s.row,s.column)},this.moveCursorFileEnd=function(){var u=this.doc.getLength()-1,s=this.doc.getLine(u).length;this.moveCursorTo(u,s)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var u=this.lead.row,s=this.lead.column,l=this.doc.getLine(u),r=l.substring(s);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(u,s,1);if(m)this.moveCursorTo(m.end.row,m.end.column);else{if(this.session.nonTokenRe.exec(r)&&(s+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=l.substring(s)),s>=l.length)return this.moveCursorTo(u,l.length),this.moveCursorRight(),void(u<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(s+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,s)}},this.moveCursorLongWordLeft=function(){var u,s=this.lead.row,l=this.lead.column;if(u=this.session.getFoldAt(s,l,-1))this.moveCursorTo(u.start.row,u.start.column);else{var r=this.session.getFoldStringAt(s,l,-1);r==null&&(r=this.doc.getLine(s).substring(0,l));var m=x.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(l-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),l<=0)return this.moveCursorTo(s,0),this.moveCursorLeft(),void(s>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(m)&&(l-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(s,l)}},this.$shortWordEndIndex=function(u){var s,l=0,r=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(u))l=this.session.tokenRe.lastIndex;else{for(;(s=u[l])&&r.test(s);)l++;if(l<1){for(m.lastIndex=0;(s=u[l])&&!m.test(s);)if(m.lastIndex=0,l++,r.test(s)){if(l>2){l--;break}for(;(s=u[l])&&r.test(s);)l++;if(l>2)break}}}return m.lastIndex=0,l},this.moveCursorShortWordRight=function(){var u=this.lead.row,s=this.lead.column,l=this.doc.getLine(u),r=l.substring(s),m=this.session.getFoldAt(u,s,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(s==l.length){var v=this.doc.getLength();do u++,r=this.doc.getLine(u);while(u<v&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),s=0}var C=this.$shortWordEndIndex(r);this.moveCursorTo(u,s+C)},this.moveCursorShortWordLeft=function(){var u,s=this.lead.row,l=this.lead.column;if(u=this.session.getFoldAt(s,l,-1))return this.moveCursorTo(u.start.row,u.start.column);var r=this.session.getLine(s).substring(0,l);if(l===0){do s--,r=this.doc.getLine(s);while(s>0&&/^\s*$/.test(r));l=r.length,/\s+$/.test(r)||(r="")}var m=x.stringReverse(r),v=this.$shortWordEndIndex(m);return this.moveCursorTo(s,l-v)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(u,s){var l,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);s===0&&(u!==0&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(l=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(l/this.session.$bidiHandler.charWidths[0])):l=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column);var m=this.session.screenToDocumentPosition(r.row+u,r.column,l);u!==0&&s===0&&m.row===this.lead.row&&m.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[m.row]&&(m.row>0||u>0)&&m.row++,this.moveCursorTo(m.row,m.column+s,s===0)},this.moveCursorToPosition=function(u){this.moveCursorTo(u.row,u.column)},this.moveCursorTo=function(u,s,l){var r=this.session.getFoldAt(u,s,1);r&&(u=r.start.row,s=r.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(u);/[\uDC00-\uDFFF]/.test(m.charAt(s))&&m.charAt(s-1)&&(this.lead.row==u&&this.lead.column==s+1?s-=1:s+=1),this.lead.setPosition(u,s),this.$keepDesiredColumnOnChange=!1,l||(this.$desiredColumn=null)},this.moveCursorToScreen=function(u,s,l){var r=this.session.screenToDocumentPosition(u,s);this.moveCursorTo(r.row,r.column,l)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(u){this.setSelectionRange(u,u.cursor==u.start),this.$desiredColumn=u.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(u){var s=this.getRange();return u?(u.start.column=s.start.column,u.start.row=s.start.row,u.end.column=s.end.column,u.end.row=s.end.row):u=s,u.cursor=this.isBackwards()?u.start:u.end,u.desiredColumn=this.$desiredColumn,u},this.getRangeOfMovements=function(u){var s=this.getCursor();try{u(this);var l=this.getCursor();return p.fromPoints(s,l)}catch{return p.fromPoints(s,s)}finally{this.moveCursorToPosition(s)}},this.toJSON=function(){if(this.rangeCount)var u=this.ranges.map(function(s){var l=s.clone();return l.isBackwards=s.cursor==s.start,l});else(u=this.getRange()).isBackwards=this.isBackwards();return u},this.fromJSON=function(u){if(u.start==null){if(this.rangeList&&u.length>1){this.toSingleRange(u[0]);for(var s=u.length;s--;){var l=p.fromPoints(u[s].start,u[s].end);u[s].isBackwards&&(l.cursor=l.start),this.addRange(l,!0)}return}u=u[0]}this.rangeList&&this.toSingleRange(u),this.setSelectionRange(u,u.isBackwards)},this.isEqual=function(u){if((u.length||this.rangeCount)&&u.length!=this.rangeCount)return!1;if(!u.length||!this.ranges)return this.getRange().isEqual(u);for(var s=this.ranges.length;s--;)if(!this.ranges[s].isEqual(u[s]))return!1;return!0}}).call(a.prototype),O.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(M,O,Q){var N=M("./config"),x=2e3,_=function(p){for(var a in this.states=p,this.regExps={},this.matchMappings={},this.states){for(var u=this.states[a],s=[],l=0,r=this.matchMappings[a]={defaultToken:"text"},m="g",v=[],C=0;C<u.length;C++){var b=u[C];if(b.defaultToken&&(r.defaultToken=b.defaultToken),b.caseInsensitive&&(m="gi"),b.regex!=null){b.regex instanceof RegExp&&(b.regex=b.regex.toString().slice(1,-1));var E=b.regex,R=new RegExp("(?:("+E+")|(.))").exec("a").length-2;Array.isArray(b.token)?b.token.length==1||R==1?b.token=b.token[0]:R-1!=b.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:b,groupCount:R-1}),b.token=b.token[0]):(b.tokenArray=b.token,b.token=null,b.onMatch=this.$arrayTokens):typeof b.token!="function"||b.onMatch||(b.onMatch=R>1?this.$applyToken:b.token),R>1&&(/\\\d/.test(b.regex)?E=b.regex.replace(/\\([0-9]+)/g,function(g,f){return"\\"+(parseInt(f,10)+l+1)}):(R=1,E=this.removeCapturingGroups(b.regex)),b.splitRegex||typeof b.token=="string"||v.push(b)),r[l]=C,l+=R,s.push(E),b.onMatch||(b.onMatch=null)}}s.length||(r[0]=0,s.push("$")),v.forEach(function(g){g.splitRegex=this.createSplitterRegexp(g.regex,m)},this),this.regExps[a]=new RegExp("("+s.join(")|(")+")|($)",m)}};(function(){this.$setMaxTokenCount=function(p){x=0|p},this.$applyToken=function(p){var a=this.splitRegex.exec(p).slice(1),u=this.token.apply(this,a);if(typeof u=="string")return[{type:u,value:p}];for(var s=[],l=0,r=u.length;l<r;l++)a[l]&&(s[s.length]={type:u[l],value:a[l]});return s},this.$arrayTokens=function(p){if(!p)return[];var a=this.splitRegex.exec(p);if(!a)return"text";for(var u=[],s=this.tokenArray,l=0,r=s.length;l<r;l++)a[l+1]&&(u[u.length]={type:s[l],value:a[l+1]});return u},this.removeCapturingGroups=function(p){return p.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(a,u){return u?"(?:":a})},this.createSplitterRegexp=function(p,a){if(p.indexOf("(?=")!=-1){var u=0,s=!1,l={};p.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(r,m,v,C,b,E){return s?s=b!="]":b?s=!0:C?(u==l.stack&&(l.end=E+1,l.stack=-1),u--):v&&(u++,v.length!=1&&(l.stack=u,l.start=E)),r}),l.end!=null&&/^\)*$/.test(p.substr(l.end))&&(p=p.substring(0,l.start)+p.substr(l.end))}return p.charAt(0)!="^"&&(p="^"+p),p.charAt(p.length-1)!="$"&&(p+="$"),new RegExp(p,(a||"").replace("g",""))},this.getLineTokens=function(p,a){if(a&&typeof a!="string"){var u=a.slice(0);(a=u[0])==="#tmp"&&(u.shift(),a=u.shift())}else u=[];var s=a||"start",l=this.states[s];l||(s="start",l=this.states[s]);var r=this.matchMappings[s],m=this.regExps[s];m.lastIndex=0;for(var v,C=[],b=0,E=0,R={type:null,value:""};v=m.exec(p);){var g=r.defaultToken,f=null,T=v[0],L=m.lastIndex;if(L-T.length>b){var w=p.substring(b,L-T.length);R.type==g?R.value+=w:(R.type&&C.push(R),R={type:g,value:w})}for(var S=0;S<v.length-2;S++)if(v[S+1]!==void 0){g=(f=l[r[S]]).onMatch?f.onMatch(T,s,u,p):f.token,f.next&&(s=typeof f.next=="string"?f.next:f.next(s,u),(l=this.states[s])||(this.reportError("state doesn't exist",s),s="start",l=this.states[s]),r=this.matchMappings[s],b=L,(m=this.regExps[s]).lastIndex=L),f.consumeLineEnd&&(b=L);break}if(T){if(typeof g=="string")f&&f.merge===!1||R.type!==g?(R.type&&C.push(R),R={type:g,value:T}):R.value+=T;else if(g)for(R.type&&C.push(R),R={type:null,value:""},S=0;S<g.length;S++)C.push(g[S])}if(b==p.length)break;if(b=L,E++>x){for(E>2*p.length&&this.reportError("infinite loop with in ace tokenizer",{startState:a,line:p});b<p.length;)R.type&&C.push(R),R={value:p.substring(b,b+=500),type:"overflow"};s="start",u=[];break}}return R.type&&C.push(R),u.length>1&&u[0]!==s&&u.unshift("#tmp",s),{tokens:C,state:u.length?u:s}},this.reportError=N.reportError}).call(_.prototype),O.Tokenizer=_}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(M,O,Q){var N=M("../lib/lang"),x=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,u){if(u)for(var s in a){for(var l=a[s],r=0;r<l.length;r++){var m=l[r];(m.next||m.onMatch)&&(typeof m.next=="string"&&m.next.indexOf(u)!==0&&(m.next=u+m.next),m.nextState&&m.nextState.indexOf(u)!==0&&(m.nextState=u+m.nextState))}this.$rules[u+s]=l}else for(var s in a)this.$rules[s]=a[s]},this.getRules=function(){return this.$rules},this.embedRules=function(a,u,s,l,r){var m=typeof a=="function"?new a().getRules():a;if(l)for(var v=0;v<l.length;v++)l[v]=u+l[v];else for(var C in l=[],m)l.push(u+C);if(this.addRules(m,u),s){var b=Array.prototype[r?"push":"unshift"];for(v=0;v<l.length;v++)b.apply(this.$rules[l[v]],N.deepCopy(s))}this.$embeds||(this.$embeds=[]),this.$embeds.push(u)},this.getEmbeds=function(){return this.$embeds};var _=function(a,u){return(a!="start"||u.length)&&u.unshift(this.nextState,a),this.nextState},p=function(a,u){return u.shift(),u.shift()||"start"};this.normalizeRules=function(){var a=0,u=this.$rules;Object.keys(u).forEach(function s(l){var r=u[l];r.processed=!0;for(var m=0;m<r.length;m++){var v=r[m],C=null;Array.isArray(v)&&(C=v,v={}),!v.regex&&v.start&&(v.regex=v.start,v.next||(v.next=[]),v.next.push({defaultToken:v.token},{token:v.token+".end",regex:v.end||v.start,next:"pop"}),v.token=v.token+".start",v.push=!0);var b=v.next||v.push;if(b&&Array.isArray(b)){var E=v.stateName;E||(typeof(E=v.token)!="string"&&(E=E[0]||""),u[E]&&(E+=a++)),u[E]=b,v.next=E,s(E)}else b=="pop"&&(v.next=p);if(v.push&&(v.nextState=v.next||v.push,v.next=_,delete v.push),v.rules)for(var R in v.rules)u[R]?u[R].push&&u[R].push.apply(u[R],v.rules[R]):u[R]=v.rules[R];var g=typeof v=="string"?v:v.include;if(g&&(C=Array.isArray(g)?g.map(function(T){return u[T]}):u[g]),C){var f=[m,1].concat(C);v.noEscape&&(f=f.filter(function(T){return!T.next})),r.splice.apply(r,f),m--}v.keywordMap&&(v.token=this.createKeywordMapper(v.keywordMap,v.defaultToken||"text",v.caseInsensitive),delete v.defaultToken)}},this)},this.createKeywordMapper=function(a,u,s,l){var r=Object.create(null);return Object.keys(a).forEach(function(m){var v=a[m];s&&(v=v.toLowerCase());for(var C=v.split(l||"|"),b=C.length;b--;)r[C[b]]=m}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),a=null,s?function(m){return r[m.toLowerCase()]||u}:function(m){return r[m]||u}},this.getKeywords=function(){return this.$keywords}}).call(x.prototype),O.TextHighlightRules=x}),ace.define("ace/mode/behaviour",["require","exports","module"],function(M,O,Q){var N=function(){this.$behaviours={}};(function(){this.add=function(x,_,p){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[x]:this.$behaviours[x]={}}this.$behaviours[x][_]=p},this.addBehaviours=function(x){for(var _ in x)for(var p in x[_])this.add(_,p,x[_][p])},this.remove=function(x){this.$behaviours&&this.$behaviours[x]&&delete this.$behaviours[x]},this.inherit=function(x,_){if(typeof x=="function")var p=new x().getBehaviours(_);else p=x.getBehaviours(_);this.addBehaviours(p)},this.getBehaviours=function(x){if(x){for(var _={},p=0;p<x.length;p++)this.$behaviours[x[p]]&&(_[x[p]]=this.$behaviours[x[p]]);return _}return this.$behaviours}}).call(N.prototype),O.Behaviour=N}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(M,O,Q){var N=M("./range").Range,x=function(_,p,a){this.$session=_,this.$row=p,this.$rowTokens=_.getTokens(p);var u=_.getTokenAt(p,a);this.$tokenIndex=u?u.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var _;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,_||(_=this.$session.getLength()),this.$row>=_)return this.$row=_-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var _=this.$rowTokens,p=this.$tokenIndex,a=_[p].start;if(a!==void 0)return a;for(a=0;p>0;)a+=_[p-=1].value.length;return a},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var _=this.$rowTokens[this.$tokenIndex],p=this.getCurrentTokenColumn();return new N(this.$row,p,this.$row,p+_.value.length)}}).call(x.prototype),O.TokenIterator=x}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(M,O,Q){var N,x=M("../../lib/oop"),_=M("../behaviour").Behaviour,p=M("../../token_iterator").TokenIterator,a=M("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],s=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],l={},r={'"':'"',"'":"'"},m=function(b){var E=-1;if(b.multiSelect&&(E=b.selection.index,l.rangeCount!=b.multiSelect.rangeCount&&(l={rangeCount:b.multiSelect.rangeCount})),l[E])return N=l[E];N=l[E]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},v=function(b,E,R,g){var f=b.end.row-b.start.row;return{text:R+E+g,selection:[0,b.start.column+1,f,b.end.column+(f?0:1)]}},C=function(b){this.add("braces","insertion",function(E,R,g,f,T){var L=g.getCursorPosition(),w=f.doc.getLine(L.row);if(T=="{"){m(g);var S=g.getSelectionRange(),I=f.doc.getTextRange(S);if(I!==""&&I!=="{"&&g.getWrapBehavioursEnabled())return v(S,I,"{","}");if(C.isSaneInsertion(g,f))return/[\]\}\)]/.test(w[L.column])||g.inMultiSelectMode||b&&b.braces?(C.recordAutoInsert(g,f,"}"),{text:"{}",selection:[1,1]}):(C.recordMaybeInsert(g,f,"{"),{text:"{",selection:[1,1]})}else if(T=="}"){if(m(g),w.substring(L.column,L.column+1)=="}"&&f.$findOpeningBracket("}",{column:L.column+1,row:L.row})!==null&&C.isAutoInsertedClosing(L,w,T))return C.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(T==`
`||T==`\r
`){m(g);var F="";if(C.isMaybeInsertedClosing(L,w)&&(F=a.stringRepeat("}",N.maybeInsertedBrackets),C.clearMaybeInsertedClosing()),w.substring(L.column,L.column+1)==="}"){var B=f.findMatchingBracket({row:L.row,column:L.column+1},"}");if(!B)return null;var G=this.$getIndent(f.getLine(B.row))}else{if(!F)return void C.clearMaybeInsertedClosing();G=this.$getIndent(w)}var z=G+f.getTabString();return{text:`
`+z+`
`+G+F,selection:[1,z.length,1,z.length]}}C.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(E,R,g,f,T){var L=f.doc.getTextRange(T);if(!T.isMultiLine()&&L=="{"){if(m(g),f.doc.getLine(T.start.row).substring(T.end.column,T.end.column+1)=="}")return T.end.column++,T;N.maybeInsertedBrackets--}}),this.add("parens","insertion",function(E,R,g,f,T){if(T=="("){m(g);var L=g.getSelectionRange(),w=f.doc.getTextRange(L);if(w!==""&&g.getWrapBehavioursEnabled())return v(L,w,"(",")");if(C.isSaneInsertion(g,f))return C.recordAutoInsert(g,f,")"),{text:"()",selection:[1,1]}}else if(T==")"){m(g);var S=g.getCursorPosition(),I=f.doc.getLine(S.row);if(I.substring(S.column,S.column+1)==")"&&f.$findOpeningBracket(")",{column:S.column+1,row:S.row})!==null&&C.isAutoInsertedClosing(S,I,T))return C.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(E,R,g,f,T){var L=f.doc.getTextRange(T);if(!T.isMultiLine()&&L=="("&&(m(g),f.doc.getLine(T.start.row).substring(T.start.column+1,T.start.column+2)==")"))return T.end.column++,T}),this.add("brackets","insertion",function(E,R,g,f,T){if(T=="["){m(g);var L=g.getSelectionRange(),w=f.doc.getTextRange(L);if(w!==""&&g.getWrapBehavioursEnabled())return v(L,w,"[","]");if(C.isSaneInsertion(g,f))return C.recordAutoInsert(g,f,"]"),{text:"[]",selection:[1,1]}}else if(T=="]"){m(g);var S=g.getCursorPosition(),I=f.doc.getLine(S.row);if(I.substring(S.column,S.column+1)=="]"&&f.$findOpeningBracket("]",{column:S.column+1,row:S.row})!==null&&C.isAutoInsertedClosing(S,I,T))return C.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(E,R,g,f,T){var L=f.doc.getTextRange(T);if(!T.isMultiLine()&&L=="["&&(m(g),f.doc.getLine(T.start.row).substring(T.start.column+1,T.start.column+2)=="]"))return T.end.column++,T}),this.add("string_dquotes","insertion",function(E,R,g,f,T){var L=f.$mode.$quotes||r;if(T.length==1&&L[T]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(T)!=-1)return;m(g);var w=T,S=g.getSelectionRange(),I=f.doc.getTextRange(S);if(!(I===""||I.length==1&&L[I])&&g.getWrapBehavioursEnabled())return v(S,I,w,w);if(!I){var F=g.getCursorPosition(),B=f.doc.getLine(F.row),G=B.substring(F.column-1,F.column),z=B.substring(F.column,F.column+1),ne=f.getTokenAt(F.row,F.column),J=f.getTokenAt(F.row,F.column+1);if(G=="\\"&&ne&&/escape/.test(ne.type))return null;var K,H=ne&&/string|escape/.test(ne.type),$=!J||/string|escape/.test(J.type);if(z==w)(K=H!==$)&&/string\.end/.test(J.type)&&(K=!1);else{if(H&&!$||H&&$)return null;var X=f.$mode.tokenRe;X.lastIndex=0;var q=X.test(G);X.lastIndex=0;var oe=X.test(G);if(q||oe||z&&!/[\s;,.})\]\\]/.test(z))return null;var ce=B[F.column-2];if(G==w&&(ce==w||X.test(ce)))return null;K=!0}return{text:K?w+w:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(E,R,g,f,T){var L=f.$mode.$quotes||r,w=f.doc.getTextRange(T);if(!T.isMultiLine()&&L.hasOwnProperty(w)&&(m(g),f.doc.getLine(T.start.row).substring(T.start.column+1,T.start.column+2)==w))return T.end.column++,T})};C.isSaneInsertion=function(b,E){var R=b.getCursorPosition(),g=new p(E,R.row,R.column);if(!this.$matchTokenType(g.getCurrentToken()||"text",u)){if(/[)}\]]/.test(b.session.getLine(R.row)[R.column]))return!0;var f=new p(E,R.row,R.column+1);if(!this.$matchTokenType(f.getCurrentToken()||"text",u))return!1}return g.stepForward(),g.getCurrentTokenRow()!==R.row||this.$matchTokenType(g.getCurrentToken()||"text",s)},C.$matchTokenType=function(b,E){return E.indexOf(b.type||b)>-1},C.recordAutoInsert=function(b,E,R){var g=b.getCursorPosition(),f=E.doc.getLine(g.row);this.isAutoInsertedClosing(g,f,N.autoInsertedLineEnd[0])||(N.autoInsertedBrackets=0),N.autoInsertedRow=g.row,N.autoInsertedLineEnd=R+f.substr(g.column),N.autoInsertedBrackets++},C.recordMaybeInsert=function(b,E,R){var g=b.getCursorPosition(),f=E.doc.getLine(g.row);this.isMaybeInsertedClosing(g,f)||(N.maybeInsertedBrackets=0),N.maybeInsertedRow=g.row,N.maybeInsertedLineStart=f.substr(0,g.column)+R,N.maybeInsertedLineEnd=f.substr(g.column),N.maybeInsertedBrackets++},C.isAutoInsertedClosing=function(b,E,R){return N.autoInsertedBrackets>0&&b.row===N.autoInsertedRow&&R===N.autoInsertedLineEnd[0]&&E.substr(b.column)===N.autoInsertedLineEnd},C.isMaybeInsertedClosing=function(b,E){return N.maybeInsertedBrackets>0&&b.row===N.maybeInsertedRow&&E.substr(b.column)===N.maybeInsertedLineEnd&&E.substr(0,b.column)==N.maybeInsertedLineStart},C.popAutoInsertedClosing=function(){N.autoInsertedLineEnd=N.autoInsertedLineEnd.substr(1),N.autoInsertedBrackets--},C.clearMaybeInsertedClosing=function(){N&&(N.maybeInsertedBrackets=0,N.maybeInsertedRow=-1)},x.inherits(C,_),O.CstyleBehaviour=C}),ace.define("ace/unicode",["require","exports","module"],function(M,O,Q){for(var N=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],x=0,_=[],p=0;p<N.length;p+=2)_.push(x+=N[p]),N[p+1]&&_.push(45,x+=N[p+1]);O.wordChars=String.fromCharCode.apply(null,_)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(M,O,Q){var N=M("../config"),x=M("../tokenizer").Tokenizer,_=M("./text_highlight_rules").TextHighlightRules,p=M("./behaviour/cstyle").CstyleBehaviour,a=M("../unicode"),u=M("../lib/lang"),s=M("../token_iterator").TokenIterator,l=M("../range").Range,r=function(){this.HighlightRules=_};(function(){this.$defaultBehaviour=new p,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new x(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(m,v,C,b){var E=v.doc,R=!0,g=!0,f=1/0,T=v.getTabSize(),L=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(B=this.lineCommentStart.map(u.escapeRegExp).join("|"),I=this.lineCommentStart[0]):(B=u.escapeRegExp(this.lineCommentStart),I=this.lineCommentStart),B=new RegExp("^(\\s*)(?:"+B+") ?"),L=v.getUseSoftTabs(),ne=function($,X){var q=$.match(B);if(q){var oe=q[1].length,ce=q[0].length;S($,oe,ce)||q[0][ce-1]!=" "||ce--,E.removeInLine(X,oe,ce)}};var w=I+" ",S=(z=function($,X){R&&!/\S/.test($)||(S($,f,f)?E.insertInLine({row:X,column:f},w):E.insertInLine({row:X,column:f},I))},J=function($,X){return B.test($)},function($,X,q){for(var oe=0;X--&&$.charAt(X)==" ";)oe++;if(oe%T!=0)return!1;for(oe=0;$.charAt(q++)==" ";)oe++;return T>2?oe%T!=T-1:oe%T==0})}else{if(!this.blockComment)return!1;var I=this.blockComment.start,F=this.blockComment.end,B=new RegExp("^(\\s*)(?:"+u.escapeRegExp(I)+")"),G=new RegExp("(?:"+u.escapeRegExp(F)+")\\s*$"),z=function($,X){J($,X)||R&&!/\S/.test($)||(E.insertInLine({row:X,column:$.length},F),E.insertInLine({row:X,column:f},I))},ne=function($,X){var q;(q=$.match(G))&&E.removeInLine(X,$.length-q[0].length,$.length),(q=$.match(B))&&E.removeInLine(X,q[1].length,q[0].length)},J=function($,X){if(B.test($))return!0;for(var q=v.getTokens(X),oe=0;oe<q.length;oe++)if(q[oe].type==="comment")return!0}}function K($){for(var X=C;X<=b;X++)$(E.getLine(X),X)}var H=1/0;K(function($,X){var q=$.search(/\S/);q!==-1?(q<f&&(f=q),g&&!J($,X)&&(g=!1)):H>$.length&&(H=$.length)}),f==1/0&&(f=H,R=!1,g=!1),L&&f%T!=0&&(f=Math.floor(f/T)*T),K(g?ne:z)},this.toggleBlockComment=function(m,v,C,b){var E=this.blockComment;if(E){!E.start&&E[0]&&(E=E[0]);var R,g,f=(F=new s(v,b.row,b.column)).getCurrentToken(),T=(v.selection,v.selection.toOrientedRange());if(f&&/comment/.test(f.type)){for(var L,w;f&&/comment/.test(f.type);){if((B=f.value.indexOf(E.start))!=-1){var S=F.getCurrentTokenRow(),I=F.getCurrentTokenColumn()+B;L=new l(S,I,S,I+E.start.length);break}f=F.stepBackward()}var F;for(f=(F=new s(v,b.row,b.column)).getCurrentToken();f&&/comment/.test(f.type);){var B;if((B=f.value.indexOf(E.end))!=-1){S=F.getCurrentTokenRow(),I=F.getCurrentTokenColumn()+B,w=new l(S,I,S,I+E.end.length);break}f=F.stepForward()}w&&v.remove(w),L&&(v.remove(L),R=L.start.row,g=-E.start.length)}else g=E.start.length,R=C.start.row,v.insert(C.end,E.end),v.insert(C.start,E.start);T.start.row==R&&(T.start.column+=g),T.end.row==R&&(T.end.column+=g),v.selection.fromOrientedRange(T)}},this.getNextLineIndent=function(m,v,C){return this.$getIndent(v)},this.checkOutdent=function(m,v,C){return!1},this.autoOutdent=function(m,v,C){},this.$getIndent=function(m){return m.match(/^\s*/)[0]},this.createWorker=function(m){return null},this.createModeDelegates=function(m){for(var v in this.$embeds=[],this.$modes={},m)if(m[v]){var C=m[v],b=C.prototype.$id,E=N.$modes[b];E||(N.$modes[b]=E=new C),N.$modes[v]||(N.$modes[v]=E),this.$embeds.push(v),this.$modes[v]=E}var R=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(v=0;v<R.length;v++)(function(g){var f=R[v],T=g[f];g[R[v]]=function(){return this.$delegator(f,arguments,T)}})(this)},this.$delegator=function(m,v,C){var b=v[0]||"start";if(typeof b!="string"){if(Array.isArray(b[2])){var E=b[2][b[2].length-1];if(g=this.$modes[E])return g[m].apply(g,[b[1]].concat([].slice.call(v,1)))}b=b[0]||"start"}for(var R=0;R<this.$embeds.length;R++)if(this.$modes[this.$embeds[R]]){var g,f=b.split(this.$embeds[R]);if(!f[0]&&f[1])return v[0]=f[1],(g=this.$modes[this.$embeds[R]])[m].apply(g,v)}var T=C.apply(this,v);return C?T:void 0},this.transformAction=function(m,v,C,b,E){if(this.$behaviour){var R=this.$behaviour.getBehaviours();for(var g in R)if(R[g][v]){var f=R[g][v].apply(this,arguments);if(f)return f}}},this.getKeywords=function(m){if(!this.completionKeywords){var v=this.$tokenizer.rules,C=[];for(var b in v)for(var E=v[b],R=0,g=E.length;R<g;R++)if(typeof E[R].token=="string")/keyword|support|storage/.test(E[R].token)&&C.push(E[R].regex);else if(typeof E[R].token=="object")for(var f=0,T=E[R].token.length;f<T;f++)/keyword|support|storage/.test(E[R].token[f])&&(b=E[R].regex.match(/\(.+?\)/g)[f],C.push(b.substr(1,b.length-2)));this.completionKeywords=C}return m?C.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(m,v,C,b){return(this.$keywordList||this.$createKeywordList()).map(function(E){return{name:E,value:E,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(r.prototype),O.Mode=r}),ace.define("ace/apply_delta",["require","exports","module"],function(M,O,Q){O.applyDelta=function(N,x,_){var p=x.start.row,a=x.start.column,u=N[p]||"";switch(x.action){case"insert":if(x.lines.length===1)N[p]=u.substring(0,a)+x.lines[0]+u.substring(a);else{var s=[p,1].concat(x.lines);N.splice.apply(N,s),N[p]=u.substring(0,a)+N[p],N[p+x.lines.length-1]+=u.substring(a)}break;case"remove":var l=x.end.column,r=x.end.row;p===r?N[p]=u.substring(0,a)+u.substring(l):N.splice(p,r-p+1,u.substring(0,a)+N[r].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(M,O,Q){var N=M("./lib/oop"),x=M("./lib/event_emitter").EventEmitter,_=O.Anchor=function(p,a,u){this.$onChange=this.onChange.bind(this),this.attach(p),u===void 0?this.setPosition(a.row,a.column):this.setPosition(a,u)};(function(){function p(a,u,s){var l=s?a.column<=u.column:a.column<u.column;return a.row<u.row||a.row==u.row&&l}N.implement(this,x),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(a){if(!(a.start.row==a.end.row&&a.start.row!=this.row||a.start.row>this.row)){var u=function(s,l,r){var m=s.action=="insert",v=(m?1:-1)*(s.end.row-s.start.row),C=(m?1:-1)*(s.end.column-s.start.column),b=s.start,E=m?b:s.end;return p(l,b,r)?{row:l.row,column:l.column}:p(E,l,!r)?{row:l.row+v,column:l.column+(l.row==E.row?C:0)}:{row:b.row,column:b.column}}(a,{row:this.row,column:this.column},this.$insertRight);this.setPosition(u.row,u.column,!0)}},this.setPosition=function(a,u,s){var l;if(l=s?{row:a,column:u}:this.$clipPositionToDocument(a,u),this.row!=l.row||this.column!=l.column){var r={row:this.row,column:this.column};this.row=l.row,this.column=l.column,this._signal("change",{old:r,value:l})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(a){this.document=a||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(a,u){var s={};return a>=this.document.getLength()?(s.row=Math.max(0,this.document.getLength()-1),s.column=this.document.getLine(s.row).length):a<0?(s.row=0,s.column=0):(s.row=a,s.column=Math.min(this.document.getLine(s.row).length,Math.max(0,u))),u<0&&(s.column=0),s}}).call(_.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(M,O,Q){var N=M("./lib/oop"),x=M("./apply_delta").applyDelta,_=M("./lib/event_emitter").EventEmitter,p=M("./range").Range,a=M("./anchor").Anchor,u=function(s){this.$lines=[""],s.length===0?this.$lines=[""]:Array.isArray(s)?this.insertMergedLines({row:0,column:0},s):this.insert({row:0,column:0},s)};(function(){N.implement(this,_),this.setValue=function(s){var l=this.getLength()-1;this.remove(new p(0,0,l,this.getLine(l).length)),this.insert({row:0,column:0},s)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(s,l){return new a(this,s,l)},"aaa".split(/a/).length===0?this.$split=function(s){return s.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(s){return s.split(/\r\n|\r|\n/)},this.$detectNewLine=function(s){var l=s.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=l?l[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(s){this.$newLineMode!==s&&(this.$newLineMode=s,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(s){return s==`\r
`||s=="\r"||s==`
`},this.getLine=function(s){return this.$lines[s]||""},this.getLines=function(s,l){return this.$lines.slice(s,l+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(s){return this.getLinesForRange(s).join(this.getNewLineCharacter())},this.getLinesForRange=function(s){var l;if(s.start.row===s.end.row)l=[this.getLine(s.start.row).substring(s.start.column,s.end.column)];else{(l=this.getLines(s.start.row,s.end.row))[0]=(l[0]||"").substring(s.start.column);var r=l.length-1;s.end.row-s.start.row==r&&(l[r]=l[r].substring(0,s.end.column))}return l},this.insertLines=function(s,l){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(s,l)},this.removeLines=function(s,l){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(s,l)},this.insertNewLine=function(s){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(s,["",""])},this.insert=function(s,l){return this.getLength()<=1&&this.$detectNewLine(l),this.insertMergedLines(s,this.$split(l))},this.insertInLine=function(s,l){var r=this.clippedPos(s.row,s.column),m=this.pos(s.row,s.column+l.length);return this.applyDelta({start:r,end:m,action:"insert",lines:[l]},!0),this.clonePos(m)},this.clippedPos=function(s,l){var r=this.getLength();s===void 0?s=r:s<0?s=0:s>=r&&(s=r-1,l=void 0);var m=this.getLine(s);return l==null&&(l=m.length),{row:s,column:l=Math.min(Math.max(l,0),m.length)}},this.clonePos=function(s){return{row:s.row,column:s.column}},this.pos=function(s,l){return{row:s,column:l}},this.$clipPosition=function(s){var l=this.getLength();return s.row>=l?(s.row=Math.max(0,l-1),s.column=this.getLine(l-1).length):(s.row=Math.max(0,s.row),s.column=Math.min(Math.max(s.column,0),this.getLine(s.row).length)),s},this.insertFullLines=function(s,l){var r=0;(s=Math.min(Math.max(s,0),this.getLength()))<this.getLength()?(l=l.concat([""]),r=0):(l=[""].concat(l),s--,r=this.$lines[s].length),this.insertMergedLines({row:s,column:r},l)},this.insertMergedLines=function(s,l){var r=this.clippedPos(s.row,s.column),m={row:r.row+l.length-1,column:(l.length==1?r.column:0)+l[l.length-1].length};return this.applyDelta({start:r,end:m,action:"insert",lines:l}),this.clonePos(m)},this.remove=function(s){var l=this.clippedPos(s.start.row,s.start.column),r=this.clippedPos(s.end.row,s.end.column);return this.applyDelta({start:l,end:r,action:"remove",lines:this.getLinesForRange({start:l,end:r})}),this.clonePos(l)},this.removeInLine=function(s,l,r){var m=this.clippedPos(s,l),v=this.clippedPos(s,r);return this.applyDelta({start:m,end:v,action:"remove",lines:this.getLinesForRange({start:m,end:v})},!0),this.clonePos(m)},this.removeFullLines=function(s,l){s=Math.min(Math.max(0,s),this.getLength()-1);var r=(l=Math.min(Math.max(0,l),this.getLength()-1))==this.getLength()-1&&s>0,m=l<this.getLength()-1,v=r?s-1:s,C=r?this.getLine(v).length:0,b=m?l+1:l,E=m?0:this.getLine(b).length,R=new p(v,C,b,E),g=this.$lines.slice(s,l+1);return this.applyDelta({start:R.start,end:R.end,action:"remove",lines:this.getLinesForRange(R)}),g},this.removeNewLine=function(s){s<this.getLength()-1&&s>=0&&this.applyDelta({start:this.pos(s,this.getLine(s).length),end:this.pos(s+1,0),action:"remove",lines:["",""]})},this.replace=function(s,l){return s instanceof p||(s=p.fromPoints(s.start,s.end)),l.length===0&&s.isEmpty()?s.start:l==this.getTextRange(s)?s.end:(this.remove(s),l?this.insert(s.start,l):s.start)},this.applyDeltas=function(s){for(var l=0;l<s.length;l++)this.applyDelta(s[l])},this.revertDeltas=function(s){for(var l=s.length-1;l>=0;l--)this.revertDelta(s[l])},this.applyDelta=function(s,l){var r=s.action=="insert";(r?s.lines.length<=1&&!s.lines[0]:!p.comparePoints(s.start,s.end))||(r&&s.lines.length>2e4?this.$splitAndapplyLargeDelta(s,2e4):(x(this.$lines,s,l),this._signal("change",s)))},this.$splitAndapplyLargeDelta=function(s,l){for(var r=s.lines,m=r.length-l+1,v=s.start.row,C=s.start.column,b=0,E=0;b<m;b=E){E+=l-1;var R=r.slice(b,E);R.push(""),this.applyDelta({start:this.pos(v+b,C),end:this.pos(v+E,C=0),action:s.action,lines:R},!0)}s.lines=r.slice(b),s.start.row=v+b,s.start.column=C,this.applyDelta(s,!0)},this.revertDelta=function(s){this.applyDelta({start:this.clonePos(s.start),end:this.clonePos(s.end),action:s.action=="insert"?"remove":"insert",lines:s.lines.slice()})},this.indexToPosition=function(s,l){for(var r=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,v=l||0,C=r.length;v<C;v++)if((s-=r[v].length+m)<0)return{row:v,column:s+r[v].length+m};return{row:C-1,column:s+r[C-1].length+m}},this.positionToIndex=function(s,l){for(var r=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,v=0,C=Math.min(s.row,r.length),b=l||0;b<C;++b)v+=r[b].length+m;return v+s.column}}).call(u.prototype),O.Document=u}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(M,O,Q){var N=M("./lib/oop"),x=M("./lib/event_emitter").EventEmitter,_=function(p,a){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=p;var u=this;this.$worker=function(){if(u.running){for(var s=new Date,l=u.currentLine,r=-1,m=u.doc,v=l;u.lines[l];)l++;var C=m.getLength(),b=0;for(u.running=!1;l<C;){u.$tokenizeRow(l),r=l;do l++;while(u.lines[l]);if(++b%5==0&&new Date-s>20){u.running=setTimeout(u.$worker,20);break}}u.currentLine=l,r==-1&&(r=l),v<=r&&u.fireUpdateEvent(v,r)}}};(function(){N.implement(this,x),this.setTokenizer=function(p){this.tokenizer=p,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(p){this.doc=p,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(p,a){var u={first:p,last:a};this._signal("update",{data:u})},this.start=function(p){this.currentLine=Math.min(p||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(p){var a=p.start.row,u=p.end.row-a;if(u===0)this.lines[a]=null;else if(p.action=="remove")this.lines.splice(a,u+1,null),this.states.splice(a,u+1,null);else{var s=Array(u+1);s.unshift(a,1),this.lines.splice.apply(this.lines,s),this.states.splice.apply(this.states,s)}this.currentLine=Math.min(a,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(p){return this.lines[p]||this.$tokenizeRow(p)},this.getState=function(p){return this.currentLine==p&&this.$tokenizeRow(p),this.states[p]||"start"},this.$tokenizeRow=function(p){var a=this.doc.getLine(p),u=this.states[p-1],s=this.tokenizer.getLineTokens(a,u,p);return this.states[p]+""!=s.state+""?(this.states[p]=s.state,this.lines[p+1]=null,this.currentLine>p+1&&(this.currentLine=p+1)):this.currentLine==p&&(this.currentLine=p+1),this.lines[p]=s.tokens}}).call(_.prototype),O.BackgroundTokenizer=_}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(M,O,Q){var N=M("./lib/lang"),x=(M("./lib/oop"),M("./range").Range),_=function(p,a,u){this.setRegexp(p),this.clazz=a,this.type=u||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(p){this.regExp+""!=p+""&&(this.regExp=p,this.cache=[])},this.update=function(p,a,u,s){if(this.regExp)for(var l=s.firstRow,r=s.lastRow,m=l;m<=r;m++){var v=this.cache[m];v==null&&((v=N.getMatchOffsets(u.getLine(m),this.regExp)).length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function(b){return new x(m,b.offset,m,b.offset+b.length)}),this.cache[m]=v.length?v:"");for(var C=v.length;C--;)a.drawSingleLineMarker(p,v[C].toScreenRange(u),this.clazz,s)}}}).call(_.prototype),O.SearchHighlight=_}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(M,O,Q){var N=M("../range").Range;function x(_,p){this.foldData=_,Array.isArray(p)?this.folds=p:p=this.folds=[p];var a=p[p.length-1];this.range=new N(p[0].start.row,p[0].start.column,a.end.row,a.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(u){u.setFoldLine(this)},this)}(function(){this.shiftRow=function(_){this.start.row+=_,this.end.row+=_,this.folds.forEach(function(p){p.start.row+=_,p.end.row+=_})},this.addFold=function(_){if(_.sameRow){if(_.start.row<this.startRow||_.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(_),this.folds.sort(function(p,a){return-p.range.compareEnd(a.start.row,a.start.column)}),this.range.compareEnd(_.start.row,_.start.column)>0?(this.end.row=_.end.row,this.end.column=_.end.column):this.range.compareStart(_.end.row,_.end.column)<0&&(this.start.row=_.start.row,this.start.column=_.start.column)}else if(_.start.row==this.end.row)this.folds.push(_),this.end.row=_.end.row,this.end.column=_.end.column;else{if(_.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(_),this.start.row=_.start.row,this.start.column=_.start.column}_.foldLine=this},this.containsRow=function(_){return _>=this.start.row&&_<=this.end.row},this.walk=function(_,p,a){var u,s,l=0,r=this.folds,m=!0;p==null&&(p=this.end.row,a=this.end.column);for(var v=0;v<r.length;v++){if((s=(u=r[v]).range.compareStart(p,a))==-1)return void _(null,p,a,l,m);if(!_(null,u.start.row,u.start.column,l,m)&&_(u.placeholder,u.start.row,u.start.column,l)||s===0)return;m=!u.sameRow,l=u.end.column}_(null,p,a,l,m)},this.getNextFoldTo=function(_,p){for(var a,u,s=0;s<this.folds.length;s++){if((u=(a=this.folds[s]).range.compareEnd(_,p))==-1)return{fold:a,kind:"after"};if(u===0)return{fold:a,kind:"inside"}}return null},this.addRemoveChars=function(_,p,a){var u,s,l=this.getNextFoldTo(_,p);if(l){if(u=l.fold,l.kind=="inside"&&u.start.column!=p&&u.start.row!=_)window.console&&window.console.log(_,p,u);else if(u.start.row==_){var r=(s=this.folds).indexOf(u);for(r===0&&(this.start.column+=a);r<s.length;r++){if((u=s[r]).start.column+=a,!u.sameRow)return;u.end.column+=a}this.end.column+=a}}},this.split=function(_,p){var a=this.getNextFoldTo(_,p);if(!a||a.kind=="inside")return null;var u=a.fold,s=this.folds,l=this.foldData,r=s.indexOf(u),m=s[r-1];this.end.row=m.end.row,this.end.column=m.end.column;var v=new x(l,s=s.splice(r,s.length-r));return l.splice(l.indexOf(this)+1,0,v),v},this.merge=function(_){for(var p=_.folds,a=0;a<p.length;a++)this.addFold(p[a]);var u=this.foldData;u.splice(u.indexOf(_),1)},this.toString=function(){var _=[this.range.toString()+": ["];return this.folds.forEach(function(p){_.push("  "+p.toString())}),_.push("]"),_.join(`
`)},this.idxToPosition=function(_){for(var p=0,a=0;a<this.folds.length;a++){var u=this.folds[a];if((_-=u.start.column-p)<0)return{row:u.start.row,column:u.start.column+_};if((_-=u.placeholder.length)<0)return u.start;p=u.end.column}return{row:this.end.row,column:this.end.column+_}}}).call(x.prototype),O.FoldLine=x}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(M,O,Q){var N=M("./range").Range.comparePoints,x=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=N,this.pointIndex=function(_,p,a){for(var u=this.ranges,s=a||0;s<u.length;s++){var l=u[s],r=N(_,l.end);if(!(r>0)){var m=N(_,l.start);return r===0?p&&m!==0?-s-2:s:m>0||m===0&&!p?s:-s-1}}return-s-1},this.add=function(_){var p=!_.isEmpty(),a=this.pointIndex(_.start,p);a<0&&(a=-a-1);var u=this.pointIndex(_.end,p,a);return u<0?u=-u-1:u++,this.ranges.splice(a,u-a,_)},this.addList=function(_){for(var p=[],a=_.length;a--;)p.push.apply(p,this.add(_[a]));return p},this.substractPoint=function(_){var p=this.pointIndex(_);if(p>=0)return this.ranges.splice(p,1)},this.merge=function(){for(var _,p=[],a=this.ranges,u=(a=a.sort(function(r,m){return N(r.start,m.start)}))[0],s=1;s<a.length;s++){_=u,u=a[s];var l=N(_.end,u.start);l<0||(l!=0||_.isEmpty()||u.isEmpty())&&(N(_.end,u.end)<0&&(_.end.row=u.end.row,_.end.column=u.end.column),a.splice(s,1),p.push(u),u=_,s--)}return this.ranges=a,p},this.contains=function(_,p){return this.pointIndex({row:_,column:p})>=0},this.containsPoint=function(_){return this.pointIndex(_)>=0},this.rangeAtPoint=function(_){var p=this.pointIndex(_);if(p>=0)return this.ranges[p]},this.clipRows=function(_,p){var a=this.ranges;if(a[0].start.row>p||a[a.length-1].start.row<_)return[];var u=this.pointIndex({row:_,column:0});u<0&&(u=-u-1);var s=this.pointIndex({row:p,column:0},u);s<0&&(s=-s-1);for(var l=[],r=u;r<s;r++)l.push(a[r]);return l},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(_){this.session&&this.detach(),this.session=_,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(_){for(var p=_.start,a=_.end,u=p.row,s=a.row,l=this.ranges,r=0,m=l.length;r<m&&!((b=l[r]).end.row>=u);r++);if(_.action=="insert"){for(var v=s-u,C=-p.column+a.column;r<m&&!((b=l[r]).start.row>u);r++)if(b.start.row==u&&b.start.column>=p.column&&(b.start.column==p.column&&this.$bias<=0||(b.start.column+=C,b.start.row+=v)),b.end.row==u&&b.end.column>=p.column){if(b.end.column==p.column&&this.$bias<0)continue;b.end.column==p.column&&C>0&&r<m-1&&b.end.column>b.start.column&&b.end.column==l[r+1].start.column&&(b.end.column-=C),b.end.column+=C,b.end.row+=v}}else for(v=u-s,C=p.column-a.column;r<m&&!((b=l[r]).start.row>s);r++)b.end.row<s&&(u<b.end.row||u==b.end.row&&p.column<b.end.column)?(b.end.row=u,b.end.column=p.column):b.end.row==s?b.end.column<=a.column?(v||b.end.column>p.column)&&(b.end.column=p.column,b.end.row=p.row):(b.end.column+=C,b.end.row+=v):b.end.row>s&&(b.end.row+=v),b.start.row<s&&(u<b.start.row||u==b.start.row&&p.column<b.start.column)?(b.start.row=u,b.start.column=p.column):b.start.row==s?b.start.column<=a.column?(v||b.start.column>p.column)&&(b.start.column=p.column,b.start.row=p.row):(b.start.column+=C,b.start.row+=v):b.start.row>s&&(b.start.row+=v);if(v!=0&&r<m)for(;r<m;r++){var b;(b=l[r]).start.row+=v,b.end.row+=v}}}).call(x.prototype),O.RangeList=x}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(M,O,Q){var N=M("../range_list").RangeList,x=M("../lib/oop"),_=O.Fold=function(u,s){this.foldLine=null,this.placeholder=s,this.range=u,this.start=u.start,this.end=u.end,this.sameRow=u.start.row==u.end.row,this.subFolds=this.ranges=[]};function p(u,s){u.row-=s.row,u.row==0&&(u.column-=s.column)}function a(u,s){u.row==0&&(u.column+=s.column),u.row+=s.row}x.inherits(_,N),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(u){this.foldLine=u,this.subFolds.forEach(function(s){s.setFoldLine(u)})},this.clone=function(){var u=this.range.clone(),s=new _(u,this.placeholder);return this.subFolds.forEach(function(l){s.subFolds.push(l.clone())}),s.collapseChildren=this.collapseChildren,s},this.addSubFold=function(u){if(!this.range.isEqual(u)){var s,l;s=u,l=this.start,p(s.start,l),p(s.end,l);for(var r=u.start.row,m=u.start.column,v=0,C=-1;v<this.subFolds.length&&(C=this.subFolds[v].range.compare(r,m))==1;v++);var b=this.subFolds[v],E=0;if(C==0){if(b.range.containsRange(u))return b.addSubFold(u);E=1}r=u.range.end.row,m=u.range.end.column;var R=v;for(C=-1;R<this.subFolds.length&&(C=this.subFolds[R].range.compare(r,m))==1;R++);C==0&&R++;for(var g=this.subFolds.splice(v,R-v,u),f=C==0?g.length-1:g.length,T=E;T<f;T++)u.addSubFold(g[T]);return u.setFoldLine(this.foldLine),u}},this.restoreRange=function(u){return function(s,l){a(s.start,l),a(s.end,l)}(u,this.start)}}.call(_.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(M,O,Q){var N=M("../range").Range,x=M("./fold_line").FoldLine,_=M("./fold").Fold,p=M("../token_iterator").TokenIterator;O.Folding=function(){this.getFoldAt=function(a,u,s){var l=this.getFoldLine(a);if(!l)return null;for(var r=l.folds,m=0;m<r.length;m++){var v=r[m].range;if(v.contains(a,u)){if(s==1&&v.isEnd(a,u)&&!v.isEmpty()||s==-1&&v.isStart(a,u)&&!v.isEmpty())continue;return r[m]}}},this.getFoldsInRange=function(a){var u=a.start,s=a.end,l=this.$foldData,r=[];u.column+=1,s.column-=1;for(var m=0;m<l.length;m++){var v=l[m].range.compareRange(a);if(v!=2){if(v==-2)break;for(var C=l[m].folds,b=0;b<C.length;b++){var E=C[b];if((v=E.range.compareRange(a))==-2)break;if(v!=2){if(v==42)break;r.push(E)}}}}return u.column-=1,s.column+=1,r},this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var u=[];a.forEach(function(s){u=u.concat(this.getFoldsInRange(s))},this)}else u=this.getFoldsInRange(a);return u},this.getAllFolds=function(){for(var a=[],u=this.$foldData,s=0;s<u.length;s++)for(var l=0;l<u[s].folds.length;l++)a.push(u[s].folds[l]);return a},this.getFoldStringAt=function(a,u,s,l){if(!(l=l||this.getFoldLine(a)))return null;for(var r,m,v={end:{column:0}},C=0;C<l.folds.length;C++){var b=(m=l.folds[C]).range.compareEnd(a,u);if(b==-1){r=this.getLine(m.start.row).substring(v.end.column,m.start.column);break}if(b===0)return null;v=m}return r||(r=this.getLine(m.start.row).substring(v.end.column)),s==-1?r.substring(0,u-v.end.column):s==1?r.substring(u-v.end.column):r},this.getFoldLine=function(a,u){var s=this.$foldData,l=0;for(u&&(l=s.indexOf(u)),l==-1&&(l=0);l<s.length;l++){var r=s[l];if(r.start.row<=a&&r.end.row>=a)return r;if(r.end.row>a)return null}return null},this.getNextFoldLine=function(a,u){var s=this.$foldData,l=0;for(u&&(l=s.indexOf(u)),l==-1&&(l=0);l<s.length;l++){var r=s[l];if(r.end.row>=a)return r}return null},this.getFoldedRowCount=function(a,u){for(var s=this.$foldData,l=u-a+1,r=0;r<s.length;r++){var m=s[r],v=m.end.row,C=m.start.row;if(v>=u){C<u&&(C>=a?l-=u-C:l=0);break}v>=a&&(l-=C>=a?v-C:v-a+1)}return l},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(u,s){return u.start.row-s.start.row}),a},this.addFold=function(a,u){var s,l=this.$foldData,r=!1;a instanceof _?s=a:(s=new _(u,a)).collapseChildren=u.collapseChildren,this.$clipRangeToDocument(s.range);var m=s.start.row,v=s.start.column,C=s.end.row,b=s.end.column,E=this.getFoldAt(m,v,1),R=this.getFoldAt(C,b,-1);if(E&&R==E)return E.addSubFold(s);E&&!E.range.isStart(m,v)&&this.removeFold(E),R&&!R.range.isEnd(C,b)&&this.removeFold(R);var g=this.getFoldsInRange(s.range);g.length>0&&(this.removeFolds(g),g.forEach(function(w){s.addSubFold(w)}));for(var f=0;f<l.length;f++){var T=l[f];if(C==T.start.row){T.addFold(s),r=!0;break}if(m==T.end.row){if(T.addFold(s),r=!0,!s.sameRow){var L=l[f+1];if(L&&L.start.row==C){T.merge(L);break}}break}if(C<=T.start.row)break}return r||(T=this.$addFoldLine(new x(this.$foldData,s))),this.$useWrapMode?this.$updateWrapData(T.start.row,T.start.row):this.$updateRowLengthCache(T.start.row,T.start.row),this.$modified=!0,this._signal("changeFold",{data:s,action:"add"}),s},this.addFolds=function(a){a.forEach(function(u){this.addFold(u)},this)},this.removeFold=function(a){var u=a.foldLine,s=u.start.row,l=u.end.row,r=this.$foldData,m=u.folds;if(m.length==1)r.splice(r.indexOf(u),1);else if(u.range.isEnd(a.end.row,a.end.column))m.pop(),u.end.row=m[m.length-1].end.row,u.end.column=m[m.length-1].end.column;else if(u.range.isStart(a.start.row,a.start.column))m.shift(),u.start.row=m[0].start.row,u.start.column=m[0].start.column;else if(a.sameRow)m.splice(m.indexOf(a),1);else{var v=u.split(a.start.row,a.start.column);(m=v.folds).shift(),v.start.row=m[0].start.row,v.start.column=m[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(s,l):this.$updateRowLengthCache(s,l)),this.$modified=!0,this._signal("changeFold",{data:a,action:"remove"})},this.removeFolds=function(a){for(var u=[],s=0;s<a.length;s++)u.push(a[s]);u.forEach(function(l){this.removeFold(l)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(u){a.restoreRange(u),this.addFold(u)},this),a.collapseChildren>0&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(u){this.expandFold(u)},this)},this.unfold=function(a,u){var s,l;if(a==null?(s=new N(0,0,this.getLength(),0),u=!0):s=typeof a=="number"?new N(a,0,a,this.getLine(a).length):"row"in a?N.fromPoints(a,a):a,l=this.getFoldsInRangeList(s),u)this.removeFolds(l);else for(var r=l;r.length;)this.expandFolds(r),r=this.getFoldsInRangeList(s);if(l.length)return l},this.isRowFolded=function(a,u){return!!this.getFoldLine(a,u)},this.getRowFoldEnd=function(a,u){var s=this.getFoldLine(a,u);return s?s.end.row:a},this.getRowFoldStart=function(a,u){var s=this.getFoldLine(a,u);return s?s.start.row:a},this.getFoldDisplayLine=function(a,u,s,l,r){l==null&&(l=a.start.row),r==null&&(r=0),u==null&&(u=a.end.row),s==null&&(s=this.getLine(u).length);var m=this.doc,v="";return a.walk(function(C,b,E,R){if(!(b<l)){if(b==l){if(E<r)return;R=Math.max(r,R)}v+=C!=null?C:m.getLine(b).substring(R,E)}},u,s),v},this.getDisplayLine=function(a,u,s,l){var r,m=this.getFoldLine(a);return m?this.getFoldDisplayLine(m,a,u,s,l):(r=this.doc.getLine(a)).substring(l||0,u||r.length)},this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(u){var s=u.folds.map(function(l){return l.clone()});return new x(a,s)})},this.toggleFold=function(a){var u,s,l=this.selection.getRange();if(l.isEmpty()){var r=l.start;if(u=this.getFoldAt(r.row,r.column))return void this.expandFold(u);(s=this.findMatchingBracket(r))?l.comparePoint(s)==1?l.end=s:(l.start=s,l.start.column++,l.end.column--):(s=this.findMatchingBracket({row:r.row,column:r.column+1}))?(l.comparePoint(s)==1?l.end=s:l.start=s,l.start.column++):l=this.getCommentFoldRange(r.row,r.column)||l}else{var m=this.getFoldsInRange(l);if(a&&m.length)return void this.expandFolds(m);m.length==1&&(u=m[0])}if(u||(u=this.getFoldAt(l.start.row,l.start.column)),u&&u.range.toString()==l.toString())this.expandFold(u);else{var v="...";if(!l.isMultiLine()){if((v=this.getTextRange(l)).length<4)return;v=v.trim().substring(0,2)+".."}this.addFold(v,l)}},this.getCommentFoldRange=function(a,u,s){var l=new p(this,a,u),r=l.getCurrentToken(),m=r.type;if(r&&/^comment|string/.test(m)){(m=m.match(/comment|string/)[0])=="comment"&&(m+="|doc-start");var v=new RegExp(m),C=new N;if(s!=1){do r=l.stepBackward();while(r&&v.test(r.type));l.stepForward()}if(C.start.row=l.getCurrentTokenRow(),C.start.column=l.getCurrentTokenColumn()+2,l=new p(this,a,u),s!=-1){var b=-1;do if(r=l.stepForward(),b==-1){var E=this.getState(l.$row);v.test(E)||(b=l.$row)}else if(l.$row>b)break;while(r&&v.test(r.type));r=l.stepBackward()}else r=l.getCurrentToken();return C.end.row=l.getCurrentTokenRow(),C.end.column=l.getCurrentTokenColumn()+r.value.length-2,C}},this.foldAll=function(a,u,s){s==null&&(s=1e5);var l=this.foldWidgets;if(l){u=u||this.getLength();for(var r=a=a||0;r<u;r++)if(l[r]==null&&(l[r]=this.getFoldWidget(r)),l[r]=="start"){var m=this.getFoldWidgetRange(r);if(m&&m.isMultiLine()&&m.end.row<=u&&m.start.row>=a){r=m.end.row;try{var v=this.addFold("...",m);v&&(v.collapseChildren=s)}catch{}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw new Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=a){this.$foldStyle=a,a=="manual"&&this.unfold();var u=this.$foldMode;this.$setFolding(null),this.$setFolding(u)}},this.$setFolding=function(a){this.$foldMode!=a&&(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),a&&this.$foldStyle!="manual"?(this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(a,u){var s=this.foldWidgets;if(!s||u&&s[a])return{};for(var l,r=a-1;r>=0;){var m=s[r];if(m==null&&(m=s[r]=this.getFoldWidget(r)),m=="start"){var v=this.getFoldWidgetRange(r);if(l||(l=v),v&&v.end.row>=a)break}r--}return{range:r!==-1&&v,firstRange:l}},this.onFoldWidgetClick=function(a,u){var s={children:(u=u.domEvent).shiftKey,all:u.ctrlKey||u.metaKey,siblings:u.altKey};if(!this.$toggleFoldWidget(a,s)){var l=u.target||u.srcElement;l&&/ace_fold-widget/.test(l.className)&&(l.className+=" ace_invalid")}},this.$toggleFoldWidget=function(a,u){if(this.getFoldWidget){var s=this.getFoldWidget(a),l=this.getLine(a),r=s==="end"?-1:1,m=this.getFoldAt(a,r===-1?0:l.length,r);if(m)return u.children||u.all?this.removeFold(m):this.expandFold(m),m;var v=this.getFoldWidgetRange(a,!0);if(v&&!v.isMultiLine()&&(m=this.getFoldAt(v.start.row,v.start.column,1))&&v.isEqual(m.range))return this.removeFold(m),m;if(u.siblings){var C=this.getParentFoldRangeData(a);if(C.range)var b=C.range.start.row+1,E=C.range.end.row;this.foldAll(b,E,u.all?1e4:0)}else u.children?(E=v?v.end.row:this.getLength(),this.foldAll(a+1,E,u.all?1e4:0)):v&&(u.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(a){var u=this.selection.getCursor().row;u=this.getRowFoldStart(u);var s=this.$toggleFoldWidget(u,{});if(!s){var l=this.getParentFoldRangeData(u,!0);if(s=l.range||l.firstRange){u=s.start.row;var r=this.getFoldAt(u,this.getLine(u).length,1);r?this.removeFold(r):this.addFold("...",s)}}},this.updateFoldWidgets=function(a){var u=a.start.row,s=a.end.row-u;if(s===0)this.foldWidgets[u]=null;else if(a.action=="remove")this.foldWidgets.splice(u,s+1,null);else{var l=Array(s+1);l.unshift(u,1),this.foldWidgets.splice.apply(this.foldWidgets,l)}},this.tokenizerUpdateFoldWidgets=function(a){var u=a.data;u.first!=u.last&&this.foldWidgets.length>u.first&&this.foldWidgets.splice(u.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(M,O,Q){var N=M("../token_iterator").TokenIterator,x=M("../range").Range;O.BracketMatch=function(){this.findMatchingBracket=function(_,p){if(_.column==0)return null;var a=p||this.getLine(_.row).charAt(_.column-1);if(a=="")return null;var u=a.match(/([\(\[\{])|([\)\]\}])/);return u?u[1]?this.$findClosingBracket(u[1],_):this.$findOpeningBracket(u[2],_):null},this.getBracketRange=function(_){var p,a=this.getLine(_.row),u=!0,s=a.charAt(_.column-1),l=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(l||(s=a.charAt(_.column),_={row:_.row,column:_.column+1},l=s&&s.match(/([\(\[\{])|([\)\]\}])/),u=!1),!l)return null;if(l[1]){if(!(r=this.$findClosingBracket(l[1],_)))return null;p=x.fromPoints(_,r),u||(p.end.column++,p.start.column--),p.cursor=p.end}else{var r;if(!(r=this.$findOpeningBracket(l[2],_)))return null;p=x.fromPoints(r,_),u||(p.start.column++,p.end.column--),p.cursor=p.start}return p},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(_,p,a){var u=this.$brackets[_],s=1,l=new N(this,p.row,p.column),r=l.getCurrentToken();if(r||(r=l.stepForward()),r){a||(a=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var m=p.column-l.getCurrentTokenColumn()-2,v=r.value;;){for(;m>=0;){var C=v.charAt(m);if(C==u){if((s-=1)==0)return{row:l.getCurrentTokenRow(),column:m+l.getCurrentTokenColumn()}}else C==_&&(s+=1);m-=1}do r=l.stepBackward();while(r&&!a.test(r.type));if(r==null)break;m=(v=r.value).length-1}return null}},this.$findClosingBracket=function(_,p,a){var u=this.$brackets[_],s=1,l=new N(this,p.row,p.column),r=l.getCurrentToken();if(r||(r=l.stepForward()),r){a||(a=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var m=p.column-l.getCurrentTokenColumn();;){for(var v=r.value,C=v.length;m<C;){var b=v.charAt(m);if(b==u){if((s-=1)==0)return{row:l.getCurrentTokenRow(),column:m+l.getCurrentTokenColumn()}}else b==_&&(s+=1);m+=1}do r=l.stepForward();while(r&&!a.test(r.type));if(r==null)break;m=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(M,O,Q){var N=M("./lib/oop"),x=M("./lib/lang"),_=M("./bidihandler").BidiHandler,p=M("./config"),a=M("./lib/event_emitter").EventEmitter,u=M("./selection").Selection,s=M("./mode/text").Mode,l=M("./range").Range,r=M("./document").Document,m=M("./background_tokenizer").BackgroundTokenizer,v=M("./search_highlight").SearchHighlight,C=function(b,E){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++C.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),typeof b=="object"&&b.getLine||(b=new r(b)),this.setDocument(b),this.selection=new u(this),this.$bidiHandler=new _(this),p.resetOptions(this),this.setMode(E),p._signal("session",this)};C.$uid=0,function(){N.implement(this,a),this.setDocument=function(g){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=g,g.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(g){if(!g)return this.$docRowCache=[],void(this.$screenRowCache=[]);var f=this.$docRowCache.length,T=this.$getRowCacheIndex(this.$docRowCache,g)+1;f>T&&(this.$docRowCache.splice(T,f),this.$screenRowCache.splice(T,f))},this.$getRowCacheIndex=function(g,f){for(var T=0,L=g.length-1;T<=L;){var w=T+L>>1,S=g[w];if(f>S)T=w+1;else{if(!(f<S))return w;L=w-1}}return T-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(g){var f=g.data;this.$resetRowCache(f.start.row)},this.onChange=function(g){this.$modified=!0,this.$bidiHandler.onChange(g),this.$resetRowCache(g.start.row);var f=this.$updateInternalDataOnChange(g);!this.$fromUndo&&this.$undoManager&&(f&&f.length&&(this.$undoManager.add({action:"removeFolds",folds:f},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(g,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(g),this._signal("change",g)},this.setValue=function(g){this.doc.setValue(g),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(g){return this.bgTokenizer.getState(g)},this.getTokens=function(g){return this.bgTokenizer.getTokens(g)},this.getTokenAt=function(g,f){var T,L=this.bgTokenizer.getTokens(g),w=0;if(f==null){var S=L.length-1;w=this.getLine(g).length}else for(S=0;S<L.length&&!((w+=L[S].value.length)>=f);S++);return(T=L[S])?(T.index=S,T.start=w-T.value.length,T):null},this.setUndoManager=function(g){if(this.$undoManager=g,this.$informUndoManager&&this.$informUndoManager.cancel(),g){var f=this;g.addSession(this),this.$syncInformUndoManager=function(){f.$informUndoManager.cancel(),f.mergeUndoDeltas=!1},this.$informUndoManager=x.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?x.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(g){this.setOption("useSoftTabs",g)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(g){this.setOption("tabSize",g)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(g){return this.$useSoftTabs&&g.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(g){this.setOption("navigateWithinSoftTabs",g)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(g){this.setOption("overwrite",g)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(g,f){this.$decorations[g]||(this.$decorations[g]=""),this.$decorations[g]+=" "+f,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(g,f){this.$decorations[g]=(this.$decorations[g]||"").replace(" "+f,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(g){this.$breakpoints=[];for(var f=0;f<g.length;f++)this.$breakpoints[g[f]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(g,f){f===void 0&&(f="ace_breakpoint"),f?this.$breakpoints[g]=f:delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(g){delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},this.addMarker=function(g,f,T,L){var w=this.$markerId++,S={range:g,type:T||"line",renderer:typeof T=="function"?T:null,clazz:f,inFront:!!L,id:w};return L?(this.$frontMarkers[w]=S,this._signal("changeFrontMarker")):(this.$backMarkers[w]=S,this._signal("changeBackMarker")),w},this.addDynamicMarker=function(g,f){if(g.update){var T=this.$markerId++;return g.id=T,g.inFront=!!f,f?(this.$frontMarkers[T]=g,this._signal("changeFrontMarker")):(this.$backMarkers[T]=g,this._signal("changeBackMarker")),g}},this.removeMarker=function(g){var f=this.$frontMarkers[g]||this.$backMarkers[g];f&&(delete(f.inFront?this.$frontMarkers:this.$backMarkers)[g],this._signal(f.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(g){return g?this.$frontMarkers:this.$backMarkers},this.highlight=function(g){if(!this.$searchHighlight){var f=new v(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(f)}this.$searchHighlight.setRegexp(g)},this.highlightLines=function(g,f,T,L){typeof f!="number"&&(T=f,f=g),T||(T="ace_step");var w=new l(g,0,f,1/0);return w.id=this.addMarker(w,T,"fullLine",L),w},this.setAnnotations=function(g){this.$annotations=g,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(g){var f=g.match(/^.*?(\r?\n)/m);this.$autoNewLine=f?f[1]:`
`},this.getWordRange=function(g,f){var T=this.getLine(g),L=!1;if(f>0&&(L=!!T.charAt(f-1).match(this.tokenRe)),L||(L=!!T.charAt(f).match(this.tokenRe)),L)var w=this.tokenRe;else/^\s+$/.test(T.slice(f-1,f+1))?w=/\s/:w=this.nonTokenRe;var S=f;if(S>0){do S--;while(S>=0&&T.charAt(S).match(w));S++}for(var I=f;I<T.length&&T.charAt(I).match(w);)I++;return new l(g,S,g,I)},this.getAWordRange=function(g,f){for(var T=this.getWordRange(g,f),L=this.getLine(T.end.row);L.charAt(T.end.column).match(/[ \t]/);)T.end.column+=1;return T},this.setNewLineMode=function(g){this.doc.setNewLineMode(g)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(g){this.setOption("useWorker",g)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(g){var f=g.data;this.bgTokenizer.start(f.first),this._signal("tokenizerUpdate",g)},this.$modes=p.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(g,f){if(g&&typeof g=="object"){if(g.getTokenizer)return this.$onChangeMode(g);var T=g,L=T.path}else L=g||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new s),this.$modes[L]&&!T)return this.$onChangeMode(this.$modes[L]),void(f&&f());this.$modeId=L,p.loadModule(["mode",L],function(w){if(this.$modeId!==L)return f&&f();this.$modes[L]&&!T?this.$onChangeMode(this.$modes[L]):w&&w.Mode&&(w=new w.Mode(T),T||(this.$modes[L]=w,w.$id=L),this.$onChangeMode(w)),f&&f()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(g,f){if(f||(this.$modeId=g.$id),this.$mode!==g){this.$mode=g,this.$stopWorker(),this.$useWorker&&this.$startWorker();var T=g.getTokenizer();if(T.addEventListener!==void 0){var L=this.onReloadTokenizer.bind(this);T.addEventListener("update",L)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(T);else{this.bgTokenizer=new m(T);var w=this;this.bgTokenizer.addEventListener("update",function(S){w._signal("tokenizerUpdate",S)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=g.tokenRe,this.nonTokenRe=g.nonTokenRe,f||(g.attachToSession&&g.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(g.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(g){p.warn("Could not load worker",g),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(g){this.$scrollTop===g||isNaN(g)||(this.$scrollTop=g,this._signal("changeScrollTop",g))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(g){this.$scrollLeft===g||isNaN(g)||(this.$scrollLeft=g,this._signal("changeScrollLeft",g))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var g=0;return this.lineWidgets.forEach(function(f){f&&f.screenWidth>g&&(g=f.screenWidth)}),this.lineWidgetWidth=g},this.$computeWidth=function(g){if(this.$modified||g){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var f=this.doc.getAllLines(),T=this.$rowLengthCache,L=0,w=0,S=this.$foldData[w],I=S?S.start.row:1/0,F=f.length,B=0;B<F;B++){if(B>I){if((B=S.end.row+1)>=F)break;I=(S=this.$foldData[w++])?S.start.row:1/0}T[B]==null&&(T[B]=this.$getStringScreenWidth(f[B])[0]),T[B]>L&&(L=T[B])}this.screenWidth=L}},this.getLine=function(g){return this.doc.getLine(g)},this.getLines=function(g,f){return this.doc.getLines(g,f)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(g){return this.doc.getTextRange(g||this.selection.getRange())},this.insert=function(g,f){return this.doc.insert(g,f)},this.remove=function(g){return this.doc.remove(g)},this.removeFullLines=function(g,f){return this.doc.removeFullLines(g,f)},this.undoChanges=function(g,f){if(g.length){this.$fromUndo=!0;for(var T=g.length-1;T!=-1;T--){var L=g[T];L.action=="insert"||L.action=="remove"?this.doc.revertDelta(L):L.folds&&this.addFolds(L.folds)}!f&&this.$undoSelect&&(g.selectionBefore?this.selection.fromJSON(g.selectionBefore):this.selection.setRange(this.$getUndoSelection(g,!0))),this.$fromUndo=!1}},this.redoChanges=function(g,f){if(g.length){this.$fromUndo=!0;for(var T=0;T<g.length;T++){var L=g[T];L.action!="insert"&&L.action!="remove"||this.doc.applyDelta(L)}!f&&this.$undoSelect&&(g.selectionAfter?this.selection.fromJSON(g.selectionAfter):this.selection.setRange(this.$getUndoSelection(g,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(g){this.$undoSelect=g},this.$getUndoSelection=function(g,f){function T(F){return f?F.action!=="insert":F.action==="insert"}for(var L,w,S=0;S<g.length;S++){var I=g[S];I.start&&(L?T(I)?(w=I.start,L.compare(w.row,w.column)==-1&&L.setStart(w),w=I.end,L.compare(w.row,w.column)==1&&L.setEnd(w)):(w=I.start,L.compare(w.row,w.column)==-1&&(L=l.fromPoints(I.start,I.start))):T(I)?L=l.fromPoints(I.start,I.end):L=l.fromPoints(I.start,I.start))}return L},this.replace=function(g,f){return this.doc.replace(g,f)},this.moveText=function(g,f,T){var L=this.getTextRange(g),w=this.getFoldsInRange(g),S=l.fromPoints(f,f);if(!T){this.remove(g);var I=g.start.row-g.end.row;(G=I?-g.end.column:g.start.column-g.end.column)&&(S.start.row==g.end.row&&S.start.column>g.end.column&&(S.start.column+=G),S.end.row==g.end.row&&S.end.column>g.end.column&&(S.end.column+=G)),I&&S.start.row>=g.end.row&&(S.start.row+=I,S.end.row+=I)}if(S.end=this.insert(S.start,L),w.length){var F=g.start,B=S.start,G=(I=B.row-F.row,B.column-F.column);this.addFolds(w.map(function(z){return(z=z.clone()).start.row==F.row&&(z.start.column+=G),z.end.row==F.row&&(z.end.column+=G),z.start.row+=I,z.end.row+=I,z}))}return S},this.indentRows=function(g,f,T){T=T.replace(/\t/g,this.getTabString());for(var L=g;L<=f;L++)this.doc.insertInLine({row:L,column:0},T)},this.outdentRows=function(g){for(var f=g.collapseRows(),T=new l(0,0,0,0),L=this.getTabSize(),w=f.start.row;w<=f.end.row;++w){var S=this.getLine(w);T.start.row=w,T.end.row=w;for(var I=0;I<L&&S.charAt(I)==" ";++I);I<L&&S.charAt(I)=="	"?(T.start.column=I,T.end.column=I+1):(T.start.column=0,T.end.column=I),this.remove(T)}},this.$moveLines=function(g,f,T){if(g=this.getRowFoldStart(g),f=this.getRowFoldEnd(f),T<0){if((w=this.getRowFoldStart(g+T))<0)return 0;var L=w-g}else if(T>0){var w;if((w=this.getRowFoldEnd(f+T))>this.doc.getLength()-1)return 0;L=w-f}else g=this.$clipRowToDocument(g),L=(f=this.$clipRowToDocument(f))-g+1;var S=new l(g,0,f,Number.MAX_VALUE),I=this.getFoldsInRange(S).map(function(B){return(B=B.clone()).start.row+=L,B.end.row+=L,B}),F=T==0?this.doc.getLines(g,f):this.doc.removeFullLines(g,f);return this.doc.insertFullLines(g+L,F),I.length&&this.addFolds(I),L},this.moveLinesUp=function(g,f){return this.$moveLines(g,f,-1)},this.moveLinesDown=function(g,f){return this.$moveLines(g,f,1)},this.duplicateLines=function(g,f){return this.$moveLines(g,f,0)},this.$clipRowToDocument=function(g){return Math.max(0,Math.min(g,this.doc.getLength()-1))},this.$clipColumnToRow=function(g,f){return f<0?0:Math.min(this.doc.getLine(g).length,f)},this.$clipPositionToDocument=function(g,f){if(f=Math.max(0,f),g<0)g=0,f=0;else{var T=this.doc.getLength();g>=T?(g=T-1,f=this.doc.getLine(T-1).length):f=Math.min(this.doc.getLine(g).length,f)}return{row:g,column:f}},this.$clipRangeToDocument=function(g){g.start.row<0?(g.start.row=0,g.start.column=0):g.start.column=this.$clipColumnToRow(g.start.row,g.start.column);var f=this.doc.getLength()-1;return g.end.row>f?(g.end.row=f,g.end.column=this.doc.getLine(f).length):g.end.column=this.$clipColumnToRow(g.end.row,g.end.column),g},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(g){if(g!=this.$useWrapMode){if(this.$useWrapMode=g,this.$modified=!0,this.$resetRowCache(0),g){var f=this.getLength();this.$wrapData=Array(f),this.$updateWrapData(0,f-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(g,f){this.$wrapLimitRange.min===g&&this.$wrapLimitRange.max===f||(this.$wrapLimitRange={min:g,max:f},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(g,f){var T=this.$wrapLimitRange;T.max<0&&(T={min:f,max:f});var L=this.$constrainWrapLimit(g,T.min,T.max);return L!=this.$wrapLimit&&L>1&&(this.$wrapLimit=L,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(g,f,T){return f&&(g=Math.max(f,g)),T&&(g=Math.min(T,g)),g},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(g){this.setWrapLimitRange(g,g)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(g){var f=this.$useWrapMode,T=g.action,L=g.start,w=g.end,S=L.row,I=w.row,F=I-S,B=null;if(this.$updating=!0,F!=0)if(T==="remove"){this[f?"$wrapData":"$rowLengthCache"].splice(S,F);var G=this.$foldData;B=this.getFoldsInRange(g),this.removeFolds(B);var z=0;if($=this.getFoldLine(w.row)){$.addRemoveChars(w.row,w.column,L.column-w.column),$.shiftRow(-F);var ne=this.getFoldLine(S);ne&&ne!==$&&(ne.merge($),$=ne),z=G.indexOf($)+1}for(;z<G.length;z++)($=G[z]).start.row>=w.row&&$.shiftRow(-F);I=S}else{var J=Array(F);J.unshift(S,0);var K=f?this.$wrapData:this.$rowLengthCache;if(K.splice.apply(K,J),G=this.$foldData,z=0,$=this.getFoldLine(S)){var H=$.range.compareInside(L.row,L.column);H==0?($=$.split(L.row,L.column))&&($.shiftRow(F),$.addRemoveChars(I,0,w.column-L.column)):H==-1&&($.addRemoveChars(S,0,w.column-L.column),$.shiftRow(F)),z=G.indexOf($)+1}for(;z<G.length;z++){var $;($=G[z]).start.row>=S&&$.shiftRow(F)}}else F=Math.abs(g.start.column-g.end.column),T==="remove"&&(B=this.getFoldsInRange(g),this.removeFolds(B),F=-F),($=this.getFoldLine(S))&&$.addRemoveChars(S,L.column,F);return f&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,f?this.$updateWrapData(S,I):this.$updateRowLengthCache(S,I),B},this.$updateRowLengthCache=function(g,f,T){this.$rowLengthCache[g]=null,this.$rowLengthCache[f]=null},this.$updateWrapData=function(g,f){var T,L,w=this.doc.getAllLines(),S=this.getTabSize(),I=this.$wrapData,F=this.$wrapLimit,B=g;for(f=Math.min(f,w.length-1);B<=f;)(L=this.getFoldLine(B,L))?(T=[],L.walk(function(G,z,ne,J){var K;if(G!=null){(K=this.$getDisplayTokens(G,T.length))[0]=b;for(var H=1;H<K.length;H++)K[H]=E}else K=this.$getDisplayTokens(w[z].substring(J,ne),T.length);T=T.concat(K)}.bind(this),L.end.row,w[L.end.row].length+1),I[L.start.row]=this.$computeWrapSplits(T,F,S),B=L.end.row+1):(T=this.$getDisplayTokens(w[B]),I[B]=this.$computeWrapSplits(T,F,S),B++)};var b=3,E=4;function R(g){return!(g<4352)&&(g>=4352&&g<=4447||g>=4515&&g<=4519||g>=4602&&g<=4607||g>=9001&&g<=9002||g>=11904&&g<=11929||g>=11931&&g<=12019||g>=12032&&g<=12245||g>=12272&&g<=12283||g>=12288&&g<=12350||g>=12353&&g<=12438||g>=12441&&g<=12543||g>=12549&&g<=12589||g>=12593&&g<=12686||g>=12688&&g<=12730||g>=12736&&g<=12771||g>=12784&&g<=12830||g>=12832&&g<=12871||g>=12880&&g<=13054||g>=13056&&g<=19903||g>=19968&&g<=42124||g>=42128&&g<=42182||g>=43360&&g<=43388||g>=44032&&g<=55203||g>=55216&&g<=55238||g>=55243&&g<=55291||g>=63744&&g<=64255||g>=65040&&g<=65049||g>=65072&&g<=65106||g>=65108&&g<=65126||g>=65128&&g<=65131||g>=65281&&g<=65376||g>=65504&&g<=65510)}this.$computeWrapSplits=function(g,f,T){if(g.length==0)return[];var L=[],w=g.length,S=0,I=0,F=this.$wrapAsCode,B=this.$indentedSoftWrap,G=f<=Math.max(2*T,8)||B===!1?0:Math.floor(f/2);function z(H){for(var $=H-S,X=S;X<H;X++){var q=g[X];q!==12&&q!==2||($-=1)}L.length||(ne=function(){var oe=0;if(G===0)return oe;if(B)for(var ce=0;ce<g.length;ce++){var se=g[ce];if(se==10)oe+=1;else{if(se!=11){if(se==12)continue;break}oe+=T}}return F&&B!==!1&&(oe+=T),Math.min(oe,G)}(),L.indent=ne),I+=$,L.push(I),S=H}for(var ne=0;w-S>f-ne;){var J=S+f-ne;if(g[J-1]>=10&&g[J]>=10)z(J);else if(g[J]!=b&&g[J]!=E){for(var K=Math.max(J-(f-(f>>2)),S-1);J>K&&g[J]<b;)J--;if(F){for(;J>K&&g[J]<b;)J--;for(;J>K&&g[J]==9;)J--}else for(;J>K&&g[J]<10;)J--;J>K?z(++J):(g[J=S+f]==2&&J--,z(J-ne))}else{for(;J!=S-1&&g[J]!=b;J--);if(J>S){z(J);continue}for(J=S+f;J<g.length&&g[J]==E;J++);if(J==g.length)break;z(J)}}return L},this.$getDisplayTokens=function(g,f){var T,L=[];f=f||0;for(var w=0;w<g.length;w++){var S=g.charCodeAt(w);if(S==9){T=this.getScreenTabSize(L.length+f),L.push(11);for(var I=1;I<T;I++)L.push(12)}else S==32?L.push(10):S>39&&S<48||S>57&&S<64?L.push(9):S>=4352&&R(S)?L.push(1,2):L.push(1)}return L},this.$getStringScreenWidth=function(g,f,T){if(f==0)return[0,0];var L,w;for(f==null&&(f=1/0),T=T||0,w=0;w<g.length&&((L=g.charCodeAt(w))==9?T+=this.getScreenTabSize(T):L>=4352&&R(L)?T+=2:T+=1,!(T>f));w++);return[T,w]},this.lineWidgets=null,this.getRowLength=function(g){if(this.lineWidgets)var f=this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0;else f=0;return this.$useWrapMode&&this.$wrapData[g]?this.$wrapData[g].length+1+f:1+f},this.getRowLineCount=function(g){return this.$useWrapMode&&this.$wrapData[g]?this.$wrapData[g].length+1:1},this.getRowWrapIndent=function(g){if(this.$useWrapMode){var f=this.screenToDocumentPosition(g,Number.MAX_VALUE),T=this.$wrapData[f.row];return T.length&&T[0]<f.column?T.indent:0}return 0},this.getScreenLastRowColumn=function(g){var f=this.screenToDocumentPosition(g,Number.MAX_VALUE);return this.documentToScreenColumn(f.row,f.column)},this.getDocumentLastRowColumn=function(g,f){var T=this.documentToScreenRow(g,f);return this.getScreenLastRowColumn(T)},this.getDocumentLastRowColumnPosition=function(g,f){var T=this.documentToScreenRow(g,f);return this.screenToDocumentPosition(T,Number.MAX_VALUE/10)},this.getRowSplitData=function(g){return this.$useWrapMode?this.$wrapData[g]:void 0},this.getScreenTabSize=function(g){return this.$tabSize-(g%this.$tabSize|0)},this.screenToDocumentRow=function(g,f){return this.screenToDocumentPosition(g,f).row},this.screenToDocumentColumn=function(g,f){return this.screenToDocumentPosition(g,f).column},this.screenToDocumentPosition=function(g,f,T){if(g<0)return{row:0,column:0};var L,w,S=0,I=0,F=0,B=0,G=this.$screenRowCache,z=this.$getRowCacheIndex(G,g),ne=G.length;if(ne&&z>=0){F=G[z],S=this.$docRowCache[z];var J=g>G[ne-1]}else J=!ne;for(var K=this.getLength()-1,H=this.getNextFoldLine(S),$=H?H.start.row:1/0;F<=g&&!(F+(B=this.getRowLength(S))>g||S>=K);)F+=B,++S>$&&(S=H.end.row+1,$=(H=this.getNextFoldLine(S,H))?H.start.row:1/0),J&&(this.$docRowCache.push(S),this.$screenRowCache.push(F));if(H&&H.start.row<=S)L=this.getFoldDisplayLine(H),S=H.start.row;else{if(F+B<=g||S>K)return{row:K,column:this.getLine(K).length};L=this.getLine(S),H=null}var X=0,q=Math.floor(g-F);if(this.$useWrapMode){var oe=this.$wrapData[S];oe&&(w=oe[q],q>0&&oe.length&&(X=oe.indent,I=oe[q-1]||oe[oe.length-1],L=L.substring(I)))}return T!==void 0&&this.$bidiHandler.isBidiRow(F+q,S,q)&&(f=this.$bidiHandler.offsetToCol(T)),I+=this.$getStringScreenWidth(L,f-X)[1],this.$useWrapMode&&I>=w&&(I=w-1),H?H.idxToPosition(I):{row:S,column:I}},this.documentToScreenPosition=function(g,f){if(f===void 0)var T=this.$clipPositionToDocument(g.row,g.column);else T=this.$clipPositionToDocument(g,f);g=T.row,f=T.column;var L,w=0,S=null;(L=this.getFoldAt(g,f,1))&&(g=L.start.row,f=L.start.column);var I,F=0,B=this.$docRowCache,G=this.$getRowCacheIndex(B,g),z=B.length;if(z&&G>=0){F=B[G],w=this.$screenRowCache[G];var ne=g>B[z-1]}else ne=!z;for(var J=this.getNextFoldLine(F),K=J?J.start.row:1/0;F<g;){if(F>=K){if((I=J.end.row+1)>g)break;K=(J=this.getNextFoldLine(I,J))?J.start.row:1/0}else I=F+1;w+=this.getRowLength(F),F=I,ne&&(this.$docRowCache.push(F),this.$screenRowCache.push(w))}var H="";J&&F>=K?(H=this.getFoldDisplayLine(J,g,f),S=J.start.row):(H=this.getLine(g).substring(0,f),S=g);var $=0;if(this.$useWrapMode){var X=this.$wrapData[S];if(X){for(var q=0;H.length>=X[q];)w++,q++;H=H.substring(X[q-1]||0,H.length),$=q>0?X.indent:0}}return{row:w,column:$+this.$getStringScreenWidth(H)[0]}},this.documentToScreenColumn=function(g,f){return this.documentToScreenPosition(g,f).column},this.documentToScreenRow=function(g,f){return this.documentToScreenPosition(g,f).row},this.getScreenLength=function(){var g=0,f=null;if(this.$useWrapMode)for(var T=this.$wrapData.length,L=0,w=(F=0,(f=this.$foldData[F++])?f.start.row:1/0);L<T;){var S=this.$wrapData[L];g+=S?S.length+1:1,++L>w&&(L=f.end.row+1,w=(f=this.$foldData[F++])?f.start.row:1/0)}else{g=this.getLength();for(var I=this.$foldData,F=0;F<I.length;F++)g-=(f=I[F]).end.row-f.start.row}return this.lineWidgets&&(g+=this.$getWidgetScreenLength()),g},this.$setFontMetrics=function(g){this.$enableVarChar&&(this.$getStringScreenWidth=function(f,T,L){if(T===0)return[0,0];var w,S;for(T||(T=1/0),L=L||0,S=0;S<f.length&&!((L+=(w=f.charAt(S))==="	"?this.getScreenTabSize(L):g.getCharacterWidth(w))>T);S++);return[L,S]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=R}.call(C.prototype),M("./edit_session/folding").Folding.call(C.prototype),M("./edit_session/bracket_match").BracketMatch.call(C.prototype),p.defineOptions(C.prototype,"session",{wrap:{set:function(b){if(b&&b!="off"?b=="free"?b=!0:b=="printMargin"?b=-1:typeof b=="string"&&(b=parseInt(b,10)||!1):b=!1,this.$wrap!=b)if(this.$wrap=b,b){var E=typeof b=="number"?b:null;this.setWrapLimitRange(E,E),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(b){(b=b=="auto"?this.$mode.type!="text":b!="text")!=this.$wrapAsCode&&(this.$wrapAsCode=b,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(b){this.$useWorker=b,this.$stopWorker(),b&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(b){(b=parseInt(b))>0&&this.$tabSize!==b&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=b,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(b){this.setFoldStyle(b)},handlesSet:!0},overwrite:{set:function(b){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(b){this.doc.setNewLineMode(b)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(b){this.setMode(b)},get:function(){return this.$modeId},handlesSet:!0}}),O.EditSession=C}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(M,O,Q){var N=M("./lib/lang"),x=M("./lib/oop"),_=M("./range").Range,p=function(){this.$options={}};(function(){this.set=function(a){return x.mixin(this.$options,a),this},this.getOptions=function(){return N.copyObject(this.$options)},this.setOptions=function(a){this.$options=a},this.find=function(a){var u=this.$options,s=this.$matchIterator(a,u);if(!s)return!1;var l=null;return s.forEach(function(r,m,v,C){return l=new _(r,m,v,C),!(m==C&&u.start&&u.start.start&&u.skipCurrent!=0&&l.isEqual(u.start))||(l=null,!1)}),l},this.findAll=function(a){var u=this.$options;if(!u.needle)return[];this.$assembleRegExp(u);var s=u.range,l=s?a.getLines(s.start.row,s.end.row):a.doc.getAllLines(),r=[],m=u.re;if(u.$isMultiLine){var v,C=m.length,b=l.length-C;e:for(var E=m.offset||0;E<=b;E++){for(var R=0;R<C;R++)if(l[E+R].search(m[R])==-1)continue e;var g=l[E],f=l[E+C-1],T=g.length-g.match(m[0])[0].length,L=f.match(m[C-1])[0].length;v&&v.end.row===E&&v.end.column>T||(r.push(v=new _(E,T,E+C-1,L)),C>2&&(E=E+C-2))}}else for(var w=0;w<l.length;w++){var S=N.getMatchOffsets(l[w],m);for(R=0;R<S.length;R++){var I=S[R];r.push(new _(w,I.offset,w,I.offset+I.length))}}if(s){var F=s.start.column,B=s.start.column;for(w=0,R=r.length-1;w<R&&r[w].start.column<F&&r[w].start.row==s.start.row;)w++;for(;w<R&&r[R].end.column>B&&r[R].end.row==s.end.row;)R--;for(r=r.slice(w,R+1),w=0,R=r.length;w<R;w++)r[w].start.row+=s.start.row,r[w].end.row+=s.start.row}return r},this.replace=function(a,u){var s=this.$options,l=this.$assembleRegExp(s);if(s.$isMultiLine)return u;if(l){var r=l.exec(a);if(!r||r[0].length!=a.length)return null;if(u=a.replace(l,u),s.preserveCase){u=u.split("");for(var m=Math.min(a.length,a.length);m--;){var v=a[m];v&&v.toLowerCase()!=v?u[m]=u[m].toUpperCase():u[m]=u[m].toLowerCase()}u=u.join("")}return u}},this.$assembleRegExp=function(a,u){if(a.needle instanceof RegExp)return a.re=a.needle;var s=a.needle;if(!a.needle)return a.re=!1;a.regExp||(s=N.escapeRegExp(s)),a.wholeWord&&(s=function(m,v){function C(b){return/\w/.test(b)||v.regExp?"\\b":""}return C(m[0])+m+C(m[m.length-1])}(s,a));var l=a.caseSensitive?"gm":"gmi";if(a.$isMultiLine=!u&&/[\n\r]/.test(s),a.$isMultiLine)return a.re=this.$assembleMultilineRegExp(s,l);try{var r=new RegExp(s,l)}catch{r=!1}return a.re=r},this.$assembleMultilineRegExp=function(a,u){for(var s=a.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),l=[],r=0;r<s.length;r++)try{l.push(new RegExp(s[r],u))}catch{return!1}return l},this.$matchIterator=function(a,u){var s=this.$assembleRegExp(u);if(!s)return!1;var l=u.backwards==1,r=u.skipCurrent!=0,m=u.range,v=u.start;v||(v=m?m[l?"end":"start"]:a.selection.getRange()),v.start&&(v=v[r!=l?"end":"start"]);var C=m?m.start.row:0,b=m?m.end.row:a.getLength()-1;if(l)var E=function(f){var T=v.row;if(!g(T,v.column,f)){for(T--;T>=C;T--)if(g(T,Number.MAX_VALUE,f))return;if(u.wrap!=0){for(T=b,C=v.row;T>=C;T--)if(g(T,Number.MAX_VALUE,f))return}}};else E=function(f){var T=v.row;if(!g(T,v.column,f)){for(T+=1;T<=b;T++)if(g(T,0,f))return;if(u.wrap!=0){for(T=C,b=v.row;T<=b;T++)if(g(T,0,f))return}}};if(u.$isMultiLine)var R=s.length,g=function(f,T,L){var w=l?f-R+1:f;if(!(w<0)){var S=a.getLine(w),I=S.search(s[0]);if(!(!l&&I<T||I===-1)){for(var F=1;F<R;F++)if((S=a.getLine(w+F)).search(s[F])==-1)return;var B=S.match(s[R-1])[0].length;if(!(l&&B>T))return!!L(w,I,w+R-1,B)||void 0}}};else l?g=function(f,T,L){var w,S=a.getLine(f),I=[],F=0;for(s.lastIndex=0;w=s.exec(S);){var B=w[0].length;if(F=w.index,!B){if(F>=S.length)break;s.lastIndex=F+=1}if(w.index+B>T)break;I.push(w.index,B)}for(var G=I.length-1;G>=0;G-=2){var z=I[G-1];if(L(f,z,f,z+(B=I[G])))return!0}}:g=function(f,T,L){var w,S,I=a.getLine(f);for(s.lastIndex=T;S=s.exec(I);){var F=S[0].length;if(L(f,w=S.index,f,w+F))return!0;if(!F&&(s.lastIndex=w+=1,w>=I.length))return!1}};return{forEach:E}}}).call(p.prototype),O.Search=p}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(M,O,Q){var N=M("../lib/keys"),x=M("../lib/useragent"),_=N.KEY_MODS;function p(u,s){this.platform=s||(x.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(u),this.$singleCommand=!0}function a(u,s){p.call(this,u,s),this.$singleCommand=!1}a.prototype=p.prototype,function(){function u(s){return typeof s=="object"&&s.bindKey&&s.bindKey.position||(s.isDefault?-100:0)}this.addCommand=function(s){this.commands[s.name]&&this.removeCommand(s),this.commands[s.name]=s,s.bindKey&&this._buildKeyHash(s)},this.removeCommand=function(s,l){var r=s&&(typeof s=="string"?s:s.name);s=this.commands[r],l||delete this.commands[r];var m=this.commandKeyBinding;for(var v in m){var C=m[v];if(C==s)delete m[v];else if(Array.isArray(C)){var b=C.indexOf(s);b!=-1&&(C.splice(b,1),C.length==1&&(m[v]=C[0]))}}},this.bindKey=function(s,l,r){if(typeof s=="object"&&s&&(r==null&&(r=s.position),s=s[this.platform]),s)return typeof l=="function"?this.addCommand({exec:l,bindKey:s,name:l.name||s}):void s.split("|").forEach(function(m){var v="";if(m.indexOf(" ")!=-1){var C=m.split(/\s+/);m=C.pop(),C.forEach(function(R){var g=this.parseKeys(R),f=_[g.hashId]+g.key;v+=(v?" ":"")+f,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var b=this.parseKeys(m),E=_[b.hashId]+b.key;this._addCommandToBinding(v+E,l,r)},this)},this._addCommandToBinding=function(s,l,r){var m,v=this.commandKeyBinding;if(l)if(!v[s]||this.$singleCommand)v[s]=l;else{Array.isArray(v[s])?(m=v[s].indexOf(l))!=-1&&v[s].splice(m,1):v[s]=[v[s]],typeof r!="number"&&(r=u(l));var C=v[s];for(m=0;m<C.length&&!(u(C[m])>r);m++);C.splice(m,0,l)}else delete v[s]},this.addCommands=function(s){s&&Object.keys(s).forEach(function(l){var r=s[l];if(r){if(typeof r=="string")return this.bindKey(r,l);typeof r=="function"&&(r={exec:r}),typeof r=="object"&&(r.name||(r.name=l),this.addCommand(r))}},this)},this.removeCommands=function(s){Object.keys(s).forEach(function(l){this.removeCommand(s[l])},this)},this.bindKeys=function(s){Object.keys(s).forEach(function(l){this.bindKey(l,s[l])},this)},this._buildKeyHash=function(s){this.bindKey(s.bindKey,s)},this.parseKeys=function(s){var l=s.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(E){return E}),r=l.pop(),m=N[r];if(N.FUNCTION_KEYS[m])r=N.FUNCTION_KEYS[m].toLowerCase();else{if(!l.length)return{key:r,hashId:-1};if(l.length==1&&l[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}for(var v=0,C=l.length;C--;){var b=N.KEY_MODS[l[C]];if(b==null)return typeof console!="undefined"&&console.error("invalid modifier "+l[C]+" in "+s),!1;v|=b}return{key:r,hashId:v}},this.findKeyCommand=function(s,l){var r=_[s]+l;return this.commandKeyBinding[r]},this.handleKeyboard=function(s,l,r,m){if(!(m<0)){var v=_[l]+r,C=this.commandKeyBinding[v];return s.$keyChain&&(s.$keyChain+=" "+v,C=this.commandKeyBinding[s.$keyChain]||C),!C||C!="chainKeys"&&C[C.length-1]!="chainKeys"?(s.$keyChain&&(l&&l!=4||r.length!=1?(l==-1||m>0)&&(s.$keyChain=""):s.$keyChain=s.$keyChain.slice(0,-v.length-1)),{command:C}):(s.$keyChain=s.$keyChain||v,{command:"null"})}},this.getStatusText=function(s,l){return l.$keyChain||""}}.call(p.prototype),O.HashHandler=p,O.MultiHashHandler=a}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(M,O,Q){var N=M("../lib/oop"),x=M("../keyboard/hash_handler").MultiHashHandler,_=M("../lib/event_emitter").EventEmitter,p=function(a,u){x.call(this,u,a),this.byName=this.commands,this.setDefaultHandler("exec",function(s){return s.command.exec(s.editor,s.args||{})})};N.inherits(p,x),function(){N.implement(this,_),this.exec=function(a,u,s){if(Array.isArray(a)){for(var l=a.length;l--;)if(this.exec(a[l],u,s))return!0;return!1}if(typeof a=="string"&&(a=this.commands[a]),!a||u&&u.$readOnly&&!a.readOnly||this.$checkCommandState!=0&&a.isAvailable&&!a.isAvailable(u))return!1;var r={editor:u,command:a,args:s};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue!==!1},this.toggleRecording=function(a){if(!this.$inReplay)return a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(u){this.macro.push([u.command,u.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(a){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(u){typeof u=="string"?this.exec(u,a):this.exec(u[0],a,u[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(a){return a.map(function(u){return typeof u[0]!="string"&&(u[0]=u[0].name),u[1]||(u=u[0]),u})}}.call(p.prototype),O.CommandManager=p}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(M,O,Q){var N=M("../lib/lang"),x=M("../config"),_=M("../range").Range;function p(a,u){return{win:a,mac:u}}O.commands=[{name:"showSettingsMenu",bindKey:p("Ctrl-,","Command-,"),exec:function(a){x.loadModule("ace/ext/settings_menu",function(u){u.init(a),a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:p("Alt-E","F4"),exec:function(a){x.loadModule("./ext/error_marker",function(u){u.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:p("Alt-Shift-E","Shift-F4"),exec:function(a){x.loadModule("./ext/error_marker",function(u){u.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:p("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:p(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:p("Ctrl-L","Command-L"),exec:function(a,u){typeof u!="number"||isNaN(u)||a.gotoLine(u),a.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:p("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:p("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:p("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:p("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:p(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:p("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll(),a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:p("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:p("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:p("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:p("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:p("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:p("Ctrl-F","Command-F"),exec:function(a){x.loadModule("ace/ext/searchbox",function(u){u.Search(a)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:p("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:p("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:p("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:p("Up","Up|Ctrl-P"),exec:function(a,u){a.navigateUp(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:p("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:p("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:p("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:p("Down","Down|Ctrl-N"),exec:function(a,u){a.navigateDown(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:p("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:p("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:p("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:p("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:p("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:p("Left","Left|Ctrl-B"),exec:function(a,u){a.navigateLeft(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:p("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:p("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:p("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:p("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:p("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:p("Right","Right|Ctrl-F"),exec:function(a,u){a.navigateRight(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:p(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:p("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:p(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:p("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:p("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:p("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:p("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:p("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:p("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:p("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:p(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(a){},readOnly:!0},{name:"cut",description:"Cut",exec:function(a){var u=a.$copyWithEmptySelection&&a.selection.isEmpty()?a.selection.getLineRange():a.selection.getRange();a._emit("cut",u),u.isEmpty()||a.session.remove(u),a.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(a,u){a.$handlePaste(u)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:p("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:p("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:p("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:p("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:p("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:p("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:p("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:p("Ctrl-H","Command-Option-F"),exec:function(a){x.loadModule("ace/ext/searchbox",function(u){u.Search(a,!0)})}},{name:"undo",description:"Undo",bindKey:p("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",description:"Redo",bindKey:p("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:p("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:p("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:p("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:p("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:p("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:p("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:p("Shift-Delete",null),exec:function(a){if(!a.selection.isEmpty())return!1;a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:p("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:p("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:p("Ctrl-Shift-Backspace",null),exec:function(a){var u=a.selection.getRange();u.start.column=0,a.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:p("Ctrl-Shift-Delete",null),exec:function(a){var u=a.selection.getRange();u.end.column=Number.MAX_VALUE,a.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:p("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:p("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:p("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:p("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:p("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:p("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(a,u){a.insert(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(a,u){a.insert(N.stringRepeat(u.text||"",u.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:p(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:p("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:p("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:p("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",description:"Expand to line",bindKey:p("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var u=a.selection.getRange();u.start.column=u.end.column=0,u.end.row++,a.selection.setRange(u,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:p(null,null),exec:function(a){for(var u=a.selection.isBackwards(),s=u?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),l=u?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),r=a.session.doc.getLine(s.row).length,m=a.session.doc.getTextRange(a.selection.getRange()).replace(/\n\s*/," ").length,v=a.session.doc.getLine(s.row),C=s.row+1;C<=l.row+1;C++){var b=N.stringTrimLeft(N.stringTrimRight(a.session.doc.getLine(C)));b.length!==0&&(b=" "+b),v+=b}l.row+1<a.session.doc.getLength()-1&&(v+=a.session.doc.getNewLineCharacter()),a.clearSelection(),a.session.doc.replace(new _(s.row,0,l.row+2,0),v),m>0?(a.selection.moveCursorTo(s.row,s.column),a.selection.selectTo(s.row,s.column+m)):(r=a.session.doc.getLine(s.row).length>r?r+1:r,a.selection.moveCursorTo(s.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:p(null,null),exec:function(a){var u=a.session.doc.getLength()-1,s=a.session.doc.getLine(u).length,l=a.selection.rangeList.ranges,r=[];l.length<1&&(l=[a.selection.getRange()]);for(var m=0;m<l.length;m++)m==l.length-1&&(l[m].end.row===u&&l[m].end.column===s||r.push(new _(l[m].end.row,l[m].end.column,u,s))),m===0?l[m].start.row===0&&l[m].start.column===0||r.push(new _(0,0,l[m].start.row,l[m].start.column)):r.push(new _(l[m-1].end.row,l[m-1].end.column,l[m].start.row,l[m].start.column));for(a.exitMultiSelectMode(),a.clearSelection(),m=0;m<r.length;m++)a.selection.addRange(r[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"openCommandPallete",description:"Open command pallete",bindKey:p("F1","F1"),exec:function(a){a.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:p(null,null),exec:function(a){a.prompt({$type:"modes"})},readOnly:!0}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(M,O,Q){M("./lib/fixoldbrowsers");var N=M("./lib/oop"),x=M("./lib/dom"),_=M("./lib/lang"),p=M("./lib/useragent"),a=M("./keyboard/textinput").TextInput,u=M("./mouse/mouse_handler").MouseHandler,s=M("./mouse/fold_handler").FoldHandler,l=M("./keyboard/keybinding").KeyBinding,r=M("./edit_session").EditSession,m=M("./search").Search,v=M("./range").Range,C=M("./lib/event_emitter").EventEmitter,b=M("./commands/command_manager").CommandManager,E=M("./commands/default_commands").commands,R=M("./config"),g=M("./token_iterator").TokenIterator,f=M("./clipboard"),T=function(w,S,I){var F=w.getContainerElement();this.container=F,this.renderer=w,this.id="editor"+ ++T.$uid,this.commands=new b(p.isMac?"mac":"win",E),typeof document=="object"&&(this.textInput=new a(w.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new u(this),new s(this)),this.keyBinding=new l(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=_.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(B,G){G._$emitInputEvent.schedule(31)}),this.setSession(S||I&&I.session||new r("")),R.resetOptions(this),I&&this.setOptions(I),R._signal("editor",this)};T.$uid=0,function(){N.implement(this,C),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=_.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(w){if(this.curOp){if(!w||this.curOp.command)return;this.prevOp=this.curOp}w||(this.previousCommand=null,w={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:w.command||{},args:w.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(w){if(this.curOp){if(w&&w.returnValue===!1)return this.curOp=null;if(w==1&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var S=this.curOp.command,I=S&&S.scrollIntoView;if(I){switch(I){case"center-animate":I="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var F=this.selection.getRange(),B=this.renderer.layerConfig;(F.start.row>=B.lastRow||F.end.row<=B.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}I=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var G=this.selection.toJSON();this.curOp.selectionAfter=G,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(G),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(w){if(this.$mergeUndoDeltas){var S=this.prevOp,I=this.$mergeableCommands,F=S.command&&w.command.name==S.command.name;if(w.command.name=="insertstring"){var B=w.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),F=F&&this.mergeNextCommand&&(!/\s/.test(B)||/\s/.test(S.args)),this.mergeNextCommand=!0}else F=F&&I.indexOf(w.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(F=!1),F?this.session.mergeUndoDeltas=!0:I.indexOf(w.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(w,S){if(w&&typeof w=="string"&&w!="ace"){this.$keybindingId=w;var I=this;R.loadModule(["keybinding",w],function(F){I.$keybindingId==w&&I.keyBinding.setKeyboardHandler(F&&F.handler),S&&S()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(w),S&&S()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(w){if(this.session!=w){this.curOp&&this.endOperation(),this.curOp={};var S=this.session;if(S){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var I=this.session.getSelection();I.off("changeCursor",this.$onCursorChange),I.off("changeSelection",this.$onSelectionChange)}this.session=w,w?(this.$onDocumentChange=this.onDocumentChange.bind(this),w.on("change",this.$onDocumentChange),this.renderer.setSession(w),this.$onChangeMode=this.onChangeMode.bind(this),w.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),w.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),w.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),w.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),w.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),w.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=w.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(w)),this._signal("changeSession",{session:w,oldSession:S}),this.curOp=null,S&&S._signal("changeEditor",{oldEditor:this}),w&&w._signal("changeEditor",{editor:this}),w&&w.bgTokenizer&&w.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(w,S){return this.session.doc.setValue(w),S?S==1?this.navigateFileEnd():S==-1&&this.navigateFileStart():this.selectAll(),w},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(w){this.renderer.onResize(w)},this.setTheme=function(w,S){this.renderer.setTheme(w,S)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(w){this.renderer.setStyle(w)},this.unsetStyle=function(w){this.renderer.unsetStyle(w)},this.getFontSize=function(){return this.getOption("fontSize")||x.computedStyle(this.container).fontSize},this.setFontSize=function(w){this.setOption("fontSize",w)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var w=this;this.$highlightPending=!0,setTimeout(function(){w.$highlightPending=!1;var S=w.session;if(S&&S.bgTokenizer){var I=S.findMatchingBracket(w.getCursorPosition());if(I)var F=new v(I.row,I.column,I.row,I.column+1);else S.$mode.getMatching&&(F=S.$mode.getMatching(w.session));F&&(S.$bracketHighlight=S.addMarker(F,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var w=this;this.$highlightTagPending=!0,setTimeout(function(){w.$highlightTagPending=!1;var S=w.session;if(S&&S.bgTokenizer){var I=w.getCursorPosition(),F=new g(w.session,I.row,I.column),B=F.getCurrentToken();if(!B||!/\b(?:tag-open|tag-name)/.test(B.type))return S.removeMarker(S.$tagHighlight),void(S.$tagHighlight=null);if(B.type.indexOf("tag-open")==-1||(B=F.stepForward())){var G=B.value,z=0,ne=F.stepBackward();if(ne.value=="<")do ne=B,(B=F.stepForward())&&B.value===G&&B.type.indexOf("tag-name")!==-1&&(ne.value==="<"?z++:ne.value==="</"&&z--);while(B&&z>=0);else{do B=ne,ne=F.stepBackward(),B&&B.value===G&&B.type.indexOf("tag-name")!==-1&&(ne.value==="<"?z++:ne.value==="</"&&z--);while(ne&&z<=0);F.stepForward()}if(!B)return S.removeMarker(S.$tagHighlight),void(S.$tagHighlight=null);var J=F.getCurrentTokenRow(),K=F.getCurrentTokenColumn(),H=new v(J,K,J,K+B.value.length),$=S.$backMarkers[S.$tagHighlight];S.$tagHighlight&&$!=null&&H.compareRange($.range)!==0&&(S.removeMarker(S.$tagHighlight),S.$tagHighlight=null),S.$tagHighlight||(S.$tagHighlight=S.addMarker(H,"ace_bracket","text"))}}},50)}},this.focus=function(){var w=this;setTimeout(function(){w.isFocused()||w.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(w){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",w))},this.onBlur=function(w){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",w))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(w){var S=this.session.$useWrapMode,I=w.start.row==w.end.row?w.end.row:1/0;this.renderer.updateLines(w.start.row,I,S),this._signal("change",w),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(w){var S=w.data;this.renderer.updateLines(S.first,S.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var w,S=this.getSession();if(this.$highlightActiveLine&&(this.$selectionStyle=="line"&&this.selection.isMultiLine()||(w=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(w=!1),!this.renderer.$maxLines||this.session.getLength()!==1||this.renderer.$minLines>1||(w=!1)),S.$highlightLineMarker&&!w)S.removeMarker(S.$highlightLineMarker.id),S.$highlightLineMarker=null;else if(!S.$highlightLineMarker&&w){var I=new v(w.row,w.column,w.row,1/0);I.id=S.addMarker(I,"ace_active-line","screenLine"),S.$highlightLineMarker=I}else w&&(S.$highlightLineMarker.start.row=w.row,S.$highlightLineMarker.end.row=w.row,S.$highlightLineMarker.start.column=w.column,S._signal("changeBackMarker"))},this.onSelectionChange=function(w){var S=this.session;if(S.$selectionMarker&&S.removeMarker(S.$selectionMarker),S.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var I=this.selection.getRange(),F=this.getSelectionStyle();S.$selectionMarker=S.addMarker(I,"ace_selection",F)}var B=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(B),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var w=this.session,S=this.getSelectionRange();if(!S.isEmpty()&&!S.isMultiLine()){var I=S.start.column,F=S.end.column,B=w.getLine(S.start.row),G=B.substring(I,F);if(!(G.length>5e3)&&/[\w\d]/.test(G)){var z=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:G}),ne=B.substring(I-1,F+1);if(z.test(ne))return z}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(w){this.renderer.updateText(),this._emit("changeMode",w)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var w=this.getSelectedText(),S=this.session.doc.getNewLineCharacter(),I=!1;if(!w&&this.$copyWithEmptySelection){I=!0;for(var F=this.selection.getAllRanges(),B=0;B<F.length;B++){var G=F[B];B&&F[B-1].start.row==G.start.row||(w+=this.session.getLine(G.start.row)+S)}}var z={text:w};return this._signal("copy",z),f.lineMode=I?z.text:"",z.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(w,S){var I={text:w,event:S};this.commands.exec("paste",this,I)},this.$handlePaste=function(w){typeof w=="string"&&(w={text:w}),this._signal("paste",w);var S=w.text,I=S==f.lineMode,F=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)I?F.insert({row:this.selection.lead.row,column:0},S):this.insert(S);else if(I)this.selection.rangeList.ranges.forEach(function(K){F.insert({row:K.start.row,column:0},S)});else{var B=S.split(/\r\n|\r|\n/),G=this.selection.rangeList.ranges,z=!(B.length!=2||B[0]&&B[1]);if(B.length!=G.length||z)return this.commands.exec("insertstring",this,S);for(var ne=G.length;ne--;){var J=G[ne];J.isEmpty()||F.remove(J),F.insert(J.start,B[ne])}}},this.execCommand=function(w,S){return this.commands.exec(w,this,S)},this.insert=function(w,S){var I=this.session,F=I.getMode(),B=this.getCursorPosition();if(this.getBehavioursEnabled()&&!S){var G=F.transformAction(I.getState(B.row),"insertion",this,I,w);G&&(w!==G.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),w=G.text)}if(w=="	"&&(w=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&w.indexOf(`
`)==-1&&((z=new v.fromPoints(B,B)).end.column+=w.length,this.session.remove(z));else{var z=this.getSelectionRange();B=this.session.remove(z),this.clearSelection()}if(w==`
`||w==`\r
`){var ne=I.getLine(B.row);if(B.column>ne.search(/\S|$/)){var J=ne.substr(B.column).search(/\S|$/);I.doc.removeInLine(B.row,B.column,B.column+J)}}this.clearSelection();var K=B.column,H=I.getState(B.row),$=(ne=I.getLine(B.row),F.checkOutdent(H,ne,w));if(I.insert(B,w),G&&G.selection&&(G.selection.length==2?this.selection.setSelectionRange(new v(B.row,K+G.selection[0],B.row,K+G.selection[1])):this.selection.setSelectionRange(new v(B.row+G.selection[0],G.selection[1],B.row+G.selection[2],G.selection[3]))),I.getDocument().isNewLine(w)){var X=F.getNextLineIndent(H,ne.slice(0,B.column),I.getTabString());I.insert({row:B.row+1,column:0},X)}$&&F.autoOutdent(H,I,B.row)},this.onTextInput=function(w,S){if(!S)return this.keyBinding.onTextInput(w);this.startOperation({command:{name:"insertstring"}});var I=this.applyComposition.bind(this,w,S);this.selection.rangeCount?this.forEachSelection(I):I(),this.endOperation()},this.applyComposition=function(w,S){var I;(S.extendLeft||S.extendRight)&&((I=this.selection.getRange()).start.column-=S.extendLeft,I.end.column+=S.extendRight,this.selection.setRange(I),w||I.isEmpty()||this.remove()),!w&&this.selection.isEmpty()||this.insert(w,!0),(S.restoreStart||S.restoreEnd)&&((I=this.selection.getRange()).start.column-=S.restoreStart,I.end.column-=S.restoreEnd,this.selection.setRange(I))},this.onCommandKey=function(w,S,I){return this.keyBinding.onCommandKey(w,S,I)},this.setOverwrite=function(w){this.session.setOverwrite(w)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(w){this.setOption("scrollSpeed",w)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(w){this.setOption("dragDelay",w)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(w){this.setOption("selectionStyle",w)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(w){this.setOption("highlightActiveLine",w)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(w){this.setOption("highlightGutterLine",w)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(w){this.setOption("highlightSelectedWord",w)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(w){this.renderer.setAnimatedScroll(w)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(w){this.renderer.setShowInvisibles(w)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(w){this.renderer.setDisplayIndentGuides(w)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(w){this.renderer.setShowPrintMargin(w)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(w){this.renderer.setPrintMarginColumn(w)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(w){this.setOption("readOnly",w)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(w){this.setOption("behavioursEnabled",w)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(w){this.setOption("wrapBehavioursEnabled",w)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(w){this.setOption("showFoldWidgets",w)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(w){this.setOption("fadeFoldWidgets",w)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(w){this.selection.isEmpty()&&(w=="left"?this.selection.selectLeft():this.selection.selectRight());var S=this.getSelectionRange();if(this.getBehavioursEnabled()){var I=this.session,F=I.getState(S.start.row),B=I.getMode().transformAction(F,"deletion",this,I,S);if(S.end.column===0){var G=I.getTextRange(S);if(G[G.length-1]==`
`){var z=I.getLine(S.end.row);/^\s+$/.test(z)&&(S.end.column=z.length)}}B&&(S=B)}this.session.remove(S),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var w=this.getSelectionRange();w.start.column==w.end.column&&w.start.row==w.end.row&&(w.end.column=0,w.end.row++),this.session.remove(w),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var w=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(w)},this.transposeLetters=function(){if(this.selection.isEmpty()){var w=this.getCursorPosition(),S=w.column;if(S!==0){var I,F,B=this.session.getLine(w.row);S<B.length?(I=B.charAt(S)+B.charAt(S-1),F=new v(w.row,S-1,w.row,S+1)):(I=B.charAt(S-1)+B.charAt(S-2),F=new v(w.row,S-2,w.row,S)),this.session.replace(F,I),this.session.selection.moveToPosition(F.end)}}},this.toLowerCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var S=this.getSelectionRange(),I=this.session.getTextRange(S);this.session.replace(S,I.toLowerCase()),this.selection.setSelectionRange(w)},this.toUpperCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var S=this.getSelectionRange(),I=this.session.getTextRange(S);this.session.replace(S,I.toUpperCase()),this.selection.setSelectionRange(w)},this.indent=function(){var w=this.session,S=this.getSelectionRange();if(!(S.start.row<S.end.row)){if(S.start.column<S.end.column){var I=w.getTextRange(S);if(!/^\s+$/.test(I))return K=this.$getSelectedRows(),void w.indentRows(K.first,K.last,"	")}var F=w.getLine(S.start.row),B=S.start,G=w.getTabSize(),z=w.documentToScreenColumn(B.row,B.column);if(this.session.getUseSoftTabs())var ne=G-z%G,J=_.stringRepeat(" ",ne);else{for(ne=z%G;F[S.start.column-1]==" "&&ne;)S.start.column--,ne--;this.selection.setSelectionRange(S),J="	"}return this.insert(J)}var K=this.$getSelectedRows();w.indentRows(K.first,K.last,"	")},this.blockIndent=function(){var w=this.$getSelectedRows();this.session.indentRows(w.first,w.last,"	")},this.blockOutdent=function(){var w=this.session.getSelection();this.session.outdentRows(w.getRange())},this.sortLines=function(){for(var w=this.$getSelectedRows(),S=this.session,I=[],F=w.first;F<=w.last;F++)I.push(S.getLine(F));I.sort(function(z,ne){return z.toLowerCase()<ne.toLowerCase()?-1:z.toLowerCase()>ne.toLowerCase()?1:0});var B=new v(0,0,0,0);for(F=w.first;F<=w.last;F++){var G=S.getLine(F);B.start.row=F,B.end.row=F,B.end.column=G.length,S.replace(B,I[F-w.first])}},this.toggleCommentLines=function(){var w=this.session.getState(this.getCursorPosition().row),S=this.$getSelectedRows();this.session.getMode().toggleCommentLines(w,this.session,S.first,S.last)},this.toggleBlockComment=function(){var w=this.getCursorPosition(),S=this.session.getState(w.row),I=this.getSelectionRange();this.session.getMode().toggleBlockComment(S,this.session,I,w)},this.getNumberAt=function(w,S){var I=/[\-]?[0-9]+(?:\.[0-9]+)?/g;I.lastIndex=0;for(var F=this.session.getLine(w);I.lastIndex<S;){var B=I.exec(F);if(B.index<=S&&B.index+B[0].length>=S)return{value:B[0],start:B.index,end:B.index+B[0].length}}return null},this.modifyNumber=function(w){var S=this.selection.getCursor().row,I=this.selection.getCursor().column,F=new v(S,I-1,S,I),B=this.session.getTextRange(F);if(!isNaN(parseFloat(B))&&isFinite(B)){var G=this.getNumberAt(S,I);if(G){var z=G.value.indexOf(".")>=0?G.start+G.value.indexOf(".")+1:G.end,ne=G.start+G.value.length-z,J=parseFloat(G.value);J*=Math.pow(10,ne),z!==G.end&&I<z?w*=Math.pow(10,G.end-I-1):w*=Math.pow(10,G.end-I),J+=w;var K=(J/=Math.pow(10,ne)).toFixed(ne),H=new v(S,G.start,S,G.end);this.session.replace(H,K),this.moveCursorTo(S,Math.max(G.start+1,I+K.length-G.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var w=this.selection.getCursor().row,S=this.selection.getCursor().column;this.selection.selectWord();var I=this.getSelectedText(),F=this.selection.getWordRange().start.column,B=I.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),G=S-F-1;G<0&&(G=0);var z=0,ne=0,J=this;I.match(/[A-Za-z0-9_]+/)&&B.forEach(function(se,fe){ne=z+se.length,G>=z&&G<=ne&&(I=se,J.selection.clearSelection(),J.moveCursorTo(w,z+F),J.selection.selectTo(w,ne+F)),z=ne});for(var K,H=this.$toggleWordPairs,$=0;$<H.length;$++)for(var X=H[$],q=0;q<=1;q++){var oe=+!q,ce=I.match(new RegExp("^\\s?_?("+_.escapeRegExp(X[q])+")\\s?$","i"));ce&&I.match(new RegExp("([_]|^|\\s)("+_.escapeRegExp(ce[1])+")($|\\s)","g"))&&(K=I.replace(new RegExp(_.escapeRegExp(X[q]),"i"),function(se){var fe=X[oe];return se.toUpperCase()==se?fe=fe.toUpperCase():se.charAt(0).toUpperCase()==se.charAt(0)&&(fe=fe.substr(0,0)+X[oe].charAt(0).toUpperCase()+fe.substr(1)),fe}),this.insert(K),K="")}},this.removeLines=function(){var w=this.$getSelectedRows();this.session.removeFullLines(w.first,w.last),this.clearSelection()},this.duplicateSelection=function(){var w=this.selection,S=this.session,I=w.getRange(),F=w.isBackwards();if(I.isEmpty()){var B=I.start.row;S.duplicateLines(B,B)}else{var G=F?I.start:I.end,z=S.insert(G,S.getTextRange(I),!1);I.start=G,I.end=z,w.setSelectionRange(I,F)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(w,S,I){return this.session.moveText(w,S,I)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(w,S){var I,F,B=this.selection;if(!B.inMultiSelectMode||this.inVirtualSelectionMode){var G=B.toOrientedRange();I=this.$getSelectedRows(G),F=this.session.$moveLines(I.first,I.last,S?0:w),S&&w==-1&&(F=0),G.moveBy(F,0),B.fromOrientedRange(G)}else{var z=B.rangeList.ranges;B.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var ne=0,J=0,K=z.length,H=0;H<K;H++){var $=H;z[H].moveBy(ne,0);for(var X=(I=this.$getSelectedRows(z[H])).first,q=I.last;++H<K;){J&&z[H].moveBy(J,0);var oe=this.$getSelectedRows(z[H]);if(S&&oe.first!=q||!S&&oe.first>q+1)break;q=oe.last}for(H--,ne=this.session.$moveLines(X,q,S?0:w),S&&w==-1&&($=H+1);$<=H;)z[$].moveBy(ne,0),$++;S||(ne=0),J+=ne}B.fromOrientedRange(B.ranges[0]),B.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(w){return w=(w||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(w.start.row),last:this.session.getRowFoldEnd(w.end.row)}},this.onCompositionStart=function(w){this.renderer.showComposition(w)},this.onCompositionUpdate=function(w){this.renderer.setCompositionText(w)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(w){return w>=this.getFirstVisibleRow()&&w<=this.getLastVisibleRow()},this.isRowFullyVisible=function(w){return w>=this.renderer.getFirstFullyVisibleRow()&&w<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(w,S){var I=this.renderer,F=this.renderer.layerConfig,B=w*Math.floor(F.height/F.lineHeight);S===!0?this.selection.$moveSelection(function(){this.moveCursorBy(B,0)}):S===!1&&(this.selection.moveCursorBy(B,0),this.selection.clearSelection());var G=I.scrollTop;I.scrollBy(0,B*F.lineHeight),S!=null&&I.scrollCursorIntoView(null,.5),I.animateScrolling(G)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(w){this.renderer.scrollToRow(w)},this.scrollToLine=function(w,S,I,F){this.renderer.scrollToLine(w,S,I,F)},this.centerSelection=function(){var w=this.getSelectionRange(),S={row:Math.floor(w.start.row+(w.end.row-w.start.row)/2),column:Math.floor(w.start.column+(w.end.column-w.start.column)/2)};this.renderer.alignCursor(S,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(w,S){this.selection.moveCursorTo(w,S)},this.moveCursorToPosition=function(w){this.selection.moveCursorToPosition(w)},this.jumpToMatching=function(w,S){var I=this.getCursorPosition(),F=new g(this.session,I.row,I.column),B=F.getCurrentToken(),G=B||F.stepForward();if(G){var z,ne,J=!1,K={},H=I.column-G.start,$={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(G.value.match(/[{}()\[\]]/g)){for(;H<G.value.length&&!J;H++)if($[G.value[H]])switch(ne=$[G.value[H]]+"."+G.type.replace("rparen","lparen"),isNaN(K[ne])&&(K[ne]=0),G.value[H]){case"(":case"[":case"{":K[ne]++;break;case")":case"]":case"}":K[ne]--,K[ne]===-1&&(z="bracket",J=!0)}}else G.type.indexOf("tag-name")!==-1&&(isNaN(K[G.value])&&(K[G.value]=0),B.value==="<"?K[G.value]++:B.value==="</"&&K[G.value]--,K[G.value]===-1&&(z="tag",J=!0));J||(B=G,G=F.stepForward(),H=0)}while(G&&!J);if(z){var X,q;if(z==="bracket")(X=this.session.getBracketRange(I))||(q=(X=new v(F.getCurrentTokenRow(),F.getCurrentTokenColumn()+H-1,F.getCurrentTokenRow(),F.getCurrentTokenColumn()+H-1)).start,(S||q.row===I.row&&Math.abs(q.column-I.column)<2)&&(X=this.session.getBracketRange(q)));else if(z==="tag"){if(!G||G.type.indexOf("tag-name")===-1)return;var oe=G.value;if((X=new v(F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2,F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2)).compare(I.row,I.column)===0){J=!1;do G=B,(B=F.stepBackward())&&(B.type.indexOf("tag-close")!==-1&&X.setEnd(F.getCurrentTokenRow(),F.getCurrentTokenColumn()+1),G.value===oe&&G.type.indexOf("tag-name")!==-1&&(B.value==="<"?K[oe]++:B.value==="</"&&K[oe]--,K[oe]===0&&(J=!0)));while(B&&!J)}G&&G.type.indexOf("tag-name")&&(q=X.start).row==I.row&&Math.abs(q.column-I.column)<2&&(q=X.end)}(q=X&&X.cursor||q)&&(w?X&&S?this.selection.setRange(X):X&&X.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(q.row,q.column):this.selection.moveTo(q.row,q.column))}}},this.gotoLine=function(w,S,I){this.selection.clearSelection(),this.session.unfold({row:w-1,column:S||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(w-1,S||0),this.isRowFullyVisible(w-1)||this.scrollToLine(w-1,!0,I)},this.navigateTo=function(w,S){this.selection.moveTo(w,S)},this.navigateUp=function(w){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var S=this.selection.anchor.getPosition();return this.moveCursorToPosition(S)}this.selection.clearSelection(),this.selection.moveCursorBy(-w||-1,0)},this.navigateDown=function(w){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var S=this.selection.anchor.getPosition();return this.moveCursorToPosition(S)}this.selection.clearSelection(),this.selection.moveCursorBy(w||1,0)},this.navigateLeft=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorLeft();else{var S=this.getSelectionRange().start;this.moveCursorToPosition(S)}this.clearSelection()},this.navigateRight=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorRight();else{var S=this.getSelectionRange().end;this.moveCursorToPosition(S)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(w,S){S&&this.$search.set(S);var I=this.$search.find(this.session),F=0;return I&&(this.$tryReplace(I,w)&&(F=1),this.selection.setSelectionRange(I),this.renderer.scrollSelectionIntoView(I.start,I.end)),F},this.replaceAll=function(w,S){S&&this.$search.set(S);var I=this.$search.findAll(this.session),F=0;if(!I.length)return F;var B=this.getSelectionRange();this.selection.moveTo(0,0);for(var G=I.length-1;G>=0;--G)this.$tryReplace(I[G],w)&&F++;return this.selection.setSelectionRange(B),F},this.$tryReplace=function(w,S){var I=this.session.getTextRange(w);return(S=this.$search.replace(I,S))!==null?(w.end=this.session.replace(w,S),w):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(w,S,I){S||(S={}),typeof w=="string"||w instanceof RegExp?S.needle=w:typeof w=="object"&&N.mixin(S,w);var F=this.selection.getRange();S.needle==null&&((w=this.session.getTextRange(F)||this.$search.$options.needle)||(F=this.session.getWordRange(F.start.row,F.start.column),w=this.session.getTextRange(F)),this.$search.set({needle:w})),this.$search.set(S),S.start||this.$search.set({start:F});var B=this.$search.find(this.session);return S.preventScroll?B:B?(this.revealRange(B,I),B):(S.backwards?F.start=F.end:F.end=F.start,void this.selection.setRange(F))},this.findNext=function(w,S){this.find({skipCurrent:!0,backwards:!1},w,S)},this.findPrevious=function(w,S){this.find(w,{skipCurrent:!0,backwards:!0},S)},this.revealRange=function(w,S){this.session.unfold(w),this.selection.setSelectionRange(w);var I=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(w.start,w.end,.5),S!==!1&&this.renderer.animateScrolling(I)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(w){if(w){var S,I=this,F=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var B=this.$scrollAnchor;B.style.cssText="position:absolute",this.container.insertBefore(B,this.container.firstChild);var G=this.on("changeSelection",function(){F=!0}),z=this.renderer.on("beforeRender",function(){F&&(S=I.renderer.container.getBoundingClientRect())}),ne=this.renderer.on("afterRender",function(){if(F&&S&&(I.isFocused()||I.searchBox&&I.searchBox.isFocused())){var J=I.renderer,K=J.$cursorLayer.$pixelPos,H=J.layerConfig,$=K.top-H.offset;(F=K.top>=0&&$+S.top<0||!(K.top<H.height&&K.top+S.top+H.lineHeight>window.innerHeight)&&null)!=null&&(B.style.top=$+"px",B.style.left=K.left+"px",B.style.height=H.lineHeight+"px",B.scrollIntoView(F)),F=S=null}});this.setAutoScrollEditorIntoView=function(J){J||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",G),this.renderer.off("afterRender",ne),this.renderer.off("beforeRender",z))}}},this.$resetCursorStyle=function(){var w=this.$cursorStyle||"ace",S=this.renderer.$cursorLayer;S&&(S.setSmoothBlinking(/smooth/.test(w)),S.isBlinking=!this.$readOnly&&w!="wide",x.setCssClass(S.element,"ace_slim-cursors",/slim/.test(w)))},this.prompt=function(w,S,I){var F=this;R.loadModule("./ext/prompt",function(B){B.prompt(F,w,S,I)})}}.call(T.prototype),R.defineOptions(T.prototype,"editor",{selectionStyle:{set:function(w){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:w})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(w){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(w){this.textInput.setReadOnly(w),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(w){this.textInput.setCopyWithEmptySelection(w)},initialValue:!1},cursorStyle:{set:function(w){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(w){this.setAutoScrollEditorIntoView(w)}},keyboardHandler:{set:function(w){this.setKeyboardHandler(w)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(w){this.session.setValue(w)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(w){this.setSession(w)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(w){this.renderer.$gutterLayer.setShowLineNumbers(w),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),w&&this.$relativeLineNumbers?L.attach(this):L.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(w){this.$showLineNumbers&&w?L.attach(this):L.detach(this)}},placeholder:{set:function(w){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var S=this.renderer.$composition||this.getValue();if(S&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),x.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!S&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),x.addCssClass(this.container,"ace_hasPlaceholder");var I=x.createElement("div");I.className="ace_placeholder",I.textContent=this.$placeholder||"",this.renderer.placeholderNode=I,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var L={getText:function(w,S){return(Math.abs(w.selection.lead.row-S)||S+1+(S<9?"\xB7":""))+""},getWidth:function(w,S,I){return Math.max(S.toString().length,(I.lastRow+1).toString().length,2)*I.characterWidth},update:function(w,S){S.renderer.$loop.schedule(S.renderer.CHANGE_GUTTER)},attach:function(w){w.renderer.$gutterLayer.$renderer=this,w.on("changeSelection",this.update),this.update(null,w)},detach:function(w){w.renderer.$gutterLayer.$renderer==this&&(w.renderer.$gutterLayer.$renderer=null),w.off("changeSelection",this.update),this.update(null,w)}};O.Editor=T}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(M,O,Q){var N=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(E){this.$session=E},this.add=function(E,R,g){this.$fromUndo||E!=this.$lastDelta&&(R!==!1&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),E.id=this.$rev=++this.$maxRev),E.action!="remove"&&E.action!="insert"||(this.$lastDelta=E),this.lastDeltas.push(E))},this.addSelection=function(E,R){this.selections.push({value:E,rev:R||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(E,R){R==null&&(R=this.$rev+1);for(var g=this.$undoStack,f=g.length;f--;){var T=g[f][0];if(T.id<=E)break;T.id<R&&(T.ignore=!0)}this.lastDeltas=null},this.getSelection=function(E,R){for(var g=this.selections,f=g.length;f--;){var T=g[f];if(T.rev<E)return R&&(T=g[f+1]),T}},this.getRevision=function(){return this.$rev},this.getDeltas=function(E,R){R==null&&(R=this.$rev+1);for(var g=this.$undoStack,f=null,T=0,L=g.length;L--;){var w=g[L][0];if(w.id<R&&!f&&(f=L+1),w.id<=E){T=L+1;break}}return g.slice(T,f)},this.getChangedRanges=function(E,R){R==null&&(R=this.$rev+1)},this.getChangedLines=function(E,R){R==null&&(R=this.$rev+1)},this.undo=function(E,R){this.lastDeltas=null;var g=this.$undoStack;if(function(L,w){for(var S=w;S--;){var I=L[S];if(I&&!I[0].ignore){for(;S<w-1;){var F=l(L[S],L[S+1]);L[S]=F[0],L[S+1]=F[1],S++}return!0}}}(g,g.length)){E||(E=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var f=g.pop(),T=null;return f&&f.length&&(T=E.undoChanges(f,R),this.$redoStack.push(f),this.$syncRev()),this.$fromUndo=!1,T}},this.redo=function(E,R){if(this.lastDeltas=null,E||(E=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var g=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(L,w){for(var S=0;S<w.length;S++)for(var I=w[S],F=0;F<I.length;F++)b(L,I[F])})(this.$redoStack,g),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(L){L[0].id=++this.$maxRev},this)}var f=this.$redoStack.pop(),T=null;return f&&(T=E.redoChanges(f,R),this.$undoStack.push(f),this.$syncRev()),this.$fromUndo=!1,T},this.$syncRev=function(){var E=this.$undoStack,R=E[E.length-1],g=R&&R[0].id||0;this.$redoStackBaseRev=g,this.$rev=g},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(E){E==null&&(E=this.$rev),this.mark=E},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(E){return E?a(E):a(this.$undoStack)+`
---
`+a(this.$redoStack)}}).call(N.prototype);var x=M("./range").Range,_=x.comparePoints;x.comparePoints;function p(E){return{row:E.row,column:E.column}}function a(E){if(E=E||this,Array.isArray(E))return E.map(a).join(`
`);var R="";return E.action?(R=E.action=="insert"?"+":"-",R+="["+E.lines+"]"):E.value&&(R=Array.isArray(E.value)?E.value.map(u).join(`
`):u(E.value)),E.start&&(R+=u(E)),(E.id||E.rev)&&(R+="	("+(E.id||E.rev)+")"),R}function u(E){return E.start.row+":"+E.start.column+"=>"+E.end.row+":"+E.end.column}function s(E,R){var g=E.action=="insert",f=R.action=="insert";if(g&&f)if(_(R.start,E.end)>=0)m(R,E,-1);else{if(!(_(R.start,E.start)<=0))return null;m(E,R,1)}else if(g&&!f)if(_(R.start,E.end)>=0)m(R,E,-1);else{if(!(_(R.end,E.start)<=0))return null;m(E,R,-1)}else if(!g&&f)if(_(R.start,E.start)>=0)m(R,E,1);else{if(!(_(R.start,E.start)<=0))return null;m(E,R,1)}else if(!g&&!f)if(_(R.start,E.start)>=0)m(R,E,1);else{if(!(_(R.end,E.start)<=0))return null;m(E,R,-1)}return[R,E]}function l(E,R){for(var g=E.length;g--;)for(var f=0;f<R.length;f++)if(!s(E[g],R[f])){for(;g<E.length;){for(;f--;)s(R[f],E[g]);f=R.length,g++}return[E,R]}return E.selectionBefore=R.selectionBefore=E.selectionAfter=R.selectionAfter=null,[R,E]}function r(E,R){var g=E.action=="insert",f=R.action=="insert";if(g&&f)_(E.start,R.start)<0?m(R,E,1):m(E,R,1);else if(g&&!f)_(E.start,R.end)>=0?m(E,R,-1):(_(E.start,R.start)<=0||m(E,x.fromPoints(R.start,E.start),-1),m(R,E,1));else if(!g&&f)_(R.start,E.end)>=0?m(R,E,-1):(_(R.start,E.start)<=0||m(R,x.fromPoints(E.start,R.start),-1),m(E,R,1));else if(!g&&!f)if(_(R.start,E.end)>=0)m(R,E,-1);else{var T,L;if(!(_(R.end,E.start)<=0))return _(E.start,R.start)<0&&(T=E,E=C(E,R.start)),_(E.end,R.end)>0&&(L=C(E,R.end)),v(R.end,E.start,E.end,-1),L&&!T&&(E.lines=L.lines,E.start=L.start,E.end=L.end,L=E),[R,T,L].filter(Boolean);m(E,R,-1)}return[R,E]}function m(E,R,g){v(E.start,R.start,R.end,g),v(E.end,R.start,R.end,g)}function v(E,R,g,f){E.row==(f==1?R:g).row&&(E.column+=f*(g.column-R.column)),E.row+=f*(g.row-R.row)}function C(E,R){var g=E.lines,f=E.end;E.end=p(R);var T=E.end.row-E.start.row,L=g.splice(T,g.length),w=T?R.column:R.column-E.start.column;return g.push(L[0].substring(0,w)),L[0]=L[0].substr(w),{start:p(R),end:f,lines:L,action:E.action}}function b(E,R){R=function(w){return{start:p(w.start),end:p(w.end),action:w.action,lines:w.lines.slice()}}(R);for(var g=E.length;g--;){for(var f=E[g],T=0;T<f.length;T++){var L=r(f[T],R);R=L[0],L.length!=2&&(L[2]?(f.splice(T+1,1,L[1],L[2]),T++):L[1]||(f.splice(T,1),T--))}f.length||E.splice(g,1)}return E}O.UndoManager=N}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(M,O,Q){var N=M("../lib/dom"),x=function(_,p){this.element=_,this.canvasHeight=p||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(_){N.translate(this.element,0,-_.firstRowScreen*_.lineHeight%this.canvasHeight-_.offset*this.$offsetCoefficient)},this.pageChanged=function(_,p){return Math.floor(_.firstRowScreen*_.lineHeight/this.canvasHeight)!==Math.floor(p.firstRowScreen*p.lineHeight/this.canvasHeight)},this.computeLineTop=function(_,p,a){var u=p.firstRowScreen*p.lineHeight,s=Math.floor(u/this.canvasHeight);return a.documentToScreenRow(_,0)*p.lineHeight-s*this.canvasHeight},this.computeLineHeight=function(_,p,a){return p.lineHeight*a.getRowLength(_)},this.getLength=function(){return this.cells.length},this.get=function(_){return this.cells[_]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(_){if(Array.isArray(_)){this.cells.push.apply(this.cells,_);for(var p=N.createFragment(this.element),a=0;a<_.length;a++)p.appendChild(_[a].element);this.element.appendChild(p)}else this.cells.push(_),this.element.appendChild(_.element)},this.unshift=function(_){if(Array.isArray(_)){this.cells.unshift.apply(this.cells,_);for(var p=N.createFragment(this.element),a=0;a<_.length;a++)p.appendChild(_[a].element);this.element.firstChild?this.element.insertBefore(p,this.element.firstChild):this.element.appendChild(p)}else this.cells.unshift(_),this.element.insertAdjacentElement("afterbegin",_.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(_){_&&(_.element.remove(),this.cellCache.push(_))},this.createCell=function(_,p,a,u){var s=this.cellCache.pop();if(!s){var l=N.createElement("div");u&&u(l),this.element.appendChild(l),s={element:l,text:"",row:_}}return s.row=_,s}}).call(x.prototype),O.Lines=x}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(M,O,Q){var N=M("../lib/dom"),x=M("../lib/oop"),_=M("../lib/lang"),p=M("../lib/event_emitter").EventEmitter,a=M("./lines").Lines,u=function(l){this.element=N.createElement("div"),this.element.className="ace_layer ace_gutter-layer",l.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function s(l){var r=document.createTextNode("");l.appendChild(r);var m=N.createElement("span");return l.appendChild(m),l}(function(){x.implement(this,p),this.setSession=function(l){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=l,l&&l.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(l,r){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(l,r)},this.removeGutterDecoration=function(l,r){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(l,r)},this.setAnnotations=function(l){this.$annotations=[];for(var r=0;r<l.length;r++){var m=l[r],v=m.row,C=this.$annotations[v];C||(C=this.$annotations[v]={text:[]});var b=m.text;b=b?_.escapeHTML(b):m.html||"",C.text.indexOf(b)===-1&&C.text.push(b);var E=m.type;E=="error"?C.className=" ace_error":E=="warning"&&C.className!=" ace_error"?C.className=" ace_warning":E!="info"||C.className||(C.className=" ace_info")}},this.$updateAnnotations=function(l){if(this.$annotations.length){var r=l.start.row,m=l.end.row-r;if(m!==0)if(l.action=="remove")this.$annotations.splice(r,m+1,null);else{var v=new Array(m+1);v.unshift(r,1),this.$annotations.splice.apply(this.$annotations,v)}}},this.update=function(l){this.config=l;var r=this.session,m=l.firstRow,v=Math.min(l.lastRow+l.gutterOffset,r.getLength()-1);this.oldLastRow=v,this.config=l,this.$lines.moveContainer(l),this.$updateCursorRow();for(var C=r.getNextFoldLine(m),b=C?C.start.row:1/0,E=null,R=-1,g=m;;){if(g>b&&(g=C.end.row+1,b=(C=r.getNextFoldLine(g,C))?C.start.row:1/0),g>v){for(;this.$lines.getLength()>R+1;)this.$lines.pop();break}(E=this.$lines.get(++R))?E.row=g:(E=this.$lines.createCell(g,l,this.session,s),this.$lines.push(E)),this.$renderCell(E,l,C,g),g++}this._signal("afterRender"),this.$updateGutterWidth(l)},this.$updateGutterWidth=function(l){var r=this.session,m=r.gutterRenderer||this.$renderer,v=r.$firstLineNumber,C=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||r.$useWrapMode)&&(C=r.getLength()+v-1);var b=m?m.getWidth(r,C,l):C.toString().length*l.characterWidth,E=this.$padding||this.$computePadding();(b+=E.left+E.right)===this.gutterWidth||isNaN(b)||(this.gutterWidth=b,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",b))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var l=this.session.selection.getCursor();this.$cursorRow!==l.row&&(this.$cursorRow=l.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var l=this.session.selection.cursor.row;if(this.$cursorRow=l,!this.$cursorCell||this.$cursorCell.row!=l){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var r=this.$lines.cells;this.$cursorCell=null;for(var m=0;m<r.length;m++){var v=r[m];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var C=this.session.getFoldLine(this.$cursorRow);if(!(m>0&&C&&C.start.row==r[m-1].row))break;v=r[m-1]}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},this.scrollLines=function(l){var r=this.config;if(this.config=l,this.$updateCursorRow(),this.$lines.pageChanged(r,l))return this.update(l);this.$lines.moveContainer(l);var m=Math.min(l.lastRow+l.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=m,!r||v<l.firstRow)return this.update(l);if(m<r.firstRow)return this.update(l);if(r.firstRow<l.firstRow)for(var C=this.session.getFoldedRowCount(r.firstRow,l.firstRow-1);C>0;C--)this.$lines.shift();if(v>m)for(C=this.session.getFoldedRowCount(m+1,v);C>0;C--)this.$lines.pop();l.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLines(l,l.firstRow,r.firstRow-1)),m>v&&this.$lines.push(this.$renderLines(l,v+1,m)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(l)},this.$renderLines=function(l,r,m){for(var v=[],C=r,b=this.session.getNextFoldLine(C),E=b?b.start.row:1/0;C>E&&(C=b.end.row+1,E=(b=this.session.getNextFoldLine(C,b))?b.start.row:1/0),!(C>m);){var R=this.$lines.createCell(C,l,this.session,s);this.$renderCell(R,l,b,C),v.push(R),C++}return v},this.$renderCell=function(l,r,m,v){var C=l.element,b=this.session,E=C.childNodes[0],R=C.childNodes[1],g=b.$firstLineNumber,f=b.$breakpoints,T=b.$decorations,L=b.gutterRenderer||this.$renderer,w=this.$showFoldWidgets&&b.foldWidgets,S=m?m.start.row:Number.MAX_VALUE,I="ace_gutter-cell ";if(this.$highlightGutterLine&&(v==this.$cursorRow||m&&v<this.$cursorRow&&v>=S&&this.$cursorRow<=m.end.row)&&(I+="ace_gutter-active-line ",this.$cursorCell!=l&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=l)),f[v]&&(I+=f[v]),T[v]&&(I+=T[v]),this.$annotations[v]&&(I+=this.$annotations[v].className),C.className!=I&&(C.className=I),w){var F=w[v];F==null&&(F=w[v]=b.getFoldWidget(v))}if(F){I="ace_fold-widget ace_"+F,F=="start"&&v==S&&v<m.end.row?I+=" ace_closed":I+=" ace_open",R.className!=I&&(R.className=I);var B=r.lineHeight+"px";N.setStyle(R.style,"height",B),N.setStyle(R.style,"display","inline-block")}else R&&N.setStyle(R.style,"display","none");var G=(L?L.getText(b,v):v+g).toString();return G!==E.data&&(E.data=G),N.setStyle(l.element.style,"height",this.$lines.computeLineHeight(v,r,b)+"px"),N.setStyle(l.element.style,"top",this.$lines.computeLineTop(v,r,b)+"px"),l.text=G,l},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(l){this.$highlightGutterLine=l},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(l){this.$renderer=!l&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(l){l?N.addCssClass(this.element,"ace_folding-enabled"):N.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=l,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var l=N.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(l.borderLeftWidth)||0)+(parseInt(l.paddingLeft)||0)+1,this.$padding.right=(parseInt(l.borderRightWidth)||0)+(parseInt(l.paddingRight)||0),this.$padding},this.getRegion=function(l){var r=this.$padding||this.$computePadding(),m=this.element.getBoundingClientRect();return l.x<r.left+m.left?"markers":this.$showFoldWidgets&&l.x>m.right-r.right?"foldWidgets":void 0}}).call(u.prototype),O.Gutter=u}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(M,O,Q){var N=M("../range").Range,x=M("../lib/dom"),_=function(p){this.element=x.createElement("div"),this.element.className="ace_layer ace_marker-layer",p.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(p){this.$padding=p},this.setSession=function(p){this.session=p},this.setMarkers=function(p){this.markers=p},this.elt=function(p,a){var u=this.i!=-1&&this.element.childNodes[this.i];u?this.i++:(u=document.createElement("div"),this.element.appendChild(u),this.i=-1),u.style.cssText=a,u.className=p},this.update=function(p){if(p){var a;for(var u in this.config=p,this.i=0,this.markers){var s=this.markers[u];if(s.range){var l=s.range.clipRows(p.firstRow,p.lastRow);if(!l.isEmpty())if(l=l.toScreenRange(this.session),s.renderer){var r=this.$getTop(l.start.row,p),m=this.$padding+l.start.column*p.characterWidth;s.renderer(a,l,m,r,p)}else s.type=="fullLine"?this.drawFullLineMarker(a,l,s.clazz,p):s.type=="screenLine"?this.drawScreenLineMarker(a,l,s.clazz,p):l.isMultiLine()?s.type=="text"?this.drawTextMarker(a,l,s.clazz,p):this.drawMultiLineMarker(a,l,s.clazz,p):this.drawSingleLineMarker(a,l,s.clazz+" ace_start ace_br15",p)}else s.update(a,this,this.session,p)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(p,a){return(p-a.firstRowScreen)*a.lineHeight},this.drawTextMarker=function(p,a,u,s,l){for(var r=this.session,m=a.start.row,v=a.end.row,C=m,b=0,E=0,R=r.getScreenLastRowColumn(C),g=new N(C,a.start.column,C,E);C<=v;C++)g.start.row=g.end.row=C,g.start.column=C==m?a.start.column:r.getRowWrapIndent(C),g.end.column=R,b=E,E=R,R=C+1<v?r.getScreenLastRowColumn(C+1):C==v?0:a.end.column,this.drawSingleLineMarker(p,g,u+(C==m?" ace_start":"")+" ace_br"+((C==m||C==m+1&&a.start.column?1:0)|(b<E?2:0)|(E>R?4:0)|(C==v?8:0)),s,C==v?0:1,l)},this.drawMultiLineMarker=function(p,a,u,s,l){var r=this.$padding,m=s.lineHeight,v=this.$getTop(a.start.row,s),C=r+a.start.column*s.characterWidth;if(l=l||"",this.session.$bidiHandler.isBidiRow(a.start.row)?((b=a.clone()).end.row=b.start.row,b.end.column=this.session.getLine(b.start.row).length,this.drawBidiSingleLineMarker(p,b,u+" ace_br1 ace_start",s,null,l)):this.elt(u+" ace_br1 ace_start","height:"+m+"px;right:0;top:"+v+"px;left:"+C+"px;"+(l||"")),this.session.$bidiHandler.isBidiRow(a.end.row)){var b;(b=a.clone()).start.row=b.end.row,b.start.column=0,this.drawBidiSingleLineMarker(p,b,u+" ace_br12",s,null,l)}else{v=this.$getTop(a.end.row,s);var E=a.end.column*s.characterWidth;this.elt(u+" ace_br12","height:"+m+"px;width:"+E+"px;top:"+v+"px;left:"+r+"px;"+(l||""))}if(!((m=(a.end.row-a.start.row-1)*s.lineHeight)<=0)){v=this.$getTop(a.start.row+1,s);var R=(a.start.column?1:0)|(a.end.column?0:8);this.elt(u+(R?" ace_br"+R:""),"height:"+m+"px;right:0;top:"+v+"px;left:"+r+"px;"+(l||""))}},this.drawSingleLineMarker=function(p,a,u,s,l,r){if(this.session.$bidiHandler.isBidiRow(a.start.row))return this.drawBidiSingleLineMarker(p,a,u,s,l,r);var m=s.lineHeight,v=(a.end.column+(l||0)-a.start.column)*s.characterWidth,C=this.$getTop(a.start.row,s),b=this.$padding+a.start.column*s.characterWidth;this.elt(u,"height:"+m+"px;width:"+v+"px;top:"+C+"px;left:"+b+"px;"+(r||""))},this.drawBidiSingleLineMarker=function(p,a,u,s,l,r){var m=s.lineHeight,v=this.$getTop(a.start.row,s),C=this.$padding;this.session.$bidiHandler.getSelections(a.start.column,a.end.column).forEach(function(b){this.elt(u,"height:"+m+"px;width:"+b.width+(l||0)+"px;top:"+v+"px;left:"+(C+b.left)+"px;"+(r||""))},this)},this.drawFullLineMarker=function(p,a,u,s,l){var r=this.$getTop(a.start.row,s),m=s.lineHeight;a.start.row!=a.end.row&&(m+=this.$getTop(a.end.row,s)-r),this.elt(u,"height:"+m+"px;top:"+r+"px;left:0;right:0;"+(l||""))},this.drawScreenLineMarker=function(p,a,u,s,l){var r=this.$getTop(a.start.row,s),m=s.lineHeight;this.elt(u,"height:"+m+"px;top:"+r+"px;left:0;right:0;"+(l||""))}}).call(_.prototype),O.Marker=_}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(M,O,Q){var N=M("../lib/oop"),x=M("../lib/dom"),_=M("../lib/lang"),p=M("./lines").Lines,a=M("../lib/event_emitter").EventEmitter,u=function(s){this.dom=x,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",s.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new p(this.element)};(function(){N.implement(this,a),this.EOF_CHAR="\xB6",this.EOL_CHAR_LF="\xAC",this.EOL_CHAR_CRLF="\xA4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xB7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var s=this.session.doc,l=s.getNewLineCharacter()==`
`&&s.getNewLineMode()!="windows"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=l)return this.EOL_CHAR=l,!0},this.setPadding=function(s){this.$padding=s,this.element.style.margin="0 "+s+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(s){this.$fontMetrics=s,this.$fontMetrics.on("changeCharacterSize",function(l){this._signal("changeCharacterSize",l)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(s){this.session=s,s&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(s){return this.showInvisibles!=s&&(this.showInvisibles=s,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(s){return this.displayIndentGuides!=s&&(this.displayIndentGuides=s,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var s=this.session.getTabSize();this.tabSize=s;for(var l=this.$tabStrings=[0],r=1;r<s+1;r++)this.showInvisibles?((m=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",m.textContent=_.stringRepeat(this.TAB_CHAR,r),l.push(m)):l.push(this.dom.createTextNode(_.stringRepeat(" ",r),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var m,v="ace_indent-guide",C="",b="";if(this.showInvisibles){v+=" ace_invisible",C=" ace_invisible_space",b=" ace_invisible_tab";var E=_.stringRepeat(this.SPACE_CHAR,this.tabSize),R=_.stringRepeat(this.TAB_CHAR,this.tabSize)}else R=E=_.stringRepeat(" ",this.tabSize);(m=this.dom.createElement("span")).className=v+C,m.textContent=E,this.$tabStrings[" "]=m,(m=this.dom.createElement("span")).className=v+b,m.textContent=R,this.$tabStrings["	"]=m}},this.updateLines=function(s,l,r){if(this.config.lastRow!=s.lastRow||this.config.firstRow!=s.firstRow)return this.update(s);this.config=s;for(var m=Math.max(l,s.firstRow),v=Math.min(r,s.lastRow),C=this.element.childNodes,b=0,E=s.firstRow;E<m;E++){if(R=this.session.getFoldLine(E)){if(R.containsRow(m)){m=R.start.row;break}E=R.end.row}b++}for(var R,g=!1,f=(E=m,(R=this.session.getNextFoldLine(E))?R.start.row:1/0);E>f&&(E=R.end.row+1,f=(R=this.session.getNextFoldLine(E,R))?R.start.row:1/0),!(E>v);){var T=C[b++];if(T){this.dom.removeChildren(T),this.$renderLine(T,E,E==f&&R),g&&(T.style.top=this.$lines.computeLineTop(E,s,this.session)+"px");var L=s.lineHeight*this.session.getRowLength(E)+"px";T.style.height!=L&&(g=!0,T.style.height=L)}E++}if(g)for(;b<this.$lines.cells.length;){var w=this.$lines.cells[b++];w.element.style.top=this.$lines.computeLineTop(w.row,s,this.session)+"px"}},this.scrollLines=function(s){var l=this.config;if(this.config=s,this.$lines.pageChanged(l,s))return this.update(s);this.$lines.moveContainer(s);var r=s.lastRow,m=l?l.lastRow:-1;if(!l||m<s.firstRow)return this.update(s);if(r<l.firstRow)return this.update(s);if(!l||l.lastRow<s.firstRow)return this.update(s);if(s.lastRow<l.firstRow)return this.update(s);if(l.firstRow<s.firstRow)for(var v=this.session.getFoldedRowCount(l.firstRow,s.firstRow-1);v>0;v--)this.$lines.shift();if(l.lastRow>s.lastRow)for(v=this.session.getFoldedRowCount(s.lastRow+1,l.lastRow);v>0;v--)this.$lines.pop();s.firstRow<l.firstRow&&this.$lines.unshift(this.$renderLinesFragment(s,s.firstRow,l.firstRow-1)),s.lastRow>l.lastRow&&this.$lines.push(this.$renderLinesFragment(s,l.lastRow+1,s.lastRow))},this.$renderLinesFragment=function(s,l,r){for(var m=[],v=l,C=this.session.getNextFoldLine(v),b=C?C.start.row:1/0;v>b&&(v=C.end.row+1,b=(C=this.session.getNextFoldLine(v,C))?C.start.row:1/0),!(v>r);){var E=this.$lines.createCell(v,s,this.session),R=E.element;this.dom.removeChildren(R),x.setStyle(R.style,"height",this.$lines.computeLineHeight(v,s,this.session)+"px"),x.setStyle(R.style,"top",this.$lines.computeLineTop(v,s,this.session)+"px"),this.$renderLine(R,v,v==b&&C),this.$useLineGroups()?R.className="ace_line_group":R.className="ace_line",m.push(E),v++}return m},this.update=function(s){this.$lines.moveContainer(s),this.config=s;for(var l=s.firstRow,r=s.lastRow,m=this.$lines;m.getLength();)m.pop();m.push(this.$renderLinesFragment(s,l,r))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(s,l,r,m){for(var v,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,b=this.dom.createFragment(this.element),E=0;v=C.exec(m);){var R=v[1],g=v[2],f=v[3],T=v[4],L=v[5];if(this.showInvisibles||!g){var w=E!=v.index?m.slice(E,v.index):"";if(E=v.index+v[0].length,w&&b.appendChild(this.dom.createTextNode(w,this.element)),R){var S=this.session.getScreenTabSize(l+v.index);b.appendChild(this.$tabStrings[S].cloneNode(!0)),l+=S-1}else g?this.showInvisibles?((F=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",F.textContent=_.stringRepeat(this.SPACE_CHAR,g.length),b.appendChild(F)):b.appendChild(this.com.createTextNode(g,this.element)):f?((F=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",F.textContent=_.stringRepeat(this.SPACE_CHAR,f.length),b.appendChild(F)):T?(l+=1,(F=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",F.className=this.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",F.textContent=this.showInvisibles?this.SPACE_CHAR:T,b.appendChild(F)):L&&(l+=1,(F=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",F.className="ace_cjk",F.textContent=L,b.appendChild(F))}}if(b.appendChild(this.dom.createTextNode(E?m.slice(E):m,this.element)),this.$textToken[r.type])s.appendChild(b);else{var I="ace_"+r.type.replace(/\./g," ace_"),F=this.dom.createElement("span");r.type=="fold"&&(F.style.width=r.value.length*this.config.characterWidth+"px"),F.className=I,F.appendChild(b),s.appendChild(F)}return l+m.length},this.renderIndentGuide=function(s,l,r){var m=l.search(this.$indentGuideRe);if(m<=0||m>=r)return l;if(l[0]==" "){for(var v=(m-=m%this.tabSize)/this.tabSize,C=0;C<v;C++)s.appendChild(this.$tabStrings[" "].cloneNode(!0));return l.substr(m)}if(l[0]=="	"){for(C=0;C<m;C++)s.appendChild(this.$tabStrings["	"].cloneNode(!0));return l.substr(m)}return l},this.$createLineElement=function(s){var l=this.dom.createElement("div");return l.className="ace_line",l.style.height=this.config.lineHeight+"px",l},this.$renderWrappedLine=function(s,l,r){var m=0,v=0,C=r[0],b=0,E=this.$createLineElement();s.appendChild(E);for(var R=0;R<l.length;R++){var g=l[R],f=g.value;if(R==0&&this.displayIndentGuides){if(m=f.length,!(f=this.renderIndentGuide(E,f,C)))continue;m-=f.length}if(m+f.length<C)b=this.$renderToken(E,b,g,f),m+=f.length;else{for(;m+f.length>=C;)b=this.$renderToken(E,b,g,f.substring(0,C-m)),f=f.substring(C-m),m=C,E=this.$createLineElement(),s.appendChild(E),E.appendChild(this.dom.createTextNode(_.stringRepeat("\xA0",r.indent),this.element)),b=0,C=r[++v]||Number.MAX_VALUE;f.length!=0&&(m+=f.length,b=this.$renderToken(E,b,g,f))}}r[r.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(E,b,null,"",!0)},this.$renderSimpleLine=function(s,l){var r=0,m=l[0],v=m.value;this.displayIndentGuides&&(v=this.renderIndentGuide(s,v)),v&&(r=this.$renderToken(s,r,m,v));for(var C=1;C<l.length;C++){if(r+(v=(m=l[C]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(s,r,m,v);r=this.$renderToken(s,r,m,v)}},this.$renderOverflowMessage=function(s,l,r,m,v){r&&this.$renderToken(s,l,r,m.slice(0,this.MAX_LINE_LENGTH-l));var C=this.dom.createElement("span");C.className="ace_inline_button ace_keyword ace_toggle_wrap",C.textContent=v?"<hide>":"<click to see more...>",s.appendChild(C)},this.$renderLine=function(s,l,r){if(r||r==0||(r=this.session.getFoldLine(l)),r)var m=this.$getFoldLineTokens(l,r);else m=this.session.getTokens(l);var v=s;if(m.length){var C=this.session.getRowSplitData(l);C&&C.length?(this.$renderWrappedLine(s,m,C),v=s.lastChild):(v=s,this.$useLineGroups()&&(v=this.$createLineElement(),s.appendChild(v)),this.$renderSimpleLine(v,m))}else this.$useLineGroups()&&(v=this.$createLineElement(),s.appendChild(v));if(this.showInvisibles&&v){r&&(l=r.end.row);var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_eol",b.textContent=l==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,v.appendChild(b)}},this.$getFoldLineTokens=function(s,l){var r=this.session,m=[],v=r.getTokens(s);return l.walk(function(C,b,E,R,g){C!=null?m.push({type:"fold",value:C}):(g&&(v=r.getTokens(b)),v.length&&function(f,T,L){for(var w=0,S=0;S+f[w].value.length<T;)if(S+=f[w].value.length,++w==f.length)return;for(S!=T&&((I=f[w].value.substring(T-S)).length>L-T&&(I=I.substring(0,L-T)),m.push({type:f[w].type,value:I}),S=T+I.length,w+=1);S<L&&w<f.length;){var I;(I=f[w].value).length+S>L?m.push({type:f[w].type,value:I.substring(0,L-S)}):m.push(f[w]),S+=I.length,w+=1}}(v,R,E))},l.end.row,this.session.getLine(l.end.row).length),m},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(u.prototype),O.Text=u}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(M,O,Q){var N=M("../lib/dom"),x=function(_){this.element=N.createElement("div"),this.element.className="ace_layer ace_cursor-layer",_.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),N.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(_){for(var p=this.cursors,a=p.length;a--;)N.setStyle(p[a].style,"opacity",_?"":"0")},this.$startCssAnimation=function(){for(var _=this.cursors,p=_.length;p--;)_[p].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){N.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){N.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(_){this.$padding=_},this.setSession=function(_){this.session=_},this.setBlinking=function(_){_!=this.isBlinking&&(this.isBlinking=_,this.restartTimer())},this.setBlinkInterval=function(_){_!=this.blinkInterval&&(this.blinkInterval=_,this.restartTimer())},this.setSmoothBlinking=function(_){_!=this.smoothBlinking&&(this.smoothBlinking=_,N.setCssClass(this.element,"ace_smooth-blinking",_),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var _=N.createElement("div");return _.className="ace_cursor",this.element.appendChild(_),this.cursors.push(_),_},this.removeCursor=function(){if(this.cursors.length>1){var _=this.cursors.pop();return _.parentNode.removeChild(_),_}},this.hideCursor=function(){this.isVisible=!1,N.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,N.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var _=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&N.removeCssClass(this.element,"ace_smooth-blinking"),_(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){N.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),N.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var p=function(){this.timeoutId=setTimeout(function(){_(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){_(!0),p()},this.blinkInterval),p()}else this.$stopCssAnimation()},this.getPixelPosition=function(_,p){if(!this.config||!this.session)return{left:0,top:0};_||(_=this.session.selection.getCursor());var a=this.session.documentToScreenPosition(_);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(a.row,_.row)?this.session.$bidiHandler.getPosLeft(a.column):a.column*this.config.characterWidth),top:(a.row-(p?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(_,p){return _.top>=0&&_.top<p.maxHeight},this.update=function(_){this.config=_;var p=this.session.$selectionMarkers,a=0,u=0;p!==void 0&&p.length!==0||(p=[{cursor:null}]),a=0;for(var s=p.length;a<s;a++){var l=this.getPixelPosition(p[a].cursor,!0);if(!((l.top>_.height+_.offset||l.top<0)&&a>1)){var r=this.cursors[u++]||this.addCursor(),m=r.style;this.drawCursor?this.drawCursor(r,l,_,p[a],this.session):this.isCursorInView(l,_)?(N.setStyle(m,"display","block"),N.translate(r,l.left,l.top),N.setStyle(m,"width",Math.round(_.characterWidth)+"px"),N.setStyle(m,"height",_.lineHeight+"px")):N.setStyle(m,"display","none")}}for(;this.cursors.length>u;)this.removeCursor();var v=this.session.getOverwrite();this.$setOverwrite(v),this.$pixelPos=l,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(_){_!=this.overwrite&&(this.overwrite=_,_?N.addCssClass(this.element,"ace_overwrite-cursors"):N.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(x.prototype),O.Cursor=x}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(M,O,Q){var N=M("./lib/oop"),x=M("./lib/dom"),_=M("./lib/event"),p=M("./lib/event_emitter").EventEmitter,a=function(l){this.element=x.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=x.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),l.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,_.addListener(this.element,"scroll",this.onScroll.bind(this)),_.addListener(this.element,"mousedown",_.preventDefault)};(function(){N.implement(this,p),this.setVisible=function(l){this.element.style.display=l?"":"none",this.isVisible=l,this.coeff=1}}).call(a.prototype);var u=function(l,r){a.call(this,l),this.scrollTop=0,this.scrollHeight=0,r.$scrollbarWidth=this.width=x.scrollbarWidth(l.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};N.inherits(u,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var l=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-l)/(this.coeff-l)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(l){this.element.style.height=l+"px"},this.setInnerHeight=this.setScrollHeight=function(l){this.scrollHeight=l,l>32768?(this.coeff=32768/l,l=32768):this.coeff!=1&&(this.coeff=1),this.inner.style.height=l+"px"},this.setScrollTop=function(l){this.scrollTop!=l&&(this.skipEvent=!0,this.scrollTop=l,this.element.scrollTop=l*this.coeff)}}.call(u.prototype);var s=function(l,r){a.call(this,l),this.scrollLeft=0,this.height=r.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};N.inherits(s,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(l){this.element.style.width=l+"px"},this.setInnerWidth=function(l){this.inner.style.width=l+"px"},this.setScrollWidth=function(l){this.inner.style.width=l+"px"},this.setScrollLeft=function(l){this.scrollLeft!=l&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=l)}}.call(s.prototype),O.ScrollBar=u,O.ScrollBarV=u,O.ScrollBarH=s,O.VScrollBar=u,O.HScrollBar=s}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(M,O,Q){var N=M("./lib/event"),x=function(_,p){this.onRender=_,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=p||window;var a=this;this._flush=function(u){a.pending=!1;var s=a.changes;if(s&&(N.blockIdle(100),a.changes=0,a.onRender(s)),a.changes){if(a.$recursionLimit--<0)return;a.schedule()}else a.$recursionLimit=2}};(function(){this.schedule=function(_){this.changes=this.changes|_,this.changes&&!this.pending&&(N.nextFrame(this._flush),this.pending=!0)},this.clear=function(_){var p=this.changes;return this.changes=0,p}}).call(x.prototype),O.RenderLoop=x}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(M,O,Q){var N=M("../lib/oop"),x=M("../lib/dom"),_=M("../lib/lang"),p=M("../lib/event"),a=M("../lib/useragent"),u=M("../lib/event_emitter").EventEmitter,s=typeof ResizeObserver=="function",l=200,r=O.FontMetrics=function(m){this.el=x.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=x.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=x.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),m.appendChild(this.el),this.$measureNode.innerHTML=_.stringRepeat("X",256),this.$characterSize={width:0,height:0},s?this.$addObserver():this.checkForSizeChanges()};(function(){N.implement(this,u),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(m,v){m.width=m.height="auto",m.left=m.top="0px",m.visibility="hidden",m.position="absolute",m.whiteSpace="pre",a.isIE<8?m["font-family"]="inherit":m.font="inherit",m.overflow=v?"hidden":"visible"},this.checkForSizeChanges=function(m){if(m===void 0&&(m=this.$measureSizes()),m&&(this.$characterSize.width!==m.width||this.$characterSize.height!==m.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=m,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===m.width&&v.height===m.height,this._emit("changeCharacterSize",{data:m})}},this.$addObserver=function(){var m=this;this.$observer=new window.ResizeObserver(function(v){var C=v[0].contentRect;m.checkForSizeChanges({height:C.height,width:C.width/256})}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var m=this;return this.$pollSizeChangesTimer=p.onIdle(function v(){m.checkForSizeChanges(),p.onIdle(v,500)},500)},this.setPolling=function(m){m?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(m){var v={height:(m||this.$measureNode).clientHeight,width:(m||this.$measureNode).clientWidth/256};return v.width===0||v.height===0?null:v},this.$measureCharWidth=function(m){return this.$main.innerHTML=_.stringRepeat(m,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(m){var v=this.charSizes[m];return v===void 0&&(v=this.charSizes[m]=this.$measureCharWidth(m)/this.$characterSize.width),v},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function m(v){return v?(window.getComputedStyle(v).zoom||1)*m(v.parentElement):1},this.$initTransformMeasureNodes=function(){var m=function(v,C){return["div",{style:"position: absolute;top:"+v+"px;left:"+C+"px;"}]};this.els=x.buildDom([m(0,0),m(l,0),m(0,l),m(l,l)],this.el)},this.transformCoordinates=function(m,v){m&&(m=R(1/this.$getZoom(this.el),m));function C(K,H,$){var X=K[1]*H[0]-K[0]*H[1];return[(-H[1]*$[0]+H[0]*$[1])/X,(+K[1]*$[0]-K[0]*$[1])/X]}function b(K,H){return[K[0]-H[0],K[1]-H[1]]}function E(K,H){return[K[0]+H[0],K[1]+H[1]]}function R(K,H){return[K*H[0],K*H[1]]}function g(K){var H=K.getBoundingClientRect();return[H.left,H.top]}this.els||this.$initTransformMeasureNodes();var f=g(this.els[0]),T=g(this.els[1]),L=g(this.els[2]),w=g(this.els[3]),S=C(b(w,T),b(w,L),b(E(T,L),E(w,f))),I=R(1+S[0],b(T,f)),F=R(1+S[1],b(L,f));if(v){var B=v,G=S[0]*B[0]/l+S[1]*B[1]/l+1,z=E(R(B[0],I),R(B[1],F));return E(R(1/G/l,z),f)}var ne=b(m,f),J=C(b(I,R(S[0],ne)),b(F,R(S[1],ne)),ne);return R(l,J)}}).call(r.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(M,O,Q){var N=M("./lib/oop"),x=M("./lib/dom"),_=M("./config"),p=M("./layer/gutter").Gutter,a=M("./layer/marker").Marker,u=M("./layer/text").Text,s=M("./layer/cursor").Cursor,l=M("./scrollbar").HScrollBar,r=M("./scrollbar").VScrollBar,m=M("./renderloop").RenderLoop,v=M("./layer/font_metrics").FontMetrics,C=M("./lib/event_emitter").EventEmitter,b=`.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);opacity: 0.7;transform-origin: left;text-indent: 10px;}`,E=M("./lib/useragent"),R=E.isIE;x.importCssString(b,"ace_editor.css");var g=function(f,T){var L=this;this.container=f||x.createElement("div"),x.addCssClass(this.container,"ace_editor"),x.HI_DPI&&x.addCssClass(this.container,"ace_hidpi"),this.setTheme(T),this.$gutter=x.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=x.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=x.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new p(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var w=this.$textLayer=new u(this.content);this.canvas=w.element,this.$markerFront=new a(this.content),this.$cursorLayer=new s(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new r(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.addEventListener("scroll",function(S){L.$scrollAnimation||L.session.setScrollTop(S.data-L.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){L.$scrollAnimation||L.session.setScrollLeft(S.data-L.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new v(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(S){L.updateCharacterSize(),L.onResize(!0,L.gutterWidth,L.$size.width,L.$size.height),L._signal("changeCharacterSize",S)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!E.isIOS,this.$loop=new m(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),_.resetOptions(this),_._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,N.implement(this,C),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),x.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(f){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=f,f&&this.scrollMargin.top&&f.getScrollTop()<=0&&f.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(f),this.$markerBack.setSession(f),this.$markerFront.setSession(f),this.$gutterLayer.setSession(f),this.$textLayer.setSession(f),f&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(f,T,L){if(T===void 0&&(T=1/0),this.$changedLines?(this.$changedLines.firstRow>f&&(this.$changedLines.firstRow=f),this.$changedLines.lastRow<T&&(this.$changedLines.lastRow=T)):this.$changedLines={firstRow:f,lastRow:T},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!L)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(f){f?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(f,T,L,w){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=f?1:0;var S=this.container;w||(w=S.clientHeight||S.scrollHeight),L||(L=S.clientWidth||S.scrollWidth);var I=this.$updateCachedSize(f,T,L,w);if(!this.$size.scrollerHeight||!L&&!w)return this.resizing=0;f&&(this.$gutterLayer.$padding=null),f?this.$renderChanges(I|this.$changes,!0):this.$loop.schedule(I|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(f,T,L,w){w-=this.$extraHeight||0;var S=0,I=this.$size,F={width:I.width,height:I.height,scrollerHeight:I.scrollerHeight,scrollerWidth:I.scrollerWidth};if(w&&(f||I.height!=w)&&(I.height=w,S|=this.CHANGE_SIZE,I.scrollerHeight=I.height,this.$horizScroll&&(I.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",S|=this.CHANGE_SCROLL),L&&(f||I.width!=L)){S|=this.CHANGE_SIZE,I.width=L,T==null&&(T=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=T,x.setStyle(this.scrollBarH.element.style,"left",T+"px"),x.setStyle(this.scroller.style,"left",T+this.margin.left+"px"),I.scrollerWidth=Math.max(0,L-T-this.scrollBarV.getWidth()-this.margin.h),x.setStyle(this.$gutter.style,"left",this.margin.left+"px");var B=this.scrollBarV.getWidth()+"px";x.setStyle(this.scrollBarH.element.style,"right",B),x.setStyle(this.scroller.style,"right",B),x.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||f)&&(S|=this.CHANGE_FULL)}return I.$dirty=!L||!w,S&&this._signal("resize",F),S},this.onGutterResize=function(f){var T=this.$showGutter?f:0;T!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,T,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var f=this.$size.scrollerWidth-2*this.$padding,T=Math.floor(f/this.characterWidth);return this.session.adjustWrapLimit(T,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(f){this.setOption("animatedScroll",f)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(f){this.setOption("showInvisibles",f),this.session.$bidiHandler.setShowInvisibles(f)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(f){this.setOption("displayIndentGuides",f)},this.setShowPrintMargin=function(f){this.setOption("showPrintMargin",f)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(f){this.setOption("printMarginColumn",f)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(f){return this.setOption("showGutter",f)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(f){this.setOption("fadeFoldWidgets",f)},this.setHighlightGutterLine=function(f){this.setOption("highlightGutterLine",f)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var f=x.createElement("div");f.className="ace_layer ace_print-margin-layer",this.$printMarginEl=x.createElement("div"),this.$printMarginEl.className="ace_print-margin",f.appendChild(this.$printMarginEl),this.content.insertBefore(f,this.content.firstChild)}var T=this.$printMarginEl.style;T.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",T.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var f=this.textarea.style,T=this.$composition;if(this.$keepTextAreaAtCursor||T){var L=this.$cursorLayer.$pixelPos;if(L){T&&T.markerRange&&(L=this.$cursorLayer.getPixelPosition(T.markerRange.start,!0));var w=this.layerConfig,S=L.top,I=L.left;S-=w.offset;var F=T&&T.useTextareaForIME?this.lineHeight:R?0:1;if(S<0||S>w.height-F)x.translate(this.textarea,0,0);else{var B=1,G=this.$size.height-F;if(T)if(T.useTextareaForIME){var z=this.textarea.value;B=this.characterWidth*this.session.$getStringScreenWidth(z)[0]}else S+=this.lineHeight+2;else S+=this.lineHeight;(I-=this.scrollLeft)>this.$size.scrollerWidth-B&&(I=this.$size.scrollerWidth-B),I+=this.gutterWidth+this.margin.left,x.setStyle(f,"height",F+"px"),x.setStyle(f,"width",B+"px"),x.translate(this.textarea,Math.min(I,this.$size.scrollerWidth-B),Math.min(S,G))}}}else x.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var f=this.layerConfig,T=f.lastRow;return this.session.documentToScreenRow(T,0)*f.lineHeight-this.session.getScrollTop()>f.height-f.lineHeight?T-1:T},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(f){this.$padding=f,this.$textLayer.setPadding(f),this.$cursorLayer.setPadding(f),this.$markerFront.setPadding(f),this.$markerBack.setPadding(f),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(f,T,L,w){var S=this.scrollMargin;S.top=0|f,S.bottom=0|T,S.right=0|w,S.left=0|L,S.v=S.top+S.bottom,S.h=S.left+S.right,S.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-S.top),this.updateFull()},this.setMargin=function(f,T,L,w){var S=this.margin;S.top=0|f,S.bottom=0|T,S.right=0|w,S.left=0|L,S.v=S.top+S.bottom,S.h=S.left+S.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(f){this.setOption("hScrollBarAlwaysVisible",f)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(f){this.setOption("vScrollBarAlwaysVisible",f)},this.$updateScrollBarV=function(){var f=this.layerConfig.maxHeight,T=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(f-=(T-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>f-T&&(f=this.scrollTop+T,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(f+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(f,T){if(this.$changes&&(f|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(f||T)){if(this.$size.$dirty)return this.$changes|=f,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var L=this.layerConfig;if(f&this.CHANGE_FULL||f&this.CHANGE_SIZE||f&this.CHANGE_TEXT||f&this.CHANGE_LINES||f&this.CHANGE_SCROLL||f&this.CHANGE_H_SCROLL){if(f|=this.$computeLayerConfig()|this.$loop.clear(),L.firstRow!=this.layerConfig.firstRow&&L.firstRowScreen==this.layerConfig.firstRowScreen){var w=this.scrollTop+(L.firstRow-this.layerConfig.firstRow)*this.lineHeight;w>0&&(this.scrollTop=w,f|=this.CHANGE_SCROLL,f|=this.$computeLayerConfig()|this.$loop.clear())}L=this.layerConfig,this.$updateScrollBarV(),f&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),x.translate(this.content,-this.scrollLeft,-L.offset);var S=L.width+2*this.$padding+"px",I=L.minHeight+"px";x.setStyle(this.content.style,"width",S),x.setStyle(this.content.style,"height",I)}if(f&this.CHANGE_H_SCROLL&&(x.translate(this.content,-this.scrollLeft,-L.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),f&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(L),this.$showGutter&&this.$gutterLayer.update(L),this.$markerBack.update(L),this.$markerFront.update(L),this.$cursorLayer.update(L),this.$moveTextAreaToCursor(),void this._signal("afterRender");if(f&this.CHANGE_SCROLL)return this.$changedLines=null,f&this.CHANGE_TEXT||f&this.CHANGE_LINES?this.$textLayer.update(L):this.$textLayer.scrollLines(L),this.$showGutter&&(f&this.CHANGE_GUTTER||f&this.CHANGE_LINES?this.$gutterLayer.update(L):this.$gutterLayer.scrollLines(L)),this.$markerBack.update(L),this.$markerFront.update(L),this.$cursorLayer.update(L),this.$moveTextAreaToCursor(),void this._signal("afterRender");f&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(L),this.$showGutter&&this.$gutterLayer.update(L)):f&this.CHANGE_LINES?(this.$updateLines()||f&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(L):f&this.CHANGE_TEXT||f&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(L):f&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(L),f&this.CHANGE_CURSOR&&(this.$cursorLayer.update(L),this.$moveTextAreaToCursor()),f&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(L),f&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(L),this._signal("afterRender")}else this.$changes|=f},this.$autosize=function(){var f=this.session.getScreenLength()*this.lineHeight,T=this.$maxLines*this.lineHeight,L=Math.min(T,Math.max((this.$minLines||1)*this.lineHeight,f))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(L+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&L>this.$maxPixelHeight&&(L=this.$maxPixelHeight);var w=!(L<=2*this.lineHeight)&&f>T;if(L!=this.desiredHeight||this.$size.height!=this.desiredHeight||w!=this.$vScroll){w!=this.$vScroll&&(this.$vScroll=w,this.scrollBarV.setVisible(w));var S=this.container.clientWidth;this.container.style.height=L+"px",this.$updateCachedSize(!0,this.$gutterWidth,S,L),this.desiredHeight=L,this._signal("autosize")}},this.$computeLayerConfig=function(){var f=this.session,T=this.$size,L=T.height<=2*this.lineHeight,w=this.session.getScreenLength()*this.lineHeight,S=this.$getLongestLine(),I=!L&&(this.$hScrollBarAlwaysVisible||T.scrollerWidth-S-2*this.$padding<0),F=this.$horizScroll!==I;F&&(this.$horizScroll=I,this.scrollBarH.setVisible(I));var B=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var G=T.scrollerHeight+this.lineHeight,z=!this.$maxLines&&this.$scrollPastEnd?(T.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;w+=z;var ne=this.scrollMargin;this.session.setScrollTop(Math.max(-ne.top,Math.min(this.scrollTop,w-T.scrollerHeight+ne.bottom))),this.session.setScrollLeft(Math.max(-ne.left,Math.min(this.scrollLeft,S+2*this.$padding-T.scrollerWidth+ne.right)));var J=!L&&(this.$vScrollBarAlwaysVisible||T.scrollerHeight-w+z<0||this.scrollTop>ne.top),K=B!==J;K&&(this.$vScroll=J,this.scrollBarV.setVisible(J));var H,$,X=this.scrollTop%this.lineHeight,q=Math.ceil(G/this.lineHeight)-1,oe=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),ce=oe+q,se=this.lineHeight;oe=f.screenToDocumentRow(oe,0);var fe=f.getFoldLine(oe);fe&&(oe=fe.start.row),H=f.documentToScreenRow(oe,0),$=f.getRowLength(oe)*se,ce=Math.min(f.screenToDocumentRow(ce,0),f.getLength()-1),G=T.scrollerHeight+f.getRowLength(ce)*se+$,X=this.scrollTop-H*se;var _e=0;return(this.layerConfig.width!=S||F)&&(_e=this.CHANGE_H_SCROLL),(F||K)&&(_e|=this.$updateCachedSize(!0,this.gutterWidth,T.width,T.height),this._signal("scrollbarVisibilityChanged"),K&&(S=this.$getLongestLine())),this.layerConfig={width:S,padding:this.$padding,firstRow:oe,firstRowScreen:H,lastRow:ce,lineHeight:se,characterWidth:this.characterWidth,minHeight:G,maxHeight:w,offset:X,gutterOffset:se?Math.max(0,Math.ceil((X+T.height-T.scrollerHeight)/se)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(S-this.$padding),_e},this.$updateLines=function(){if(this.$changedLines){var f=this.$changedLines.firstRow,T=this.$changedLines.lastRow;this.$changedLines=null;var L=this.layerConfig;if(!(f>L.lastRow+1||T<L.firstRow))return T===1/0?(this.$showGutter&&this.$gutterLayer.update(L),void this.$textLayer.update(L)):(this.$textLayer.updateLines(L,f,T),!0)}},this.$getLongestLine=function(){var f=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(f+=1),this.$textLayer&&f>this.$textLayer.MAX_LINE_LENGTH&&(f=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(f*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(f,T){this.$gutterLayer.addGutterDecoration(f,T)},this.removeGutterDecoration=function(f,T){this.$gutterLayer.removeGutterDecoration(f,T)},this.updateBreakpoints=function(f){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(f){this.$gutterLayer.setAnnotations(f),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(f,T,L){this.scrollCursorIntoView(f,L),this.scrollCursorIntoView(T,L)},this.scrollCursorIntoView=function(f,T,L){if(this.$size.scrollerHeight!==0){var w=this.$cursorLayer.getPixelPosition(f),S=w.left,I=w.top,F=L&&L.top||0,B=L&&L.bottom||0,G=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;G+F>I?(T&&G+F>I+this.lineHeight&&(I-=T*this.$size.scrollerHeight),I===0&&(I=-this.scrollMargin.top),this.session.setScrollTop(I)):G+this.$size.scrollerHeight-B<I+this.lineHeight&&(T&&G+this.$size.scrollerHeight-B<I-this.lineHeight&&(I+=T*this.$size.scrollerHeight),this.session.setScrollTop(I+this.lineHeight+B-this.$size.scrollerHeight));var z=this.scrollLeft;z>S?(S<this.$padding+2*this.layerConfig.characterWidth&&(S=-this.scrollMargin.left),this.session.setScrollLeft(S)):z+this.$size.scrollerWidth<S+this.characterWidth?this.session.setScrollLeft(Math.round(S+this.characterWidth-this.$size.scrollerWidth)):z<=this.$padding&&S-z<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(f){this.session.setScrollTop(f*this.lineHeight)},this.alignCursor=function(f,T){typeof f=="number"&&(f={row:f,column:0});var L=this.$cursorLayer.getPixelPosition(f),w=this.$size.scrollerHeight-this.lineHeight,S=L.top-w*(T||0);return this.session.setScrollTop(S),S},this.STEPS=8,this.$calcSteps=function(f,T){var L,w,S=0,I=this.STEPS,F=[];for(S=0;S<I;++S)F.push((L=S/this.STEPS,w=f,(T-f)*(Math.pow(L-1,3)+1)+w));return F},this.scrollToLine=function(f,T,L,w){var S=this.$cursorLayer.getPixelPosition({row:f,column:0}).top;T&&(S-=this.$size.scrollerHeight/2);var I=this.scrollTop;this.session.setScrollTop(S),L!==!1&&this.animateScrolling(I,w)},this.animateScrolling=function(f,T){var L=this.scrollTop;if(this.$animatedScroll){var w=this;if(f!=L){if(this.$scrollAnimation){var S=this.$scrollAnimation.steps;if(S.length&&(f=S[0])==L)return}var I=w.$calcSteps(f,L);this.$scrollAnimation={from:f,to:L,steps:I},clearInterval(this.$timer),w.session.setScrollTop(I.shift()),w.session.$scrollTop=L,this.$timer=setInterval(function(){I.length?(w.session.setScrollTop(I.shift()),w.session.$scrollTop=L):L!=null?(w.session.$scrollTop=-1,w.session.setScrollTop(L),L=null):(w.$timer=clearInterval(w.$timer),w.$scrollAnimation=null,T&&T())},10)}}},this.scrollToY=function(f){this.scrollTop!==f&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=f)},this.scrollToX=function(f){this.scrollLeft!==f&&(this.scrollLeft=f),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(f,T){this.session.setScrollTop(T),this.session.setScrollLeft(T)},this.scrollBy=function(f,T){T&&this.session.setScrollTop(this.session.getScrollTop()+T),f&&this.session.setScrollLeft(this.session.getScrollLeft()+f)},this.isScrollableBy=function(f,T){return T<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||T>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||f<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||f>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(f,T){var L;if(this.$hasCssTransforms){L={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([f,T]);f=w[1]-this.gutterWidth-this.margin.left,T=w[0]}else L=this.scroller.getBoundingClientRect();var S=f+this.scrollLeft-L.left-this.$padding,I=S/this.characterWidth,F=Math.floor((T+this.scrollTop-L.top)/this.lineHeight),B=this.$blockCursor?Math.floor(I):Math.round(I);return{row:F,column:B,side:I-B>0?1:-1,offsetX:S}},this.screenToTextCoordinates=function(f,T){var L;if(this.$hasCssTransforms){L={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([f,T]);f=w[1]-this.gutterWidth-this.margin.left,T=w[0]}else L=this.scroller.getBoundingClientRect();var S=f+this.scrollLeft-L.left-this.$padding,I=S/this.characterWidth,F=this.$blockCursor?Math.floor(I):Math.round(I),B=Math.floor((T+this.scrollTop-L.top)/this.lineHeight);return this.session.screenToDocumentPosition(B,Math.max(F,0),S)},this.textToScreenCoordinates=function(f,T){var L=this.scroller.getBoundingClientRect(),w=this.session.documentToScreenPosition(f,T),S=this.$padding+(this.session.$bidiHandler.isBidiRow(w.row,f)?this.session.$bidiHandler.getPosLeft(w.column):Math.round(w.column*this.characterWidth)),I=w.row*this.lineHeight;return{pageX:L.left+S-this.scrollLeft,pageY:L.top+I-this.scrollTop}},this.visualizeFocus=function(){x.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){x.removeCssClass(this.container,"ace_focus")},this.showComposition=function(f){this.$composition=f,f.cssText||(f.cssText=this.textarea.style.cssText),f.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(x.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):f.markerId=this.session.addMarker(f.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(f){var T=this.session.selection.cursor;this.addToken(f,"composition_placeholder",T.row,T.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),x.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(f,T,L,w){var S=this.session;S.bgTokenizer.lines[L]=null;var I={type:T,value:f},F=S.getTokens(L);if(w==null)F.push(I);else for(var B=0,G=0;G<F.length;G++){var z=F[G];if(w<=(B+=z.value.length)){var ne=z.value.length-(B-w),J=z.value.slice(0,ne),K=z.value.slice(ne);F.splice(G,1,{type:z.type,value:J},I,{type:z.type,value:K});break}}this.updateLines(L,L)},this.setTheme=function(f,T){var L=this;if(this.$themeId=f,L._dispatchEvent("themeChange",{theme:f}),f&&typeof f!="string")S(f);else{var w=f||this.$options.theme.initialValue;_.loadModule(["theme",w],S)}function S(I){if(L.$themeId!=f)return T&&T();if(!I||!I.cssClass)throw new Error("couldn't load module "+f+" or it didn't call define");I.$id&&(L.$themeId=I.$id),x.importCssString(I.cssText,I.cssClass,L.container),L.theme&&x.removeCssClass(L.container,L.theme.cssClass);var F="padding"in I?I.padding:"padding"in(L.theme||{})?4:L.$padding;L.$padding&&F!=L.$padding&&L.setPadding(F),L.$theme=I.cssClass,L.theme=I,x.addCssClass(L.container,I.cssClass),x.setCssClass(L.container,"ace_dark",I.isDark),L.$size&&(L.$size.width=0,L.$updateSizeAsync()),L._dispatchEvent("themeLoaded",{theme:I}),T&&T()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(f,T){x.setCssClass(this.container,f,T!==!1)},this.unsetStyle=function(f){x.removeCssClass(this.container,f)},this.setCursorStyle=function(f){x.setStyle(this.scroller.style,"cursor",f)},this.setMouseCursor=function(f){x.setStyle(this.scroller.style,"cursor",f)},this.attachToShadowRoot=function(){x.importCssString(b,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),_.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(f){this.$textLayer.setShowInvisibles(f)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(f){typeof f=="number"&&(this.$printMarginColumn=f),this.$showPrintMargin=!!f,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(f){this.$gutter.style.display=f?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(f){x.setCssClass(this.$gutter,"ace_fade-fold-widgets",f)},initialValue:!1},showFoldWidgets:{set:function(f){this.$gutterLayer.setShowFoldWidgets(f),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(f){this.$textLayer.setDisplayIndentGuides(f)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(f){this.$gutterLayer.setHighlightGutterLine(f),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(f){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(f){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(f){typeof f=="number"&&(f+="px"),this.container.style.fontSize=f,this.updateFontSize()},initialValue:12},fontFamily:{set:function(f){this.container.style.fontFamily=f,this.updateFontSize()}},maxLines:{set:function(f){this.updateFull()}},minLines:{set:function(f){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(f){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(f){f=+f||0,this.$scrollPastEnd!=f&&(this.$scrollPastEnd=f,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(f){this.$gutterLayer.$fixedWidth=!!f,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(f){this.setTheme(f)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!E.isMobile&&!E.isIE}}),O.VirtualRenderer=g}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(M,O,Q){var N=M("../lib/oop"),x=M("../lib/net"),_=M("../lib/event_emitter").EventEmitter,p=M("../config");function a(s){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(p.get("loadWorkerFromBlob")){var l=function(m){var v="importScripts('"+x.qualifyURL(m)+"');";try{return new Blob([v],{type:"application/javascript"})}catch{var C=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return C.append(v),C.getBlob("application/javascript")}}(s),r=(window.URL||window.webkitURL).createObjectURL(l);return new Worker(r)}return new Worker(s)}var u=function(s){s.postMessage||(s=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=s,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){N.implement(this,_),this.$createWorkerFromOldConfig=function(s,l,r,m,v){if(M.nameToUrl&&!M.toUrl&&(M.toUrl=M.nameToUrl),p.get("packaged")||!M.toUrl)m=m||p.moduleUrl(l,"worker");else{var C=this.$normalizePath;m=m||C(M.toUrl("ace/worker/worker.js",null,"_"));var b={};s.forEach(function(E){b[E]=C(M.toUrl(E,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(m),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:b,module:l,classname:r}),this.$worker},this.onMessage=function(s){var l=s.data;switch(l.type){case"event":this._signal(l.name,{data:l.data});break;case"call":var r=this.callbacks[l.id];r&&(r(l.data),delete this.callbacks[l.id]);break;case"error":this.reportError(l.data);break;case"log":window.console&&console.log&&console.log.apply(console,l.data)}},this.reportError=function(s){window.console&&console.error&&console.error(s)},this.$normalizePath=function(s){return x.qualifyURL(s)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(s,l){this.$worker.postMessage({command:s,args:l})},this.call=function(s,l,r){if(r){var m=this.callbackId++;this.callbacks[m]=r,l.push(m)}this.send(s,l)},this.emit=function(s,l){try{l.data&&l.data.err&&(l.data.err={message:l.data.err.message,stack:l.data.err.stack,code:l.data.err.code}),this.$worker.postMessage({event:s,data:{data:l.data}})}catch(r){console.error(r.stack)}},this.attachToDocument=function(s){this.$doc&&this.terminate(),this.$doc=s,this.call("setValue",[s.getValue()]),s.on("change",this.changeListener)},this.changeListener=function(s){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),s.action=="insert"?this.deltaQueue.push(s.start,s.lines):this.deltaQueue.push(s.start,s.end)},this.$sendDeltaQueue=function(){var s=this.deltaQueue;s&&(this.deltaQueue=null,s.length>50&&s.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:s}))}}).call(u.prototype),O.UIWorkerClient=function(s,l,r){var m=null,v=!1,C=Object.create(_),b=[],E=new u({messageBuffer:b,terminate:function(){},postMessage:function(g){b.push(g),m&&(v?setTimeout(R):R())}});E.setEmitSync=function(g){v=g};var R=function(){var g=b.shift();g.command?m[g.command].apply(m,g.args):g.event&&C._signal(g.event,g.data)};return C.postMessage=function(g){E.onMessage({data:g})},C.callback=function(g,f){this.postMessage({type:"call",id:f,data:g})},C.emit=function(g,f){this.postMessage({type:"event",name:g,data:f})},p.loadModule(["worker",l],function(g){for(m=new g[r](C);b.length;)R()}),E},O.WorkerClient=u,O.createWorker=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(M,O,Q){var N=M("./range").Range,x=M("./lib/event_emitter").EventEmitter,_=M("./lib/oop"),p=function(a,u,s,l,r,m){var v=this;this.length=u,this.session=a,this.doc=a.getDocument(),this.mainClass=r,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=l,this.$onCursorChange=function(){setTimeout(function(){v.onCursorChange()})},this.$pos=s;var C=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=C.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)};(function(){_.implement(this,x),this.setup=function(){var a=this,u=this.doc,s=this.session;this.selectionBefore=s.selection.toJSON(),s.selection.inMultiSelectMode&&s.selection.toSingleRange(),this.pos=u.createAnchor(this.$pos.row,this.$pos.column);var l=this.pos;l.$insertRight=!0,l.detach(),l.markerId=s.addMarker(new N(l.row,l.column,l.row,l.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(r){var m=u.createAnchor(r.row,r.column);m.$insertRight=!0,m.detach(),a.others.push(m)}),s.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,u=this;this.othersActive=!0,this.others.forEach(function(s){s.markerId=a.addMarker(new N(s.row,s.column,s.row,s.column+u.length),u.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},this.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var u=a;if(u.start.row===u.end.row&&u.start.row===this.pos.row){this.$updating=!0;var s=a.action==="insert"?u.end.column-u.start.column:u.start.column-u.end.column,l=u.start.column>=this.pos.column&&u.start.column<=this.pos.column+this.length+1,r=u.start.column-this.pos.column;if(this.updateAnchors(a),l&&(this.length+=s),l&&!this.session.$fromUndo){if(a.action==="insert")for(var m=this.others.length-1;m>=0;m--){var v={row:(C=this.others[m]).row,column:C.column+r};this.doc.insertMergedLines(v,a.lines)}else if(a.action==="remove")for(m=this.others.length-1;m>=0;m--){var C;v={row:(C=this.others[m]).row,column:C.column+r},this.doc.remove(new N(v.row,v.column,v.row,v.column-s))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(a){this.pos.onChange(a);for(var u=this.others.length;u--;)this.others[u].onChange(a);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var a=this,u=this.session,s=function(r,m){u.removeMarker(r.markerId),r.markerId=u.addMarker(new N(r.row,r.column,r.row,r.column+a.length),m,null,!1)};s(this.pos,this.mainClass);for(var l=this.others.length;l--;)s(this.others[l],this.othersClass)}},this.onCursorChange=function(a){if(!this.$updating&&this.session){var u=this.session.selection.getCursor();u.row===this.pos.row&&u.column>=this.pos.column&&u.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var a=this.session.getUndoManager(),u=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,s=0;s<u;s++)a.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(p.prototype),O.PlaceHolder=p}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(M,O,Q){var N=M("../lib/event"),x=M("../lib/useragent");function _(p,a){return p.row==a.row&&p.column==a.column}O.onMouseDown=function(p){var a=p.domEvent,u=a.altKey,s=a.shiftKey,l=a.ctrlKey,r=p.getAccelKey(),m=p.getButton();if(l&&x.isMac&&(m=a.button),p.editor.inMultiSelectMode&&m==2)p.editor.textInput.onContextMenu(p.domEvent);else if(l||u||r){if(m===0){var v,C=p.editor,b=C.selection,E=C.inMultiSelectMode,R=p.getDocumentPosition(),g=b.getCursor(),f=p.inSelection()||b.isEmpty()&&_(R,g),T=p.x,L=p.y,w=C.session,S=C.renderer.pixelToScreenCoordinates(T,L),I=S;if(C.$mouseHandler.$enableJumpToDef)l&&u||r&&u?v=s?"block":"add":u&&C.$blockSelectEnabled&&(v="block");else if(r&&!u){if(v="add",!E&&s)return}else u&&C.$blockSelectEnabled&&(v="block");if(v&&x.isMac&&a.ctrlKey&&C.$mouseHandler.cancelContextMenu(),v=="add"){if(!E&&f)return;if(!E){var F=b.toOrientedRange();C.addSelectionMarker(F)}var B=b.rangeList.rangeAtPoint(R);C.inVirtualSelectionMode=!0,s&&(B=null,F=b.ranges[0]||F,C.removeSelectionMarker(F)),C.once("mouseup",function(){var H=b.toOrientedRange();B&&H.isEmpty()&&_(B.cursor,H.cursor)?b.substractPoint(H.cursor):(s?b.substractPoint(F.cursor):F&&(C.removeSelectionMarker(F),b.addRange(F)),b.addRange(H)),C.inVirtualSelectionMode=!1})}else if(v=="block"){var G;p.stop(),C.inVirtualSelectionMode=!0;var z=[],ne=function(){var H=C.renderer.pixelToScreenCoordinates(T,L),$=w.screenToDocumentPosition(H.row,H.column,H.offsetX);_(I,H)&&_($,b.lead)||(I=H,C.selection.moveToPosition($),C.renderer.scrollCursorIntoView(),C.removeSelectionMarkers(z),z=b.rectangularRangeBlock(I,S),C.$mouseHandler.$clickSelection&&z.length==1&&z[0].isEmpty()&&(z[0]=C.$mouseHandler.$clickSelection.clone()),z.forEach(C.addSelectionMarker,C),C.updateSelectionMarkers())};E&&!r?b.toSingleRange():!E&&r&&(G=b.toOrientedRange(),C.addSelectionMarker(G)),s?S=w.documentToScreenPosition(b.lead):b.moveToPosition(R),I={row:-1,column:-1};var J=ne;N.capture(C.container,function(H){T=H.clientX,L=H.clientY},function(H){ne(),clearInterval(K),C.removeSelectionMarkers(z),z.length||(z=[b.toOrientedRange()]),G&&(C.removeSelectionMarker(G),b.toSingleRange(G));for(var $=0;$<z.length;$++)b.addRange(z[$]);C.inVirtualSelectionMode=!1,C.$mouseHandler.$clickSelection=null});var K=setInterval(function(){J()},20);return p.preventDefault()}}}else m===0&&p.editor.inMultiSelectMode&&p.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(M,O,Q){O.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(x){x.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(x){x.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(x){x.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(x){x.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(x){x.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(x){x.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(x){x.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(x){x.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",description:"Split into lines",exec:function(x){x.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(x){x.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(x){x.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],O.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(x){x.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(x){return x&&x.inMultiSelectMode}}];var N=M("../keyboard/hash_handler").HashHandler;O.keyboardHandler=new N(O.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(M,O,Q){var N=M("./range_list").RangeList,x=M("./range").Range,_=M("./selection").Selection,p=M("./mouse/multi_select_handler").onMouseDown,a=M("./lib/event"),u=M("./lib/lang"),s=M("./commands/multi_select_commands");O.commands=s.defaultCommands.concat(s.multiSelectCommands);var l=new(M("./search")).Search,r=M("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(r.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(C,b){if(C){if(!this.inMultiSelectMode&&this.rangeCount===0){var E=this.toOrientedRange();if(this.rangeList.add(E),this.rangeList.add(C),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),b||this.fromOrientedRange(C);this.rangeList.removeAll(),this.rangeList.add(E),this.$onAddRange(E)}C.cursor||(C.cursor=C.end);var R=this.rangeList.add(C);return this.$onAddRange(C),R.length&&this.$onRemoveRange(R),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(C)}},this.toSingleRange=function(C){C=C||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),C&&this.fromOrientedRange(C)},this.substractPoint=function(C){var b=this.rangeList.substractPoint(C);if(b)return this.$onRemoveRange(b),b[0]},this.mergeOverlappingRanges=function(){var C=this.rangeList.merge();C.length&&this.$onRemoveRange(C)},this.$onAddRange=function(C){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(C),this._signal("addRange",{range:C})},this.$onRemoveRange=function(C){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();C.push(b),this.rangeCount=0}for(var E=C.length;E--;){var R=this.ranges.indexOf(C[E]);this.ranges.splice(R,1)}this._signal("removeRange",{ranges:C}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(b=b||this.ranges[0])&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new N,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var C=this.rangeList.ranges,b=C[C.length-1],E=x.fromPoints(C[0].start,b.end);this.toSingleRange(),this.setSelectionRange(E,b.cursor==b.start)}else{E=this.getRange();var R=this.isBackwards(),g=E.start.row,f=E.end.row;if(g==f){if(R)var T=E.end,L=E.start;else T=E.start,L=E.end;return this.addRange(x.fromPoints(L,L)),void this.addRange(x.fromPoints(T,T))}var w=[],S=this.getLineRange(g,!0);S.start.column=E.start.column,w.push(S);for(var I=g+1;I<f;I++)w.push(this.getLineRange(I,!0));(S=this.getLineRange(f,!0)).end.column=E.end.column,w.push(S),w.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var C=this.rangeList.ranges,b=C[C.length-1],E=x.fromPoints(C[0].start,b.end);this.toSingleRange(),this.setSelectionRange(E,b.cursor==b.start)}else{var R=this.session.documentToScreenPosition(this.cursor),g=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(R,g).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(C,b,E){var R=[],g=C.column<b.column;if(g)var f=C.column,T=b.column,L=C.offsetX,w=b.offsetX;else f=b.column,T=C.column,L=b.offsetX,w=C.offsetX;var S,I,F,B=C.row<b.row;if(B)var G=C.row,z=b.row;else G=b.row,z=C.row;f<0&&(f=0),G<0&&(G=0),G==z&&(E=!0);for(var ne=G;ne<=z;ne++){var J=x.fromPoints(this.session.screenToDocumentPosition(ne,f,L),this.session.screenToDocumentPosition(ne,T,w));if(J.isEmpty()){if(S&&(I=J.end,F=S,I.row==F.row&&I.column==F.column))break;S=J.end}J.cursor=g?J.start:J.end,R.push(J)}if(B&&R.reverse(),!E){for(var K=R.length-1;R[K].isEmpty()&&K>0;)K--;if(K>0)for(var H=0;R[H].isEmpty();)H++;for(var $=K;$>=H;$--)R[$].isEmpty()&&R.splice($,1)}return R}}.call(_.prototype);var m=M("./editor").Editor;function v(C){C.$multiselectOnSessionChange||(C.$onAddRange=C.$onAddRange.bind(C),C.$onRemoveRange=C.$onRemoveRange.bind(C),C.$onMultiSelect=C.$onMultiSelect.bind(C),C.$onSingleSelect=C.$onSingleSelect.bind(C),C.$multiselectOnSessionChange=O.onSessionChange.bind(C),C.$checkMultiselectChange=C.$checkMultiselectChange.bind(C),C.$multiselectOnSessionChange(C),C.on("changeSession",C.$multiselectOnSessionChange),C.on("mousedown",p),C.commands.addCommands(s.defaultCommands),function(b){if(!b.textInput)return;var E=b.textInput.getElement(),R=!1;function g(f){R&&(b.renderer.setMouseCursor(""),R=!1)}a.addListener(E,"keydown",function(f){var T=f.keyCode==18&&!(f.ctrlKey||f.shiftKey||f.metaKey);b.$blockSelectEnabled&&T?R||(b.renderer.setMouseCursor("crosshair"),R=!0):R&&g()}),a.addListener(E,"keyup",g),a.addListener(E,"blur",g)}(C))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(C){C.cursor||(C.cursor=C.end);var b=this.getSelectionStyle();return C.marker=this.session.addMarker(C,"ace_selection",b),this.session.$selectionMarkers.push(C),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,C},this.removeSelectionMarker=function(C){if(C.marker){this.session.removeMarker(C.marker);var b=this.session.$selectionMarkers.indexOf(C);b!=-1&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(C){for(var b=this.session.$selectionMarkers,E=C.length;E--;){var R=C[E];if(R.marker){this.session.removeMarker(R.marker);var g=b.indexOf(R);g!=-1&&b.splice(g,1)}}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(C){this.addSelectionMarker(C.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(C){this.removeSelectionMarkers(C.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(C){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(s.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(C){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(s.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(C){var b=C.command,E=C.editor;if(E.multiSelect){if(b.multiSelectAction)b.multiSelectAction=="forEach"?R=E.forEachSelection(b,C.args):b.multiSelectAction=="forEachLine"?R=E.forEachSelection(b,C.args,!0):b.multiSelectAction=="single"?(E.exitMultiSelectMode(),R=b.exec(E,C.args||{})):R=b.multiSelectAction(E,C.args||{});else{var R=b.exec(E,C.args||{});E.multiSelect.addRange(E.multiSelect.toOrientedRange()),E.multiSelect.mergeOverlappingRanges()}return R}},this.forEachSelection=function(C,b,E){if(!this.inVirtualSelectionMode){var R,g=E&&E.keepOrder,f=E==1||E&&E.$byLines,T=this.session,L=this.selection,w=L.rangeList,S=(g?L:w).ranges;if(!S.length)return C.exec?C.exec(this,b||{}):C(this,b||{});var I=L._eventRegistry;L._eventRegistry={};var F=new _(T);this.inVirtualSelectionMode=!0;for(var B=S.length;B--;){if(f)for(;B>0&&S[B].start.row==S[B-1].end.row;)B--;F.fromOrientedRange(S[B]),F.index=B,this.selection=T.selection=F;var G=C.exec?C.exec(this,b||{}):C(this,b||{});R||G===void 0||(R=G),F.toOrientedRange(S[B])}F.detach(),this.selection=T.selection=L,this.inVirtualSelectionMode=!1,L._eventRegistry=I,L.mergeOverlappingRanges(),L.ranges[0]&&L.fromOrientedRange(L.ranges[0]);var z=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),z&&z.from==z.to&&this.renderer.animateScrolling(z.from),R}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var C="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var b=this.multiSelect.rangeList.ranges,E=[],R=0;R<b.length;R++)E.push(this.session.getTextRange(b[R]));var g=this.session.getDocument().getNewLineCharacter();(C=E.join(g)).length==(E.length-1)*g.length&&(C="")}else this.selection.isEmpty()||(C=this.session.getTextRange(this.getSelectionRange()));return C},this.$checkMultiselectChange=function(C,b){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var E=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&b==this.multiSelect.anchor)return;var R=b==this.multiSelect.anchor?E.cursor==E.start?E.end:E.start:E.cursor;R.row!=b.row||this.session.$clipPositionToDocument(R.row,R.column).column!=b.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(C,b,E){if((b=b||{}).needle=C||b.needle,b.needle==null){var R=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(R)}this.$search.set(b);var g=this.$search.findAll(this.session);if(!g.length)return 0;var f=this.multiSelect;E||f.toSingleRange(g[0]);for(var T=g.length;T--;)f.addRange(g[T],!0);return R&&f.rangeList.rangeAtPoint(R.start)&&f.addRange(R,!0),g.length},this.selectMoreLines=function(C,b){var E=this.selection.toOrientedRange(),R=E.cursor==E.end,g=this.session.documentToScreenPosition(E.cursor);this.selection.$desiredColumn&&(g.column=this.selection.$desiredColumn);var f,T=this.session.screenToDocumentPosition(g.row+C,g.column);if(E.isEmpty())w=T;else var L=this.session.documentToScreenPosition(R?E.end:E.start),w=this.session.screenToDocumentPosition(L.row+C,L.column);if(R?(f=x.fromPoints(T,w)).cursor=f.start:(f=x.fromPoints(w,T)).cursor=f.end,f.desiredColumn=g.column,this.selection.inMultiSelectMode){if(b)var S=E.cursor}else this.selection.addRange(E);this.selection.addRange(f),S&&this.selection.substractPoint(S)},this.transposeSelections=function(C){for(var b=this.session,E=b.multiSelect,R=E.ranges,g=R.length;g--;)if((L=R[g]).isEmpty()){var f=b.getWordRange(L.start.row,L.start.column);L.start.row=f.start.row,L.start.column=f.start.column,L.end.row=f.end.row,L.end.column=f.end.column}E.mergeOverlappingRanges();var T=[];for(g=R.length;g--;){var L=R[g];T.unshift(b.getTextRange(L))}for(C<0?T.unshift(T.pop()):T.push(T.shift()),g=R.length;g--;)f=(L=R[g]).clone(),b.replace(L,T[g]),L.start.row=f.start.row,L.start.column=f.start.column;E.fromOrientedRange(E.ranges[0])},this.selectMore=function(C,b,E){var R=this.session,g=R.multiSelect.toOrientedRange();if(!g.isEmpty()||((g=R.getWordRange(g.start.row,g.start.column)).cursor=C==-1?g.start:g.end,this.multiSelect.addRange(g),!E)){var f=R.getTextRange(g),T=function(L,w,S){return l.$options.wrap=!0,l.$options.needle=w,l.$options.backwards=S==-1,l.find(L)}(R,f,C);T&&(T.cursor=C==-1?T.start:T.end,this.session.unfold(T),this.multiSelect.addRange(T),this.renderer.scrollCursorIntoView(null,.5)),b&&this.multiSelect.substractPoint(g.cursor)}},this.alignCursors=function(){var C=this.session,b=C.multiSelect,E=b.ranges,R=-1,g=E.filter(function(ne){if(ne.cursor.row==R)return!0;R=ne.cursor.row});if(E.length&&g.length!=E.length-1){g.forEach(function(ne){b.substractPoint(ne.cursor)});var f=0,T=1/0,L=E.map(function(ne){var J=ne.cursor,K=C.getLine(J.row).substr(J.column).search(/\S/g);return K==-1&&(K=0),J.column>f&&(f=J.column),K<T&&(T=K),K});E.forEach(function(ne,J){var K=ne.cursor,H=f-K.column,$=L[J]-T;H>$?C.insert(K,u.stringRepeat(" ",H-$)):C.remove(new x(K.row,K.column,K.row,K.column-H+$)),ne.start.column=ne.end.column=f,ne.start.row=ne.end.row=K.row,ne.cursor=ne.end}),b.fromOrientedRange(E[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var w=this.selection.getRange(),S=w.start.row,I=w.end.row,F=S==I;if(F){var B,G=this.session.getLength();do B=this.session.getLine(I);while(/[=:]/.test(B)&&++I<G);do B=this.session.getLine(S);while(/[=:]/.test(B)&&--S>0);S<0&&(S=0),I>=G&&(I=G-1)}var z=this.session.removeFullLines(S,I);z=this.$reAlignText(z,F),this.session.insert({row:S,column:0},z.join(`
`)+`
`),F||(w.start.column=0,w.end.column=z[z.length-1].length),this.selection.setRange(w)}},this.$reAlignText=function(C,b){var E,R,g,f=!0,T=!0;return C.map(function(S){var I=S.match(/(\s*)(.*?)(\s*)([=:].*)/);return I?E==null?(E=I[1].length,R=I[2].length,g=I[3].length,I):(E+R+g!=I[1].length+I[2].length+I[3].length&&(T=!1),E!=I[1].length&&(f=!1),E>I[1].length&&(E=I[1].length),R<I[2].length&&(R=I[2].length),g>I[3].length&&(g=I[3].length),I):[S]}).map(b?w:f?T?function(S){return S[2]?L(E+R-S[2].length)+S[2]+L(g)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}:w:function(S){return S[2]?L(E)+S[2]+L(g)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]});function L(S){return u.stringRepeat(" ",S)}function w(S){return S[2]?L(E)+S[2]+L(R-S[2].length+g)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}}}).call(m.prototype),O.onSessionChange=function(C){var b=C.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection),this.multiSelect=b&&b.multiSelect;var E=C.oldSession;E&&(E.multiSelect.off("addRange",this.$onAddRange),E.multiSelect.off("removeRange",this.$onRemoveRange),E.multiSelect.off("multiSelect",this.$onMultiSelect),E.multiSelect.off("singleSelect",this.$onSingleSelect),E.multiSelect.lead.off("change",this.$checkMultiselectChange),E.multiSelect.anchor.off("change",this.$checkMultiselectChange)),b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange)),b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},O.MultiSelect=v,M("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(C){v(this),C?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",p)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",p))},value:!0},enableBlockSelect:{set:function(C){this.$blockSelectEnabled=C},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(M,O,Q){var N=M("../../range").Range,x=O.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(_,p,a){var u=_.getLine(a);return this.foldingStartMarker.test(u)?"start":p=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(u)?"end":""},this.getFoldWidgetRange=function(_,p,a){return null},this.indentationBlock=function(_,p,a){var u=/\S/,s=_.getLine(p),l=s.search(u);if(l!=-1){for(var r=a||s.length,m=_.getLength(),v=p,C=p;++p<m;){var b=_.getLine(p).search(u);if(b!=-1){if(b<=l){var E=_.getTokenAt(p,0);if(!E||E.type!=="string")break}C=p}}if(C>v){var R=_.getLine(C).length;return new N(v,r,C,R)}}},this.openingBracketBlock=function(_,p,a,u,s){var l={row:a,column:u+1},r=_.$findClosingBracket(p,l,s);if(r){var m=_.foldWidgets[r.row];return m==null&&(m=_.getFoldWidget(r.row)),m=="start"&&r.row>l.row&&(r.row--,r.column=_.getLine(r.row).length),N.fromPoints(l,r)}},this.closingBracketBlock=function(_,p,a,u,s){var l={row:a,column:u},r=_.$findOpeningBracket(p,l);if(r)return r.column++,l.column--,N.fromPoints(r,l)}}).call(x.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(M,O,Q){O.isDark=!1,O.cssClass="ace-tm",O.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',O.$id="ace/theme/textmate",M("../lib/dom").importCssString(O.cssText,O.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(M,O,Q){M("./lib/oop");var N=M("./lib/dom");M("./range").Range;function x(_){this.session=_,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(_){var p;return p=this.lineWidgets&&this.lineWidgets[_]&&this.lineWidgets[_].rowCount||0,this.$useWrapMode&&this.$wrapData[_]?this.$wrapData[_].length+1+p:1+p},this.$getWidgetScreenLength=function(){var _=0;return this.lineWidgets.forEach(function(p){p&&p.rowCount&&!p.hidden&&(_+=p.rowCount)}),_},this.$onChangeEditor=function(_){this.attach(_.editor)},this.attach=function(_){_&&_.widgetManager&&_.widgetManager!=this&&_.widgetManager.detach(),this.editor!=_&&(this.detach(),this.editor=_,_&&(_.widgetManager=this,_.renderer.on("beforeRender",this.measureWidgets),_.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(_){var p=this.editor;if(p){this.editor=null,p.widgetManager=null,p.renderer.off("beforeRender",this.measureWidgets),p.renderer.off("afterRender",this.renderWidgets);var a=this.session.lineWidgets;a&&a.forEach(function(u){u&&u.el&&u.el.parentNode&&(u._inDocument=!1,u.el.parentNode.removeChild(u.el))})}},this.updateOnFold=function(_,p){var a=p.lineWidgets;if(a&&_.action){for(var u=_.data,s=u.start.row,l=u.end.row,r=_.action=="add",m=s+1;m<l;m++)a[m]&&(a[m].hidden=r);a[l]&&(r?a[s]?a[l].hidden=r:a[s]=a[l]:(a[s]==a[l]&&(a[s]=void 0),a[l].hidden=r))}},this.updateOnChange=function(_){var p=this.session.lineWidgets;if(p){var a=_.start.row,u=_.end.row-a;if(u!==0)if(_.action=="remove")p.splice(a+1,u).forEach(function(l){l&&this.removeLineWidget(l)},this),this.$updateRows();else{var s=new Array(u);s.unshift(a,0),p.splice.apply(p,s),this.$updateRows()}}},this.$updateRows=function(){var _=this.session.lineWidgets;if(_){var p=!0;_.forEach(function(a,u){if(a)for(p=!1,a.row=u;a.$oldWidget;)a.$oldWidget.row=u,a=a.$oldWidget}),p&&(this.session.lineWidgets=null)}},this.addLineWidget=function(_){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var p=this.session.lineWidgets[_.row];p&&(_.$oldWidget=p,p.el&&p.el.parentNode&&(p.el.parentNode.removeChild(p.el),p._inDocument=!1)),this.session.lineWidgets[_.row]=_,_.session=this.session;var a=this.editor.renderer;_.html&&!_.el&&(_.el=N.createElement("div"),_.el.innerHTML=_.html),_.el&&(N.addCssClass(_.el,"ace_lineWidgetContainer"),_.el.style.position="absolute",_.el.style.zIndex=5,a.container.appendChild(_.el),_._inDocument=!0),_.coverGutter||(_.el.style.zIndex=3),_.pixelHeight==null&&(_.pixelHeight=_.el.offsetHeight),_.rowCount==null&&(_.rowCount=_.pixelHeight/a.layerConfig.lineHeight);var u=this.session.getFoldAt(_.row,0);if(_.$fold=u,u){var s=this.session.lineWidgets;_.row!=u.end.row||s[u.start.row]?_.hidden=!0:s[u.start.row]=_}return this.session._emit("changeFold",{data:{start:{row:_.row}}}),this.$updateRows(),this.renderWidgets(null,a),this.onWidgetChanged(_),_},this.removeLineWidget=function(_){if(_._inDocument=!1,_.session=null,_.el&&_.el.parentNode&&_.el.parentNode.removeChild(_.el),_.editor&&_.editor.destroy)try{_.editor.destroy()}catch{}if(this.session.lineWidgets){var p=this.session.lineWidgets[_.row];if(p==_)this.session.lineWidgets[_.row]=_.$oldWidget,_.$oldWidget&&this.onWidgetChanged(_.$oldWidget);else for(;p;){if(p.$oldWidget==_){p.$oldWidget=_.$oldWidget;break}p=p.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:_.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(_){for(var p=this.session.lineWidgets,a=p&&p[_],u=[];a;)u.push(a),a=a.$oldWidget;return u},this.onWidgetChanged=function(_){this.session._changedWidgets.push(_),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(_,p){var a=this.session._changedWidgets,u=p.layerConfig;if(a&&a.length){for(var s=1/0,l=0;l<a.length;l++){var r=a[l];if(r&&r.el&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,p.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/u.characterWidth));var m=r.h/u.lineHeight;r.coverLine&&(m-=this.session.getRowLineCount(r.row))<0&&(m=0),r.rowCount!=m&&(r.rowCount=m,r.row<s&&(s=r.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(_,p){var a=p.layerConfig,u=this.session.lineWidgets;if(u){for(var s=Math.min(this.firstRow,a.firstRow),l=Math.max(this.lastRow,a.lastRow,u.length);s>0&&!u[s];)s--;this.firstRow=a.firstRow,this.lastRow=a.lastRow,p.$cursorLayer.config=a;for(var r=s;r<=l;r++){var m=u[r];if(m&&m.el)if(m.hidden)m.el.style.top=-100-(m.pixelHeight||0)+"px";else{m._inDocument||(m._inDocument=!0,p.container.appendChild(m.el));var v=p.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;m.coverLine||(v+=a.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=v-a.offset+"px";var C=m.coverGutter?0:p.gutterWidth;m.fixedWidth||(C-=p.scrollLeft),m.el.style.left=C+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=a.width+2*a.padding+"px"),m.fixedWidth?m.el.style.right=p.scrollBar.getWidth()+"px":m.el.style.right=""}}}}}).call(x.prototype),O.LineWidgets=x}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(M,O,Q){var N=M("../line_widgets").LineWidgets,x=M("../lib/dom"),_=M("../range").Range;O.showErrorMarker=function(p,a){var u=p.session;u.widgetManager||(u.widgetManager=new N(u),u.widgetManager.attach(p));var s=p.getCursorPosition(),l=s.row,r=u.widgetManager.getWidgetsAtRow(l).filter(function(T){return T.type=="errorMarker"})[0];r?r.destroy():l-=a;var m,v=function(T,L,w){var S=T.getAnnotations().sort(_.comparePoints);if(S.length){var I=function(G,z,ne){for(var J=0,K=G.length-1;J<=K;){var H=J+K>>1,$=ne(z,G[H]);if($>0)J=H+1;else{if(!($<0))return H;K=H-1}}return-(J+1)}(S,{row:L,column:-1},_.comparePoints);I<0&&(I=-I-1),I>=S.length?I=w>0?0:S.length-1:I===0&&w<0&&(I=S.length-1);var F=S[I];if(F&&w){if(F.row===L){do F=S[I+=w];while(F&&F.row===L);if(!F)return S.slice()}var B=[];L=F.row;do B[w<0?"unshift":"push"](F),F=S[I+=w];while(F&&F.row==L);return B.length&&B}}}(u,l,a);if(v){var C=v[0];s.column=(C.pos&&typeof C.column!="number"?C.pos.sc:C.column)||0,s.row=C.row,m=p.renderer.$gutterLayer.$annotations[s.row]}else{if(r)return;m={text:["Looks good!"],className:"ace_ok"}}p.session.unfold(s.row),p.selection.moveToPosition(s);var b={row:s.row,fixedWidth:!0,coverGutter:!0,el:x.createElement("div"),type:"errorMarker"},E=b.el.appendChild(x.createElement("div")),R=b.el.appendChild(x.createElement("div"));R.className="error_widget_arrow "+m.className;var g=p.renderer.$cursorLayer.getPixelPosition(s).left;R.style.left=g+p.renderer.gutterWidth-5+"px",b.el.className="error_widget_wrapper",E.className="error_widget "+m.className,E.innerHTML=m.text.join("<br>"),E.appendChild(x.createElement("div"));var f=function(T,L,w){if(L===0&&(w==="esc"||w==="return"))return b.destroy(),{command:"null"}};b.destroy=function(){p.$mouseHandler.isMousePressed||(p.keyBinding.removeKeyboardHandler(f),u.widgetManager.removeLineWidget(b),p.off("changeSelection",b.destroy),p.off("changeSession",b.destroy),p.off("mouseup",b.destroy),p.off("change",b.destroy))},p.keyBinding.addKeyboardHandler(f),p.on("changeSelection",b.destroy),p.on("changeSession",b.destroy),p.on("mouseup",b.destroy),p.on("change",b.destroy),p.session.widgetManager.addLineWidget(b),b.el.onmousedown=p.focus.bind(p),p.renderer.scrollCursorIntoView(null,.5,{bottom:b.el.offsetHeight})},x.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(M,O,Q){M("./lib/fixoldbrowsers");var N=M("./lib/dom"),x=M("./lib/event"),_=M("./range").Range,p=M("./editor").Editor,a=M("./edit_session").EditSession,u=M("./undomanager").UndoManager,s=M("./virtual_renderer").VirtualRenderer;M("./worker/worker_client"),M("./keyboard/hash_handler"),M("./placeholder"),M("./multi_select"),M("./mode/folding/fold_mode"),M("./theme/textmate"),M("./ext/error_marker"),O.config=M("./config"),O.require=M,O.define=W(3),O.edit=function(l,r){if(typeof l=="string"){var m=l;if(!(l=document.getElementById(m)))throw new Error("ace.edit can't find div #"+m)}if(l&&l.env&&l.env.editor instanceof p)return l.env.editor;var v="";if(l&&/input|textarea/i.test(l.tagName)){var C=l;v=C.value,l=N.createElement("pre"),C.parentNode.replaceChild(l,C)}else l&&(v=l.textContent,l.innerHTML="");var b=O.createEditSession(v),E=new p(new s(l),b,r),R={document:b,editor:E,onResize:E.resize.bind(E,null)};return C&&(R.textarea=C),x.addListener(window,"resize",R.onResize),E.on("destroy",function(){x.removeListener(window,"resize",R.onResize),R.editor.container.env=null}),E.container.env=E.env=R,E},O.createEditSession=function(l,r){var m=new a(l,r);return m.setUndoManager(new u),m},O.Range=_,O.Editor=p,O.EditSession=a,O.UndoManager=u,O.VirtualRenderer=s,O.version=O.config.version}),ace.require(["ace/ace"],function(M){for(var O in M&&(M.config.init(!0),M.define=ace.define),window.ace||(window.ace=M),M)M.hasOwnProperty(O)&&(window.ace[O]=M[O]);window.ace.default=window.ace,te&&(te.exports=window.ace)}),te.exports=ace}).call(this,W(0)(Y))},function(Y,ee,W){(function(te){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(M,O,Q){var N=M("../lib/oop"),x=M("./text_highlight_rules").TextHighlightRules,_=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},_.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};N.inherits(_,x),_.getTagRule=function(p){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},_.getStartRule=function(p){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:p}},_.getEndRule=function(p){return{token:"comment.doc",regex:"\\*\\/",next:p}},O.DocCommentHighlightRules=_}),ace.define("ace/mode/c_cpp_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(M,O,Q){var N=M("../lib/oop"),x=M("./doc_comment_highlight_rules").DocCommentHighlightRules,_=M("./text_highlight_rules").TextHighlightRules,p=O.cFunctions="\\b(?:hypot(?:f|l)?|s(?:scanf|ystem|nprintf|ca(?:nf|lb(?:n(?:f|l)?|ln(?:f|l)?))|i(?:n(?:h(?:f|l)?|f|l)?|gn(?:al|bit))|tr(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?)|error|pbrk|ftime|len|rchr|xfrm)|printf|et(?:jmp|vbuf|locale|buf)|qrt(?:f|l)?|w(?:scanf|printf)|rand)|n(?:e(?:arbyint(?:f|l)?|xt(?:toward(?:f|l)?|after(?:f|l)?))|an(?:f|l)?)|c(?:s(?:in(?:h(?:f|l)?|f|l)?|qrt(?:f|l)?)|cos(?:h(?:f)?|f|l)?|imag(?:f|l)?|t(?:ime|an(?:h(?:f|l)?|f|l)?)|o(?:s(?:h(?:f|l)?|f|l)?|nj(?:f|l)?|pysign(?:f|l)?)|p(?:ow(?:f|l)?|roj(?:f|l)?)|e(?:il(?:f|l)?|xp(?:f|l)?)|l(?:o(?:ck|g(?:f|l)?)|earerr)|a(?:sin(?:h(?:f|l)?|f|l)?|cos(?:h(?:f|l)?|f|l)?|tan(?:h(?:f|l)?|f|l)?|lloc|rg(?:f|l)?|bs(?:f|l)?)|real(?:f|l)?|brt(?:f|l)?)|t(?:ime|o(?:upper|lower)|an(?:h(?:f|l)?|f|l)?|runc(?:f|l)?|gamma(?:f|l)?|mp(?:nam|file))|i(?:s(?:space|n(?:ormal|an)|cntrl|inf|digit|u(?:nordered|pper)|p(?:unct|rint)|finite|w(?:space|c(?:ntrl|type)|digit|upper|p(?:unct|rint)|lower|al(?:num|pha)|graph|xdigit|blank)|l(?:ower|ess(?:equal|greater)?)|al(?:num|pha)|gr(?:eater(?:equal)?|aph)|xdigit|blank)|logb(?:f|l)?|max(?:div|abs))|di(?:v|fftime)|_Exit|unget(?:c|wc)|p(?:ow(?:f|l)?|ut(?:s|c(?:har)?|wc(?:har)?)|error|rintf)|e(?:rf(?:c(?:f|l)?|f|l)?|x(?:it|p(?:2(?:f|l)?|f|l|m1(?:f|l)?)?))|v(?:s(?:scanf|nprintf|canf|printf|w(?:scanf|printf))|printf|f(?:scanf|printf|w(?:scanf|printf))|w(?:scanf|printf)|a_(?:start|copy|end|arg))|qsort|f(?:s(?:canf|e(?:tpos|ek))|close|tell|open|dim(?:f|l)?|p(?:classify|ut(?:s|c|w(?:s|c))|rintf)|e(?:holdexcept|set(?:e(?:nv|xceptflag)|round)|clearexcept|testexcept|of|updateenv|r(?:aiseexcept|ror)|get(?:e(?:nv|xceptflag)|round))|flush|w(?:scanf|ide|printf|rite)|loor(?:f|l)?|abs(?:f|l)?|get(?:s|c|pos|w(?:s|c))|re(?:open|e|ad|xp(?:f|l)?)|m(?:in(?:f|l)?|od(?:f|l)?|a(?:f|l|x(?:f|l)?)?))|l(?:d(?:iv|exp(?:f|l)?)|o(?:ngjmp|cal(?:time|econv)|g(?:1(?:p(?:f|l)?|0(?:f|l)?)|2(?:f|l)?|f|l|b(?:f|l)?)?)|abs|l(?:div|abs|r(?:int(?:f|l)?|ound(?:f|l)?))|r(?:int(?:f|l)?|ound(?:f|l)?)|gamma(?:f|l)?)|w(?:scanf|c(?:s(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?|mbs)|pbrk|ftime|len|r(?:chr|tombs)|xfrm)|to(?:b|mb)|rtomb)|printf|mem(?:set|c(?:hr|py|mp)|move))|a(?:s(?:sert|ctime|in(?:h(?:f|l)?|f|l)?)|cos(?:h(?:f|l)?|f|l)?|t(?:o(?:i|f|l(?:l)?)|exit|an(?:h(?:f|l)?|2(?:f|l)?|f|l)?)|b(?:s|ort))|g(?:et(?:s|c(?:har)?|env|wc(?:har)?)|mtime)|r(?:int(?:f|l)?|ound(?:f|l)?|e(?:name|alloc|wind|m(?:ove|quo(?:f|l)?|ainder(?:f|l)?))|a(?:nd|ise))|b(?:search|towc)|m(?:odf(?:f|l)?|em(?:set|c(?:hr|py|mp)|move)|ktime|alloc|b(?:s(?:init|towcs|rtowcs)|towc|len|r(?:towc|len))))\\b",a=function(){var u=this.$keywords=this.createKeywordMapper({"keyword.control":"break|case|continue|default|do|else|for|goto|if|_Pragma|return|switch|while|catch|operator|try|throw|using","storage.type":"asm|__asm__|auto|bool|_Bool|char|_Complex|double|enum|float|_Imaginary|int|long|short|signed|struct|typedef|union|unsigned|void|class|wchar_t|template|char16_t|char32_t","storage.modifier":"const|extern|register|restrict|static|volatile|inline|private|protected|public|friend|explicit|virtual|export|mutable|typename|constexpr|new|delete|alignas|alignof|decltype|noexcept|thread_local","keyword.operator":"and|and_eq|bitand|bitor|compl|not|not_eq|or|or_eq|typeid|xor|xor_eq|const_cast|dynamic_cast|reinterpret_cast|static_cast|sizeof|namespace","variable.language":"this","constant.language":"NULL|true|false|TRUE|FALSE|nullptr"},"identifier"),s=/\\(?:['"?\\abfnrtv]|[0-7]{1,3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}U[a-fA-F\d]{8}|.)/.source,l="%"+/(\d+\$)?/.source+/[#0\- +']*/.source+/[,;:_]?/.source+/((-?\d+)|\*(-?\d+\$)?)?/.source+/(\.((-?\d+)|\*(-?\d+\$)?)?)?/.source+/(hh|h|ll|l|j|t|z|q|L|vh|vl|v|hv|hl)?/.source+/(\[[^"\]]+\]|[diouxXDOUeEfFgGaACcSspn%])/.source;this.$rules={start:[{token:"comment",regex:"//$",next:"start"},{token:"comment",regex:"//",next:"singleLineComment"},x.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:"'(?:"+s+"|.)?'"},{token:"string.start",regex:'"',stateName:"qqstring",next:[{token:"string",regex:/\\\s*$/,next:"qqstring"},{token:"constant.language.escape",regex:s},{token:"constant.language.escape",regex:l},{token:"string.end",regex:'"|$',next:"start"},{defaultToken:"string"}]},{token:"string.start",regex:'R"\\(',stateName:"rawString",next:[{token:"string.end",regex:'\\)"',next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"keyword",regex:"#\\s*(?:include|import|pragma|line|define|undef|version)\\b",next:"directive"},{token:"keyword",regex:"#\\s*(?:endif|if|ifdef|else|elif|ifndef)\\b"},{token:"support.function.C99.c",regex:p},{token:u,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*"},{token:"keyword.operator",regex:/--|\+\+|<<=|>>=|>>>=|<>|&&|\|\||\?:|[*%\/+\-&\^|~!<>=]=?/},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],singleLineComment:[{token:"comment",regex:/\\$/,next:"singleLineComment"},{token:"comment",regex:/$/,next:"start"},{defaultToken:"comment"}],directive:[{token:"constant.other.multiline",regex:/\\/},{token:"constant.other.multiline",regex:/.*\\/},{token:"constant.other",regex:"\\s*<.+?>",next:"start"},{token:"constant.other",regex:'\\s*["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',next:"start"},{token:"constant.other",regex:"\\s*['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",next:"start"},{token:"constant.other",regex:/[^\\\/]+/,next:"start"}]},this.embedRules(x,"doc-",[x.getEndRule("start")]),this.normalizeRules()};N.inherits(a,_),O.c_cppHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(M,O,Q){var N=M("../range").Range,x=function(){};(function(){this.checkOutdent=function(_,p){return!!/^\s+$/.test(_)&&/^\s*\}/.test(p)},this.autoOutdent=function(_,p){var a=_.getLine(p).match(/^(\s*\})/);if(!a)return 0;var u=a[1].length,s=_.findMatchingBracket({row:p,column:u});if(!s||s.row==p)return 0;var l=this.$getIndent(_.getLine(s.row));_.replace(new N(p,0,p,u-1),l)},this.$getIndent=function(_){return _.match(/^\s*/)[0]}}).call(x.prototype),O.MatchingBraceOutdent=x}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(M,O,Q){var N=M("../../lib/oop"),x=M("../../range").Range,_=M("./fold_mode").FoldMode,p=O.FoldMode=function(a){a&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+a.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+a.end)))};N.inherits(p,_),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(a,u,s){var l=a.getLine(s);if(this.singleLineBlockCommentRe.test(l)&&!this.startRegionRe.test(l)&&!this.tripleStarBlockCommentRe.test(l))return"";var r=this._getFoldWidgetBase(a,u,s);return!r&&this.startRegionRe.test(l)?"start":r},this.getFoldWidgetRange=function(a,u,s,l){var r,m=a.getLine(s);if(this.startRegionRe.test(m))return this.getCommentRegionBlock(a,m,s);if(r=m.match(this.foldingStartMarker)){var v=r.index;if(r[1])return this.openingBracketBlock(a,r[1],s,v);var C=a.getCommentFoldRange(s,v+r[0].length,1);return C&&!C.isMultiLine()&&(l?C=this.getSectionRange(a,s):u!="all"&&(C=null)),C}if(u!=="markbegin"&&(r=m.match(this.foldingStopMarker)))return v=r.index+r[0].length,r[1]?this.closingBracketBlock(a,r[1],s,v):a.getCommentFoldRange(s,v,-1)},this.getSectionRange=function(a,u){for(var s=a.getLine(u),l=s.search(/\S/),r=u,m=s.length,v=u+=1,C=a.getLength();++u<C;){var b=(s=a.getLine(u)).search(/\S/);if(b!==-1){if(l>b)break;var E=this.getFoldWidgetRange(a,"all",u);if(E){if(E.start.row<=r)break;if(E.isMultiLine())u=E.end.row;else if(l==b)break}v=u}}return new x(r,m,v,a.getLine(v).length)},this.getCommentRegionBlock=function(a,u,s){for(var l=u.search(/\s*$/),r=a.getLength(),m=s,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,C=1;++s<r;){u=a.getLine(s);var b=v.exec(u);if(b&&(b[1]?C--:C++,!C))break}if(s>m)return new x(m,l,s,u.length)}}.call(p.prototype)}),ace.define("ace/mode/c_cpp",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/c_cpp_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(M,O,Q){var N=M("../lib/oop"),x=M("./text").Mode,_=M("./c_cpp_highlight_rules").c_cppHighlightRules,p=M("./matching_brace_outdent").MatchingBraceOutdent,a=(M("../range").Range,M("./behaviour/cstyle").CstyleBehaviour),u=M("./folding/cstyle").FoldMode,s=function(){this.HighlightRules=_,this.$outdent=new p,this.$behaviour=new a,this.foldingRules=new u};N.inherits(s,x),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(l,r,m){var v=this.$getIndent(r),C=this.getTokenizer().getLineTokens(r,l),b=C.tokens,E=C.state;if(b.length&&b[b.length-1].type=="comment")return v;if(l=="start")(R=r.match(/^.*[\{\(\[]\s*$/))&&(v+=m);else if(l=="doc-start"){if(E=="start")return"";var R;(R=r.match(/^\s*(\/?)\*/))&&(R[1]&&(v+=" "),v+="* ")}return v},this.checkOutdent=function(l,r,m){return this.$outdent.checkOutdent(r,m)},this.autoOutdent=function(l,r,m){this.$outdent.autoOutdent(r,m)},this.$id="ace/mode/c_cpp"}.call(s.prototype),O.Mode=s}),ace.define("ace/mode/glsl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/c_cpp_highlight_rules"],function(M,O,Q){var N=M("../lib/oop"),x=M("./c_cpp_highlight_rules").c_cppHighlightRules,_=function(){var p=this.createKeywordMapper({"variable.language":"this",keyword:"layout|attribute|const|uniform|varying|break|continue|do|for|while|if|else|in|out|inout|float|int|void|bool|true|false|lowp|mediump|highp|precision|invariant|discard|return|mat2|mat3|mat4|vec2|vec3|vec4|ivec2|ivec3|ivec4|bvec2|bvec3|bvec4|sampler2D|samplerCube|struct","constant.language":"radians|degrees|sin|cos|tan|asin|acos|atan|pow|exp|log|exp2|log2|sqrt|inversesqrt|abs|sign|floor|ceil|fract|mod|min|max|clamp|mix|step|smoothstep|length|distance|dot|cross|normalize|faceforward|reflect|refract|matrixCompMult|lessThan|lessThanEqual|greaterThan|greaterThanEqual|equal|notEqual|any|all|not|dFdx|dFdy|fwidth|texture2D|texture2DProj|texture2DLod|texture2DProjLod|textureCube|textureCubeLod|gl_MaxVertexAttribs|gl_MaxVertexUniformVectors|gl_MaxVaryingVectors|gl_MaxVertexTextureImageUnits|gl_MaxCombinedTextureImageUnits|gl_MaxTextureImageUnits|gl_MaxFragmentUniformVectors|gl_MaxDrawBuffers|gl_DepthRangeParameters|gl_DepthRange|gl_Position|gl_PointSize|gl_FragCoord|gl_FrontFacing|gl_PointCoord|gl_FragColor|gl_FragData"},"identifier");this.$rules=new x().$rules,this.$rules.start.forEach(function(a){typeof a.token=="function"&&(a.token=p)})};N.inherits(_,x),O.glslHighlightRules=_}),ace.define("ace/mode/glsl",["require","exports","module","ace/lib/oop","ace/mode/c_cpp","ace/mode/glsl_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(M,O,Q){var N=M("../lib/oop"),x=M("./c_cpp").Mode,_=M("./glsl_highlight_rules").glslHighlightRules,p=M("./matching_brace_outdent").MatchingBraceOutdent,a=(M("../range").Range,M("./behaviour/cstyle").CstyleBehaviour),u=M("./folding/cstyle").FoldMode,s=function(){this.HighlightRules=_,this.$outdent=new p,this.$behaviour=new a,this.foldingRules=new u};N.inherits(s,x),function(){this.$id="ace/mode/glsl"}.call(s.prototype),O.Mode=s}),ace.require(["ace/mode/glsl"],function(M){te&&(te.exports=M)})}).call(this,W(0)(Y))},function(Y,ee,W){(function(te){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(M,O,Q){O.isDark=!0,O.cssClass="ace-monokai",O.cssText=".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}",M("../lib/dom").importCssString(O.cssText,O.cssClass)}),ace.require(["ace/theme/monokai"],function(M){te&&(te.exports=M)})}).call(this,W(0)(Y))},function(Y,ee,W){var te=W(1),M=W(9);typeof(M=M.__esModule?M.default:M)=="string"&&(M=[[Y.i,M,""]]);var O={insert:"html",singleton:!1},Q=(te(M,O),M.locals?M.locals:{});Y.exports=Q},function(Y,ee,W){(ee=W(2)(!1)).push([Y.i,`.ace-monokai {\r
    color: #f9f9f9;\r
    font-size: 14px;\r
}\r
\r
.ace-monokai .ace_entity.ace_name.ace_tag,\r
.ace-monokai .ace_keyword,\r
.ace-monokai .ace_meta.ace_tag,\r
.ace-monokai .ace_storage {\r
    color: #F0640D\r
}\r
\r
.ace-monokai .ace_constant.ace_character,\r
.ace-monokai .ace_constant.ace_other {\r
    color: #5db0d7;\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_selection {\r
    background: #a6e22e\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_bracket {\r
    margin: -1px 0 0 -1px;\r
    border: 1px solid #a6e22e;\r
}\r
\r
.ace-monokai .ace_marker-layer .ace_active-line {\r
    background: #2c2c2c\r
}\r
.ace-monokai .ace_gutter-active-line {\r
    background-color: #2c2c2c\r
}\r
.ace-monokai .ace_marker-layer .ace_selected-word {\r
    border: 1px solid #a6e22e\r
}\r
\r
.ace-monokai .ace_constant.ace_language {\r
    color: #e6db74\r
}\r
.ace-monokai .ace_constant.ace_numeric {\r
    color: #ae81ff\r
}\r
\r
.ace-monokai .ace_gutter {\r
    background: #222;\r
    color: #8F908A;\r
}`,""]),Y.exports=ee},function(Y,ee,W){(function(te){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(M,O,Q){var N=M("../lib/dom"),x=M("../lib/lang"),_=M("../lib/event"),p='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',a=M("../keyboard/hash_handler").HashHandler,u=M("../lib/keys");N.importCssString(p,"ace_searchbox");var s=function(l,r,m){var v=N.createElement("div");N.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"\u200B"],["span",{action:"findNext",class:"ace_searchbtn next"},"\u200B"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],v),this.element=v.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(l),N.importCssString(p,"ace_searchbox",l.container)};(function(){this.setEditor=function(l){l.searchBox=this,l.renderer.scroller.appendChild(this.element),this.editor=l},this.setSession=function(l){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(l){this.searchBox=l.querySelector(".ace_search_form"),this.replaceBox=l.querySelector(".ace_replace_form"),this.searchOption=l.querySelector("[action=searchInSelection]"),this.replaceOption=l.querySelector("[action=toggleReplace]"),this.regExpOption=l.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=l.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=l.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=l.querySelector(".ace_search_counter")},this.$init=function(){var l=this.element;this.$initElements(l);var r=this;_.addListener(l,"mousedown",function(m){setTimeout(function(){r.activeInput.focus()},0),_.stopPropagation(m)}),_.addListener(l,"click",function(m){var v=(m.target||m.srcElement).getAttribute("action");v&&r[v]?r[v]():r.$searchBarKb.commands[v]&&r.$searchBarKb.commands[v].exec(r),_.stopPropagation(m)}),_.addCommandKeyListener(l,function(m,v,C){var b=u.keyCodeToString(C),E=r.$searchBarKb.findKeyCommand(v,b);E&&E.exec&&(E.exec(r),_.stopEvent(m))}),this.$onChange=x.delayedCall(function(){r.find(!1,!1)}),_.addListener(this.searchInput,"input",function(){r.$onChange.schedule(20)}),_.addListener(this.searchInput,"focus",function(){r.activeInput=r.searchInput,r.searchInput.value&&r.highlight()}),_.addListener(this.replaceInput,"focus",function(){r.activeInput=r.replaceInput,r.searchInput.value&&r.highlight()})},this.$closeSearchBarKb=new a([{bindKey:"Esc",name:"closeSearchBar",exec:function(l){l.searchBox.hide()}}]),this.$searchBarKb=new a,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(l){var r=l.isReplace=!l.isReplace;l.replaceBox.style.display=r?"":"none",l.replaceOption.checked=!1,l.$syncOptions(),l.searchInput.focus()},"Ctrl-H|Command-Option-F":function(l){l.editor.getReadOnly()||(l.replaceOption.checked=!0,l.$syncOptions(),l.replaceInput.focus())},"Ctrl-G|Command-G":function(l){l.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(l){l.findPrev()},esc:function(l){setTimeout(function(){l.hide()})},Return:function(l){l.activeInput==l.replaceInput&&l.replace(),l.findNext()},"Shift-Return":function(l){l.activeInput==l.replaceInput&&l.replace(),l.findPrev()},"Alt-Return":function(l){l.activeInput==l.replaceInput&&l.replaceAll(),l.findAll()},Tab:function(l){(l.activeInput==l.replaceInput?l.searchInput:l.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(l){l.regExpOption.checked=!l.regExpOption.checked,l.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(l){l.caseSensitiveOption.checked=!l.caseSensitiveOption.checked,l.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(l){l.wholeWordOption.checked=!l.wholeWordOption.checked,l.$syncOptions()}},{name:"toggleReplace",exec:function(l){l.replaceOption.checked=!l.replaceOption.checked,l.$syncOptions()}},{name:"searchInSelection",exec:function(l){l.searchOption.checked=!l.searchRange,l.setSearchRange(l.searchOption.checked&&l.editor.getSelectionRange()),l.$syncOptions()}}]),this.setSearchRange=function(l){this.searchRange=l,l?this.searchRangeMarker=this.editor.session.addMarker(l,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(l){N.setCssClass(this.replaceOption,"checked",this.searchRange),N.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",N.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),N.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),N.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var r=this.editor.getReadOnly();this.replaceOption.style.display=r?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!r?"":"none",this.find(!1,!1,l)},this.highlight=function(l){this.editor.session.highlight(l||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(l,r,m){var v=!this.editor.find(this.searchInput.value,{skipCurrent:l,backwards:r,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:m,range:this.searchRange})&&this.searchInput.value;N.setCssClass(this.searchBox,"ace_nomatch",v),this.editor._emit("findSearchBox",{match:!v}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var l=this.editor,r=l.$search.$options.re,m=0,v=0;if(r){var C=this.searchRange?l.session.getTextRange(this.searchRange):l.getValue(),b=l.session.doc.positionToIndex(l.selection.anchor);this.searchRange&&(b-=l.session.doc.positionToIndex(this.searchRange.start));for(var E,R=r.lastIndex=0;(E=r.exec(C))&&(m++,(R=E.index)<=b&&v++,!(m>999))&&(E[0]||(r.lastIndex=R+=1,!(R>=C.length))););}this.searchCounter.textContent=v+" of "+(m>999?"999+":m)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var l=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;N.setCssClass(this.searchBox,"ace_nomatch",l),this.editor._emit("findSearchBox",{match:!l}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(l,r){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=r,l&&(this.searchInput.value=l),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var l=document.activeElement;return l==this.searchInput||l==this.replaceInput}}).call(s.prototype),O.SearchBox=s,O.Search=function(l,r){(l.searchBox||new s(l)).show(l.session.getTextRange(),r)}}),ace.require(["ace/ext/searchbox"],function(M){te&&(te.exports=M)})}).call(this,W(0)(Y))},function(Y,ee,W){var te=W(1),M=W(12);typeof(M=M.__esModule?M.default:M)=="string"&&(M=[[Y.i,M,""]]);var O={insert:"html",singleton:!1},Q=(te(M,O),M.locals?M.locals:{});Y.exports=Q},function(Y,ee,W){(ee=W(2)(!1)).push([Y.i,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),ee.push([Y.i,`.captureMenuComponent{position:absolute;padding:7px;z-index:99999;top:10px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas, monaco, monospace;font-size:14px;font-weight:500}.captureMenuComponent.active{visibility:visible;display:block}.captureMenuComponent,.captureMenuComponent:after,.captureMenuComponent:before{box-sizing:content-box}.captureMenuLogComponent{position:absolute;padding:7px;z-index:80000;top:66px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas, monaco, monospace;font-size:14px;font-weight:500}.captureMenuLogComponent.active{visibility:visible;display:block}.captureMenuLogComponent,.captureMenuLogComponent:after,.captureMenuLogComponent:before{box-sizing:content-box}.captureMenuLogComponent span.error{color:red}.canvasListComponent{float:left;width:50%;height:100%}.canvasListComponent [commandName=onCanvasSelection]{vertical-align:center;line-height:40px;white-space:nowrap;text-overflow:ellipsis;width:190px;display:inline-block;overflow:hidden;margin:0px 5px}.canvasListComponent [commandName=onCanvasSelection]:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.canvasListComponent ul{margin:0px;padding:7px;list-style:none;position:absolute;top:54px;left:-2px;width:400px;border:2px solid #222;background-color:#2c2c2c}.canvasListComponent ul li{margin:5px}.canvasListComponent ul li:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.captureMenuActionsComponent{float:left;width:30%;height:100%;margin-top:7.5px}.captureMenuActionsComponent div{float:left}.captureMenuActionsComponent [commandName=onCaptureRequested]{border-radius:50%;background:#2c2c2c;border:2px solid red;width:21px;height:21px}.captureMenuActionsComponent [commandName=onCaptureRequested]:hover{background:red;cursor:pointer;transition:background .3s;-webkit-transition:background .3s;-moz-transition:background .3s}.captureMenuActionsComponent [commandName=onPlayRequested],.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPlayRequested]:before,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{content:'';position:absolute;display:inline-block;margin-top:6px;margin-left:4px;width:7px;height:7px;border-top:2px solid #f9f9f9;border-right:2px solid #f9f9f9;background-color:#f9f9f9;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:-20}.captureMenuActionsComponent [commandName=onPlayRequested]:after,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:after{content:'';position:absolute;display:inline-block;width:8px;height:20px;background-color:#2c2c2c;z-index:-10}.captureMenuActionsComponent [commandName=onPlayRequested]:hover,.captureMenuActionsComponent :hover[commandName=onPlayNextFrameRequested]{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPauseRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPauseRequested]:before{content:'';position:absolute;display:inline-block;width:2px;height:13px;margin-left:12px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:after{content:'';position:absolute;display:inline-block;width:2px;height:13px;margin-left:7px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{background-color:#2c2c2c}.fpsCounterComponent{float:left;width:20%;vertical-align:center;line-height:40px;white-space:nowrap}
`,""]),Y.exports=ee},function(Y,ee,W){var te=W(1),M=W(14);typeof(M=M.__esModule?M.default:M)=="string"&&(M=[[Y.i,M,""]]);var O={insert:"html",singleton:!1},Q=(te(M,O),M.locals?M.locals:{});Y.exports=Q},function(Y,ee,W){(ee=W(2)(!1)).push([Y.i,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),ee.push([Y.i,`.resultViewComponent{position:absolute;z-index:99999;border:1px solid #000;top:0;left:0;bottom:0;right:0;background-color:#222;opacity:1;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas, monaco, monospace;font-size:14px;font-weight:500}.resultViewComponent.active{visibility:visible;display:block}.resultViewComponent,.resultViewComponent:after,.resultViewComponent:before{box-sizing:content-box}.resultViewMenuComponent{font-family:'Montserrat', sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.resultViewMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.resultViewMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.resultViewMenuComponent a.active{background:#222;color:white;font-weight:400;border-bottom:2px solid #F0640D}.resultViewMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.resultViewMenuComponent a:hover.active{color:#F0640D;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.resultViewMenuComponent a.clearSearch{padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.resultViewMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#F0640D}@media all and (max-width: 1024px){.resultViewMenuComponent{padding:0px;position:absolute;overflow-y:visible;top:0px;left:0px;right:0px;bottom:0px;z-index:999999;display:block}.resultViewMenuComponent .resultViewMenuOpen{display:block;visibility:visible}.resultViewMenuComponent li:not(.resultViewMenuSmall){display:none;visibility:hidden}.resultViewMenuComponent li{background:#2c2c2c}.resultViewMenuComponent li.searchContainer{background:#464646}.resultViewMenuComponent a.active{background:#2c2c2c}}.resultViewMenuComponent input{border:0;font-family:'Montserrat', sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:40px;position:relative;top:-1px;box-sizing:border-box}.resultViewMenuComponent input:focus{border:0;outline:0 none}.resultViewMenuComponent .clearSearch{position:relative;background:transparent;display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#F0640D}.resultViewMenuComponent .clearSearch:hover{background:transparent !important}.resultViewMenuComponent ::-webkit-input-placeholder{color:#ccc}.resultViewMenuComponent :-moz-placeholder{color:#ccc}.resultViewMenuComponent ::-moz-placeholder{color:#ccc}.resultViewMenuComponent :-ms-input-placeholder{color:#ccc}.resultViewContentComponent{position:absolute;top:40px;left:0;bottom:0;right:0}.informationColumnLeftComponent{position:absolute;top:0;left:0;bottom:0;right:50%;overflow:auto;overflow-x:hidden;overflow-y:visible}.informationColumnRightComponent{position:absolute;top:0;left:50%;bottom:0;right:0;overflow:auto;overflow-x:hidden;overflow-y:visible}.captureListComponent{position:absolute;top:40px;left:0;bottom:0;right:0;background:#222;z-index:9000;display:none;visibility:hidden;overflow-y:visible;overflow-x:hidden}.captureListComponent.active{display:block;visibility:visible}.captureListComponent .openCaptureFile{border:1px dashed #f9f9f9;display:block;margin:5px;padding:5px;text-align:center;font-style:italic}.captureListComponent .openCaptureFile span{line-height:100%;vertical-align:middle}.captureListComponent ul{margin:0px;padding:0px;list-style:none;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-start}.captureListComponent ul li{margin:5px;border:1px solid #606060}.captureListComponent ul li img{width:295px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0, 25px 0, 25px -25px, 0px 25px;display:block}.captureListComponent ul li span{display:block;text-align:center;border:5px solid #222}.captureListComponent ul li span .captureListItemSave{color:#f9f9f9;font-size:16px;margin-left:10px;position:relative;padding:3px 8px 3px 32px}.captureListComponent ul li span .captureListItemSave:before,.captureListComponent ul li span .captureListItemSave:after{box-sizing:border-box;content:"";position:absolute}.captureListComponent ul li span .captureListItemSave:before{background:#d9d9d9;border-color:#f9f9f9;border-style:solid;border-width:7px 2px 1px;border-radius:1px;height:16px;left:8px;top:5px;width:16px}.captureListComponent ul li span .captureListItemSave:after{background:#f9f9f9;border-color:#d9d9d9;border-style:solid;border-width:1px 1px 1px 4px;height:5px;left:13px;top:5px;width:7px}.captureListComponent ul li:hover{cursor:pointer}.captureListComponent ul li.active span{background:#F0640D;border:5px solid #F0640D}.captureListComponent ul li.active span .captureListItemSave:before{background:#F0640D}.captureListComponent ul li.active span .captureListItemSave:after{border-color:#F0640D}.visualStateListComponent{position:absolute;top:0;left:0;bottom:0;padding:5px;right:80%;overflow-y:visible;overflow-x:hidden}.visualStateListComponent ul{margin:0px;padding:0px;list-style:none}.visualStateListComponent ul li{margin:20px 15px 0px 15px;border:1px solid #606060}.visualStateListComponent ul li img{display:block;padding:0px;box-sizing:border-box;max-height:600px;width:100%;margin:0 auto;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0, 25px 0, 25px -25px, 0px 25px}.visualStateListComponent ul li:hover{cursor:pointer}.visualStateListComponent ul li span{border:5px solid #222;background:#222;box-sizing:border-box;display:inline-block;width:100%;margin:0px;padding:5px;word-wrap:break-word}.visualStateListComponent ul li.active{border:2px solid #F0640D}.commandListComponent{position:absolute;top:0;left:20%;right:40%;bottom:0;color:#d3d3d3}.commandListComponent ul{margin:0px;padding:0px;list-style:none;overflow-y:visible;overflow-x:hidden;height:100%}.commandListComponent ul li{padding:8px}.commandListComponent ul li span{word-wrap:break-word;line-height:22px}.commandListComponent ul li:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.commandListComponent ul li:nth-child(even){background:#2c2c2c}.commandListComponent ul li:nth-child(odd){background:#222}.commandListComponent ul li .important{font-weight:800}.commandListComponent ul li .important.deprecated{color:red}.commandListComponent ul li .important.unused{color:yellow}.commandListComponent ul li .important.disabled{color:gray}.commandListComponent ul li .important.redundant{color:orange}.commandListComponent ul li .important.valid{color:greenyellow}.commandListComponent ul li .marker{font-size:16px;font-weight:900;color:greenyellow}.commandListComponent ul li.active{background:#f37628;color:#222}.commandListComponent ul li.drawCall{background:#5db0d7;color:#222}.commandListComponent ul li a{margin-left:5px;margin-right:5px;color:#5db0d7;background:#222;padding:5px;font-weight:900;display:inline-block}.commandDetailComponent{position:absolute;top:0;left:60%;right:0;bottom:0;overflow-y:visible;overflow-x:hidden}.jsonGroupComponent{display:block;margin:10px;padding:10px;padding-bottom:5px}.jsonGroupComponent .jsonGroupComponentTitle{display:block;font-size:16px;color:#5db0d7;border-bottom:1px solid #5db0d7;padding-bottom:5px;margin-bottom:5px;text-transform:capitalize}.jsonGroupComponent ul{margin:0px;padding:0px;list-style:none}.jsonGroupComponent ul li:nth-child(even){background:#222}.jsonGroupComponent ul li:nth-child(odd){background:#222}.jsonItemComponentKey{color:#F0640D}.jsonItemComponentValue{white-space:pre-wrap}.jsonItemImageHolder{width:50%;margin:auto}.jsonItemImageHolder .jsonItemImage{margin:5px;display:block;border:1px solid #606060;width:100%}.jsonItemImageHolder .jsonItemImage img{width:100%;display:block;margin:auto;max-width:256px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0, 25px 0, 25px -25px, 0px 25px}.jsonItemImageHolder .jsonItemImage span{margin:0px;padding:5px;word-wrap:break-word;display:inline-block;width:100%;box-sizing:border-box}[commandName=onOpenSourceClicked]:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.jsonVisualStateItemComponent{text-align:center;padding:10px}.jsonVisualStateItemComponent img{background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0, 25px 0, 25px -25px, 0px 25px;border:1px solid #606060;margin:5px;width:100%;max-width:512px;max-height:800px}.jsonVisualStateItemComponent span{display:block}.jsonContentComponent{position:absolute;top:0;left:0;right:0;bottom:0;padding:10px;overflow-y:visible;overflow-x:hidden}.jsonItemComponentValue{word-break:break-all;white-space:normal}.jsonSourceItemComponentOpen{font-weight:bold;color:#5db0d7;text-decoration:underline}.sourceCodeMenuComponentContainer{position:absolute;left:0;top:0;right:40%}.sourceCodeMenuComponent{font-family:'Montserrat', sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.sourceCodeMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.sourceCodeMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.sourceCodeMenuComponent a.active{background:#222;color:white;font-weight:400;border-bottom:2px solid #F0640D}.sourceCodeMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.sourceCodeMenuComponent a:hover.active{color:#F0640D;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.sourceCodeMenuComponent a.clearSearch{display:inline-block;padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.sourceCodeMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#F0640D}.sourceCodeMenuComponent input{border:0;font-family:'Montserrat', sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:100%;position:relative;top:-1px;box-sizing:border-box}.sourceCodeMenuComponent input:focus{border:0;outline:0 none}.sourceCodeMenuComponent .clearSearch{position:relative;background:transparent;display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#F0640D}.sourceCodeMenuComponent .clearSearch:hover{background:transparent !important}.sourceCodeMenuComponent ::-webkit-input-placeholder{color:#ccc}.sourceCodeMenuComponent :-moz-placeholder{color:#ccc}.sourceCodeMenuComponent ::-moz-placeholder{color:#ccc}.sourceCodeMenuComponent :-ms-input-placeholder{color:#ccc}.sourceCodeComponent{position:absolute;top:42px;left:0;bottom:0;right:40%;background:#222;z-index:9000;overflow-x:visible;overflow:auto}.sourceCodeComponent .sourceCodeComponentTitle{font-size:16px;font-weight:800;line-height:50px;color:#F0640D;padding:1em;margin:.5em 0}
`,""]),Y.exports=ee},function(Y,ee,W){W.r(ee),W.d(ee,"EmbeddedFrontend",function(){return Ke}),W.d(ee,"Spector",function(){return br});var te,M=function(){function i(){}return i.isBuildableProgram=function(e){return!!e&&!!e[this.rebuildProgramFunctionName]},i.rebuildProgram=function(e,t,o,c,y){this.isBuildableProgram(e)&&e[this.rebuildProgramFunctionName](t,o,c,y)},i.rebuildProgramFunctionName="__SPECTOR_rebuildProgram",i}();(function(i){i[i.noLog=0]="noLog",i[i.error=1]="error",i[i.warning=2]="warning",i[i.info=3]="info"})(te||(te={}));var O=function(){function i(){}return i.error=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.level>0&&console.error(e,t)},i.warn=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.level>1&&console.warn(e,t)},i.info=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.level>2&&console.log(e,t)},i.level=te.warning,i}(),Q=function(){function i(){this.callbacks=[],this.counter=-1}return i.prototype.add=function(e,t){return this.counter++,t&&(e=e.bind(t)),this.callbacks[this.counter]=e,this.counter},i.prototype.remove=function(e){delete this.callbacks[e]},i.prototype.clear=function(){this.callbacks={}},i.prototype.trigger=function(e){for(var t in this.callbacks)this.callbacks.hasOwnProperty(t)&&this.callbacks[t](e)},i}(),N=function(){function i(){if(window.performance&&window.performance.now)this.nowFunction=this.dateBasedPerformanceNow.bind(this);else{var e=new Date;this.nowFunction=e.getTime.bind(e)}}return i.prototype.dateBasedPerformanceNow=function(){return performance.timing.navigationStart+performance.now()},Object.defineProperty(i,"now",{get:function(){return i.instance.nowFunction()},enumerable:!0,configurable:!0}),i.instance=new i,i}(),x,_=function(){function i(e){this.options=e}return i.prototype.appendAnalysis=function(e){e.analyses=e.analyses||[];var t=this.getAnalysis(e);e.analyses.push(t)},i.prototype.getAnalysis=function(e){var t={analyserName:this.analyserName};return this.appendToAnalysis(e,t),t},i}(),p=(x=function(i,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var c in o)o.hasOwnProperty(c)&&(t[c]=o[c])})(i,e)},function(i,e){function t(){this.constructor=i}x(i,e),i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),a=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return p(e,i),Object.defineProperty(e.prototype,"analyserName",{get:function(){return e.analyserName},enumerable:!0,configurable:!0}),e.prototype.appendToAnalysis=function(t,o){if(t.commands){for(var c={},y=0,D=t.commands;y<D.length;y++){var V=D[y];c[V.name]=c[V.name]||0,c[V.name]++}var Z=Object.keys(c).map(function(ve){return[ve,c[ve]]});Z.sort(function(ve,Ae){var Ee=Ae[1]-ve[1];return Ee===0?ve[0].localeCompare(Ae[0]):Ee});for(var re=0,ae=Z;re<ae.length;re++){var le=ae[re];o[le[0]]=le[1]}}},e.analyserName="Commands",e}(_),u=["drawArrays","drawElements","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","drawRangeElements"],s=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),l=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return s(e,i),Object.defineProperty(e.prototype,"analyserName",{get:function(){return e.analyserName},enumerable:!0,configurable:!0}),e.prototype.appendToAnalysis=function(t,o){if(t.commands){o.total=t.commands.length,o.draw=0,o.clear=0;for(var c=0,y=t.commands;c<y.length;c++){var D=y[c];D.name==="clear"?o.clear++:u.indexOf(D.name)>-1&&o.draw++}}},e.analyserName="CommandsSummary",e}(_),r=function(){function i(){}return i.isWebGlConstant=function(e){return v[e]!==null&&v[e]!==void 0},i.stringifyWebGlConstant=function(e,t){if(e===0)return this.zeroMeaningByCommand[t]||"0";if(e===1)return this.oneMeaningByCommand[t]||"1";var o=v[e];return o?o.name:e+""},i.DEPTH_BUFFER_BIT={name:"DEPTH_BUFFER_BIT",value:256,description:"Passed to clear to clear the current depth buffer."},i.STENCIL_BUFFER_BIT={name:"STENCIL_BUFFER_BIT",value:1024,description:"Passed to clear to clear the current stencil buffer."},i.COLOR_BUFFER_BIT={name:"COLOR_BUFFER_BIT",value:16384,description:"Passed to clear to clear the current color buffer."},i.POINTS={name:"POINTS",value:0,description:"Passed to drawElements or drawArrays to draw single points."},i.LINES={name:"LINES",value:1,description:"Passed to drawElements or drawArrays to draw lines. Each vertex connects to the one after it."},i.LINE_LOOP={name:"LINE_LOOP",value:2,description:"Passed to drawElements or drawArrays to draw lines. Each set of two vertices is treated as a separate line segment."},i.LINE_STRIP={name:"LINE_STRIP",value:3,description:"Passed to drawElements or drawArrays to draw a connected group of line segments from the first vertex to the last."},i.TRIANGLES={name:"TRIANGLES",value:4,description:"Passed to drawElements or drawArrays to draw triangles. Each set of three vertices creates a separate triangle."},i.TRIANGLE_STRIP={name:"TRIANGLE_STRIP",value:5,description:"Passed to drawElements or drawArrays to draw a connected group of triangles."},i.TRIANGLE_FAN={name:"TRIANGLE_FAN",value:6,description:"Passed to drawElements or drawArrays to draw a connected group of triangles. Each vertex connects to the previous and the first vertex in the fan."},i.ZERO={name:"ZERO",value:0,description:"Passed to blendFunc or blendFuncSeparate to turn off a component."},i.ONE={name:"ONE",value:1,description:"Passed to blendFunc or blendFuncSeparate to turn on a component."},i.SRC_COLOR={name:"SRC_COLOR",value:768,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source elements color."},i.ONE_MINUS_SRC_COLOR={name:"ONE_MINUS_SRC_COLOR",value:769,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source elements color."},i.SRC_ALPHA={name:"SRC_ALPHA",value:770,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source's alpha."},i.ONE_MINUS_SRC_ALPHA={name:"ONE_MINUS_SRC_ALPHA",value:771,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source's alpha."},i.DST_ALPHA={name:"DST_ALPHA",value:772,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's alpha."},i.ONE_MINUS_DST_ALPHA={name:"ONE_MINUS_DST_ALPHA",value:773,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's alpha."},i.DST_COLOR={name:"DST_COLOR",value:774,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's color."},i.ONE_MINUS_DST_COLOR={name:"ONE_MINUS_DST_COLOR",value:775,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's color."},i.SRC_ALPHA_SATURATE={name:"SRC_ALPHA_SATURATE",value:776,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the minimum of source's alpha or one minus the destination's alpha."},i.CONSTANT_COLOR={name:"CONSTANT_COLOR",value:32769,description:"Passed to blendFunc or blendFuncSeparate to specify a constant color blend function."},i.ONE_MINUS_CONSTANT_COLOR={name:"ONE_MINUS_CONSTANT_COLOR",value:32770,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant color blend function."},i.CONSTANT_ALPHA={name:"CONSTANT_ALPHA",value:32771,description:"Passed to blendFunc or blendFuncSeparate to specify a constant alpha blend function."},i.ONE_MINUS_CONSTANT_ALPHA={name:"ONE_MINUS_CONSTANT_ALPHA",value:32772,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant alpha blend function."},i.FUNC_ADD={name:"FUNC_ADD",value:32774,description:"Passed to blendEquation or blendEquationSeparate to set an addition blend function."},i.FUNC_SUBSTRACT={name:"FUNC_SUBSTRACT",value:32778,description:"Passed to blendEquation or blendEquationSeparate to specify a subtraction blend function (source - destination)."},i.FUNC_REVERSE_SUBTRACT={name:"FUNC_REVERSE_SUBTRACT",value:32779,description:"Passed to blendEquation or blendEquationSeparate to specify a reverse subtraction blend function (destination - source)."},i.BLEND_EQUATION={name:"BLEND_EQUATION",value:32777,description:"Passed to getParameter to get the current RGB blend function."},i.BLEND_EQUATION_RGB={name:"BLEND_EQUATION_RGB",value:32777,description:"Passed to getParameter to get the current RGB blend function. Same as BLEND_EQUATION"},i.BLEND_EQUATION_ALPHA={name:"BLEND_EQUATION_ALPHA",value:34877,description:"Passed to getParameter to get the current alpha blend function. Same as BLEND_EQUATION"},i.BLEND_DST_RGB={name:"BLEND_DST_RGB",value:32968,description:"Passed to getParameter to get the current destination RGB blend function."},i.BLEND_SRC_RGB={name:"BLEND_SRC_RGB",value:32969,description:"Passed to getParameter to get the current destination RGB blend function."},i.BLEND_DST_ALPHA={name:"BLEND_DST_ALPHA",value:32970,description:"Passed to getParameter to get the current destination alpha blend function."},i.BLEND_SRC_ALPHA={name:"BLEND_SRC_ALPHA",value:32971,description:"Passed to getParameter to get the current source alpha blend function."},i.BLEND_COLOR={name:"BLEND_COLOR",value:32773,description:"Passed to getParameter to return a the current blend color."},i.ARRAY_BUFFER_BINDING={name:"ARRAY_BUFFER_BINDING",value:34964,description:"Passed to getParameter to get the array buffer binding."},i.ELEMENT_ARRAY_BUFFER_BINDING={name:"ELEMENT_ARRAY_BUFFER_BINDING",value:34965,description:"Passed to getParameter to get the current element array buffer."},i.LINE_WIDTH={name:"LINE_WIDTH",value:2849,description:"Passed to getParameter to get the current lineWidth (set by the lineWidth method)."},i.ALIASED_POINT_SIZE_RANGE={name:"ALIASED_POINT_SIZE_RANGE",value:33901,description:"Passed to getParameter to get the current size of a point drawn with gl.POINTS"},i.ALIASED_LINE_WIDTH_RANGE={name:"ALIASED_LINE_WIDTH_RANGE",value:33902,description:"Passed to getParameter to get the range of available widths for a line. Returns a length-2 array with the lo value at 0, and hight at 1."},i.CULL_FACE_MODE={name:"CULL_FACE_MODE",value:2885,description:"Passed to getParameter to get the current value of cullFace. Should return FRONT, BACK, or FRONT_AND_BACK"},i.FRONT_FACE={name:"FRONT_FACE",value:2886,description:"Passed to getParameter to determine the current value of frontFace. Should return CW or CCW."},i.DEPTH_RANGE={name:"DEPTH_RANGE",value:2928,description:"Passed to getParameter to return a length-2 array of floats giving the current depth range."},i.DEPTH_WRITEMASK={name:"DEPTH_WRITEMASK",value:2930,description:"Passed to getParameter to determine if the depth write mask is enabled."},i.DEPTH_CLEAR_VALUE={name:"DEPTH_CLEAR_VALUE",value:2931,description:"Passed to getParameter to determine the current depth clear value."},i.DEPTH_FUNC={name:"DEPTH_FUNC",value:2932,description:"Passed to getParameter to get the current depth function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},i.STENCIL_CLEAR_VALUE={name:"STENCIL_CLEAR_VALUE",value:2961,description:"Passed to getParameter to get the value the stencil will be cleared to."},i.STENCIL_FUNC={name:"STENCIL_FUNC",value:2962,description:"Passed to getParameter to get the current stencil function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},i.STENCIL_FAIL={name:"STENCIL_FAIL",value:2964,description:"Passed to getParameter to get the current stencil fail function. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},i.STENCIL_PASS_DEPTH_FAIL={name:"STENCIL_PASS_DEPTH_FAIL",value:2965,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test fail. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},i.STENCIL_PASS_DEPTH_PASS={name:"STENCIL_PASS_DEPTH_PASS",value:2966,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test pass. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},i.STENCIL_REF={name:"STENCIL_REF",value:2967,description:"Passed to getParameter to get the reference value used for stencil tests."},i.STENCIL_VALUE_MASK={name:"STENCIL_VALUE_MASK",value:2963,description:"\xA0"},i.STENCIL_WRITEMASK={name:"STENCIL_WRITEMASK",value:2968,description:"\xA0"},i.STENCIL_BACK_FUNC={name:"STENCIL_BACK_FUNC",value:34816,description:"\xA0"},i.STENCIL_BACK_FAIL={name:"STENCIL_BACK_FAIL",value:34817,description:"\xA0"},i.STENCIL_BACK_PASS_DEPTH_FAIL={name:"STENCIL_BACK_PASS_DEPTH_FAIL",value:34818,description:"\xA0"},i.STENCIL_BACK_PASS_DEPTH_PASS={name:"STENCIL_BACK_PASS_DEPTH_PASS",value:34819,description:"\xA0"},i.STENCIL_BACK_REF={name:"STENCIL_BACK_REF",value:36003,description:"\xA0"},i.STENCIL_BACK_VALUE_MASK={name:"STENCIL_BACK_VALUE_MASK",value:36004,description:"\xA0"},i.STENCIL_BACK_WRITEMASK={name:"STENCIL_BACK_WRITEMASK",value:36005,description:"\xA0"},i.VIEWPORT={name:"VIEWPORT",value:2978,description:"Returns an Int32Array with four elements for the current viewport dimensions."},i.SCISSOR_BOX={name:"SCISSOR_BOX",value:3088,description:"Returns an Int32Array with four elements for the current scissor box dimensions."},i.COLOR_CLEAR_VALUE={name:"COLOR_CLEAR_VALUE",value:3106,description:"\xA0"},i.COLOR_WRITEMASK={name:"COLOR_WRITEMASK",value:3107,description:"\xA0"},i.UNPACK_ALIGNMENT={name:"UNPACK_ALIGNMENT",value:3317,description:"\xA0"},i.PACK_ALIGNMENT={name:"PACK_ALIGNMENT",value:3333,description:"\xA0"},i.MAX_TEXTURE_SIZE={name:"MAX_TEXTURE_SIZE",value:3379,description:"\xA0"},i.MAX_VIEWPORT_DIMS={name:"MAX_VIEWPORT_DIMS",value:3386,description:"\xA0"},i.SUBPIXEL_BITS={name:"SUBPIXEL_BITS",value:3408,description:"\xA0"},i.RED_BITS={name:"RED_BITS",value:3410,description:"\xA0"},i.GREEN_BITS={name:"GREEN_BITS",value:3411,description:"\xA0"},i.BLUE_BITS={name:"BLUE_BITS",value:3412,description:"\xA0"},i.ALPHA_BITS={name:"ALPHA_BITS",value:3413,description:"\xA0"},i.DEPTH_BITS={name:"DEPTH_BITS",value:3414,description:"\xA0"},i.STENCIL_BITS={name:"STENCIL_BITS",value:3415,description:"\xA0"},i.POLYGON_OFFSET_UNITS={name:"POLYGON_OFFSET_UNITS",value:10752,description:"\xA0"},i.POLYGON_OFFSET_FACTOR={name:"POLYGON_OFFSET_FACTOR",value:32824,description:"\xA0"},i.TEXTURE_BINDING_2D={name:"TEXTURE_BINDING_2D",value:32873,description:"\xA0"},i.SAMPLE_BUFFERS={name:"SAMPLE_BUFFERS",value:32936,description:"\xA0"},i.SAMPLES={name:"SAMPLES",value:32937,description:"\xA0"},i.SAMPLE_COVERAGE_VALUE={name:"SAMPLE_COVERAGE_VALUE",value:32938,description:"\xA0"},i.SAMPLE_COVERAGE_INVERT={name:"SAMPLE_COVERAGE_INVERT",value:32939,description:"\xA0"},i.COMPRESSED_TEXTURE_FORMATS={name:"COMPRESSED_TEXTURE_FORMATS",value:34467,description:"\xA0"},i.VENDOR={name:"VENDOR",value:7936,description:"\xA0"},i.RENDERER={name:"RENDERER",value:7937,description:"\xA0"},i.VERSION={name:"VERSION",value:7938,description:"\xA0"},i.IMPLEMENTATION_COLOR_READ_TYPE={name:"IMPLEMENTATION_COLOR_READ_TYPE",value:35738,description:"\xA0"},i.IMPLEMENTATION_COLOR_READ_FORMAT={name:"IMPLEMENTATION_COLOR_READ_FORMAT",value:35739,description:"\xA0"},i.BROWSER_DEFAULT_WEBGL={name:"BROWSER_DEFAULT_WEBGL",value:37444,description:"\xA0"},i.STATIC_DRAW={name:"STATIC_DRAW",value:35044,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and not change often."},i.STREAM_DRAW={name:"STREAM_DRAW",value:35040,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to not be used often."},i.DYNAMIC_DRAW={name:"DYNAMIC_DRAW",value:35048,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and change often."},i.ARRAY_BUFFER={name:"ARRAY_BUFFER",value:34962,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},i.ELEMENT_ARRAY_BUFFER={name:"ELEMENT_ARRAY_BUFFER",value:34963,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},i.BUFFER_SIZE={name:"BUFFER_SIZE",value:34660,description:"Passed to getBufferParameter to get a buffer's size."},i.BUFFER_USAGE={name:"BUFFER_USAGE",value:34661,description:"Passed to\xA0getBufferParameter to get the hint for the buffer passed in when it was created."},i.CURRENT_VERTEX_ATTRIB={name:"CURRENT_VERTEX_ATTRIB",value:34342,description:"Passed to getVertexAttrib to read back the current vertex attribute."},i.VERTEX_ATTRIB_ARRAY_ENABLED={name:"VERTEX_ATTRIB_ARRAY_ENABLED",value:34338,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_SIZE={name:"VERTEX_ATTRIB_ARRAY_SIZE",value:34339,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_STRIDE={name:"VERTEX_ATTRIB_ARRAY_STRIDE",value:34340,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_TYPE={name:"VERTEX_ATTRIB_ARRAY_TYPE",value:34341,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_NORMALIZED={name:"VERTEX_ATTRIB_ARRAY_NORMALIZED",value:34922,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_POINTER={name:"VERTEX_ATTRIB_ARRAY_POINTER",value:34373,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING={name:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",value:34975,description:"\xA0"},i.CULL_FACE={name:"CULL_FACE",value:2884,description:"Passed to enable/disable to turn on/off culling. Can also be used with getParameter to find the current culling method."},i.FRONT={name:"FRONT",value:1028,description:"Passed to cullFace to specify that only front faces should be drawn."},i.BACK={name:"BACK",value:1029,description:"Passed to cullFace to specify that only back faces should be drawn."},i.FRONT_AND_BACK={name:"FRONT_AND_BACK",value:1032,description:"Passed to\xA0cullFace to specify that front and back faces should be drawn."},i.BLEND={name:"BLEND",value:3042,description:"Passed to enable/disable to turn on/off blending. Can also be used with getParameter to find the current blending method."},i.DEPTH_TEST={name:"DEPTH_TEST",value:2929,description:"Passed to enable/disable to turn on/off the depth test. Can also be used with getParameter to query the depth test."},i.DITHER={name:"DITHER",value:3024,description:"Passed to enable/disable to turn on/off dithering. Can also be used with getParameter to find the current dithering method."},i.POLYGON_OFFSET_FILL={name:"POLYGON_OFFSET_FILL",value:32823,description:"Passed to enable/disable to turn on/off the polygon offset. Useful for rendering hidden-line images, decals, and or solids with highlighted edges. Can also be used with getParameter to query the scissor test."},i.SAMPLE_ALPHA_TO_COVERAGE={name:"SAMPLE_ALPHA_TO_COVERAGE",value:32926,description:"Passed to enable/disable to turn on/off the alpha to coverage. Used in multi-sampling alpha channels."},i.SAMPLE_COVERAGE={name:"SAMPLE_COVERAGE",value:32928,description:"Passed to enable/disable to turn on/off the sample coverage. Used in multi-sampling."},i.SCISSOR_TEST={name:"SCISSOR_TEST",value:3089,description:"Passed to enable/disable to turn on/off the scissor test. Can also be used with getParameter to query the scissor test."},i.STENCIL_TEST={name:"STENCIL_TEST",value:2960,description:"Passed to enable/disable to turn on/off the stencil test. Can also be used with getParameter to query the stencil test."},i.NO_ERROR={name:"NO_ERROR",value:0,description:"Returned from getError."},i.INVALID_ENUM={name:"INVALID_ENUM",value:1280,description:"Returned from getError."},i.INVALID_VALUE={name:"INVALID_VALUE",value:1281,description:"Returned from getError."},i.INVALID_OPERATION={name:"INVALID_OPERATION",value:1282,description:"Returned from getError."},i.OUT_OF_MEMORY={name:"OUT_OF_MEMORY",value:1285,description:"Returned from getError."},i.CONTEXT_LOST_WEBGL={name:"CONTEXT_LOST_WEBGL",value:37442,description:"Returned from getError."},i.CW={name:"CW",value:2304,description:"Passed to frontFace to specify the front face of a polygon is drawn in the clockwise direction"},i.CCW={name:"CCW",value:2305,description:"Passed to frontFace to specify the front face of a polygon is drawn in the counter clockwise direction"},i.DONT_CARE={name:"DONT_CARE",value:4352,description:"There is no preference for this behavior."},i.FASTEST={name:"FASTEST",value:4353,description:"The most efficient behavior should be used."},i.NICEST={name:"NICEST",value:4354,description:"The most correct or the highest quality option should be used."},i.GENERATE_MIPMAP_HINT={name:"GENERATE_MIPMAP_HINT",value:33170,description:"Hint for the quality of filtering when generating mipmap images with WebGLRenderingContext.generateMipmap()."},i.BYTE={name:"BYTE",value:5120,description:"\xA0"},i.UNSIGNED_BYTE={name:"UNSIGNED_BYTE",value:5121,description:"\xA0"},i.SHORT={name:"SHORT",value:5122,description:"\xA0"},i.UNSIGNED_SHORT={name:"UNSIGNED_SHORT",value:5123,description:"\xA0"},i.INT={name:"INT",value:5124,description:"\xA0"},i.UNSIGNED_INT={name:"UNSIGNED_INT",value:5125,description:"\xA0"},i.FLOAT={name:"FLOAT",value:5126,description:"\xA0"},i.DEPTH_COMPONENT={name:"DEPTH_COMPONENT",value:6402,description:"\xA0"},i.ALPHA={name:"ALPHA",value:6406,description:"\xA0"},i.RGB={name:"RGB",value:6407,description:"\xA0"},i.RGBA={name:"RGBA",value:6408,description:"\xA0"},i.LUMINANCE={name:"LUMINANCE",value:6409,description:"\xA0"},i.LUMINANCE_ALPHA={name:"LUMINANCE_ALPHA",value:6410,description:"\xA0"},i.UNSIGNED_SHORT_4_4_4_4={name:"UNSIGNED_SHORT_4_4_4_4",value:32819,description:"\xA0"},i.UNSIGNED_SHORT_5_5_5_1={name:"UNSIGNED_SHORT_5_5_5_1",value:32820,description:"\xA0"},i.UNSIGNED_SHORT_5_6_5={name:"UNSIGNED_SHORT_5_6_5",value:33635,description:"\xA0"},i.FRAGMENT_SHADER={name:"FRAGMENT_SHADER",value:35632,description:"Passed to createShader to define a fragment shader."},i.VERTEX_SHADER={name:"VERTEX_SHADER",value:35633,description:"Passed to createShader to define a vertex shader"},i.COMPILE_STATUS={name:"COMPILE_STATUS",value:35713,description:"Passed to getShaderParamter to get the status of the compilation. Returns false if the shader was not compiled. You can then query getShaderInfoLog to find the exact error"},i.DELETE_STATUS={name:"DELETE_STATUS",value:35712,description:"Passed to getShaderParamter to determine if a shader was deleted via deleteShader. Returns true if it was, false otherwise."},i.LINK_STATUS={name:"LINK_STATUS",value:35714,description:"Passed to getProgramParameter after calling linkProgram to determine if a program was linked correctly. Returns false if there were errors. Use getProgramInfoLog to find the exact error."},i.VALIDATE_STATUS={name:"VALIDATE_STATUS",value:35715,description:"Passed to getProgramParameter after calling validateProgram to determine if it is valid. Returns false if errors were found."},i.ATTACHED_SHADERS={name:"ATTACHED_SHADERS",value:35717,description:"Passed to getProgramParameter after calling attachShader to determine if the shader was attached correctly. Returns false if errors occurred."},i.ACTIVE_ATTRIBUTES={name:"ACTIVE_ATTRIBUTES",value:35721,description:"Passed to getProgramParameter to get the number of attributes active in a program."},i.ACTIVE_UNIFORMS={name:"ACTIVE_UNIFORMS",value:35718,description:"Passed to getProgramParamter to get the number of uniforms active in a program."},i.MAX_VERTEX_ATTRIBS={name:"MAX_VERTEX_ATTRIBS",value:34921,description:"\xA0"},i.MAX_VERTEX_UNIFORM_VECTORS={name:"MAX_VERTEX_UNIFORM_VECTORS",value:36347,description:"\xA0"},i.MAX_VARYING_VECTORS={name:"MAX_VARYING_VECTORS",value:36348,description:"\xA0"},i.MAX_COMBINED_TEXTURE_IMAGE_UNITS={name:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",value:35661,description:"\xA0"},i.MAX_VERTEX_TEXTURE_IMAGE_UNITS={name:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",value:35660,description:"\xA0"},i.MAX_TEXTURE_IMAGE_UNITS={name:"MAX_TEXTURE_IMAGE_UNITS",value:34930,description:"Implementation dependent number of maximum texture units. At least 8."},i.MAX_FRAGMENT_UNIFORM_VECTORS={name:"MAX_FRAGMENT_UNIFORM_VECTORS",value:36349,description:"\xA0"},i.SHADER_TYPE={name:"SHADER_TYPE",value:35663,description:"\xA0"},i.SHADING_LANGUAGE_VERSION={name:"SHADING_LANGUAGE_VERSION",value:35724,description:"\xA0"},i.CURRENT_PROGRAM={name:"CURRENT_PROGRAM",value:35725,description:"\xA0"},i.NEVER={name:"NEVER",value:512,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will never pass. i.e. Nothing will be drawn."},i.ALWAYS={name:"ALWAYS",value:519,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will always pass. i.e. Pixels will be drawn in the order they are drawn."},i.LESS={name:"LESS",value:513,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than the stored value."},i.EQUAL={name:"EQUAL",value:514,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is equals to the stored value."},i.LEQUAL={name:"LEQUAL",value:515,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than or equal to the stored value."},i.GREATER={name:"GREATER",value:516,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than the stored value."},i.GEQUAL={name:"GEQUAL",value:518,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than or equal to the stored value."},i.NOTEQUAL={name:"NOTEQUAL",value:517,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is not equal to the stored value."},i.KEEP={name:"KEEP",value:7680,description:"\xA0"},i.REPLACE={name:"REPLACE",value:7681,description:"\xA0"},i.INCR={name:"INCR",value:7682,description:"\xA0"},i.DECR={name:"DECR",value:7683,description:"\xA0"},i.INVERT={name:"INVERT",value:5386,description:"\xA0"},i.INCR_WRAP={name:"INCR_WRAP",value:34055,description:"\xA0"},i.DECR_WRAP={name:"DECR_WRAP",value:34056,description:"\xA0"},i.NEAREST={name:"NEAREST",value:9728,description:"\xA0"},i.LINEAR={name:"LINEAR",value:9729,description:"\xA0"},i.NEAREST_MIPMAP_NEAREST={name:"NEAREST_MIPMAP_NEAREST",value:9984,description:"\xA0"},i.LINEAR_MIPMAP_NEAREST={name:"LINEAR_MIPMAP_NEAREST",value:9985,description:"\xA0"},i.NEAREST_MIPMAP_LINEAR={name:"NEAREST_MIPMAP_LINEAR",value:9986,description:"\xA0"},i.LINEAR_MIPMAP_LINEAR={name:"LINEAR_MIPMAP_LINEAR",value:9987,description:"\xA0"},i.TEXTURE_MAG_FILTER={name:"TEXTURE_MAG_FILTER",value:10240,description:"\xA0"},i.TEXTURE_MIN_FILTER={name:"TEXTURE_MIN_FILTER",value:10241,description:"\xA0"},i.TEXTURE_WRAP_S={name:"TEXTURE_WRAP_S",value:10242,description:"\xA0"},i.TEXTURE_WRAP_T={name:"TEXTURE_WRAP_T",value:10243,description:"\xA0"},i.TEXTURE_2D={name:"TEXTURE_2D",value:3553,description:"\xA0"},i.TEXTURE={name:"TEXTURE",value:5890,description:"\xA0"},i.TEXTURE_CUBE_MAP={name:"TEXTURE_CUBE_MAP",value:34067,description:"\xA0"},i.TEXTURE_BINDING_CUBE_MAP={name:"TEXTURE_BINDING_CUBE_MAP",value:34068,description:"\xA0"},i.TEXTURE_CUBE_MAP_POSITIVE_X={name:"TEXTURE_CUBE_MAP_POSITIVE_X",value:34069,description:"\xA0"},i.TEXTURE_CUBE_MAP_NEGATIVE_X={name:"TEXTURE_CUBE_MAP_NEGATIVE_X",value:34070,description:"\xA0"},i.TEXTURE_CUBE_MAP_POSITIVE_Y={name:"TEXTURE_CUBE_MAP_POSITIVE_Y",value:34071,description:"\xA0"},i.TEXTURE_CUBE_MAP_NEGATIVE_Y={name:"TEXTURE_CUBE_MAP_NEGATIVE_Y",value:34072,description:"\xA0"},i.TEXTURE_CUBE_MAP_POSITIVE_Z={name:"TEXTURE_CUBE_MAP_POSITIVE_Z",value:34073,description:"\xA0"},i.TEXTURE_CUBE_MAP_NEGATIVE_Z={name:"TEXTURE_CUBE_MAP_NEGATIVE_Z",value:34074,description:"\xA0"},i.MAX_CUBE_MAP_TEXTURE_SIZE={name:"MAX_CUBE_MAP_TEXTURE_SIZE",value:34076,description:"\xA0"},i.TEXTURE0={name:"TEXTURE0",value:33984,description:"A texture unit."},i.TEXTURE1={name:"TEXTURE1",value:33985,description:"A texture unit."},i.TEXTURE2={name:"TEXTURE2",value:33986,description:"A texture unit."},i.TEXTURE3={name:"TEXTURE3",value:33987,description:"A texture unit."},i.TEXTURE4={name:"TEXTURE4",value:33988,description:"A texture unit."},i.TEXTURE5={name:"TEXTURE5",value:33989,description:"A texture unit."},i.TEXTURE6={name:"TEXTURE6",value:33990,description:"A texture unit."},i.TEXTURE7={name:"TEXTURE7",value:33991,description:"A texture unit."},i.TEXTURE8={name:"TEXTURE8",value:33992,description:"A texture unit."},i.TEXTURE9={name:"TEXTURE9",value:33993,description:"A texture unit."},i.TEXTURE10={name:"TEXTURE10",value:33994,description:"A texture unit."},i.TEXTURE11={name:"TEXTURE11",value:33995,description:"A texture unit."},i.TEXTURE12={name:"TEXTURE12",value:33996,description:"A texture unit."},i.TEXTURE13={name:"TEXTURE13",value:33997,description:"A texture unit."},i.TEXTURE14={name:"TEXTURE14",value:33998,description:"A texture unit."},i.TEXTURE15={name:"TEXTURE15",value:33999,description:"A texture unit."},i.TEXTURE16={name:"TEXTURE16",value:34e3,description:"A texture unit."},i.TEXTURE17={name:"TEXTURE17",value:34001,description:"A texture unit."},i.TEXTURE18={name:"TEXTURE18",value:34002,description:"A texture unit."},i.TEXTURE19={name:"TEXTURE19",value:34003,description:"A texture unit."},i.TEXTURE20={name:"TEXTURE20",value:34004,description:"A texture unit."},i.TEXTURE21={name:"TEXTURE21",value:34005,description:"A texture unit."},i.TEXTURE22={name:"TEXTURE22",value:34006,description:"A texture unit."},i.TEXTURE23={name:"TEXTURE23",value:34007,description:"A texture unit."},i.TEXTURE24={name:"TEXTURE24",value:34008,description:"A texture unit."},i.TEXTURE25={name:"TEXTURE25",value:34009,description:"A texture unit."},i.TEXTURE26={name:"TEXTURE26",value:34010,description:"A texture unit."},i.TEXTURE27={name:"TEXTURE27",value:34011,description:"A texture unit."},i.TEXTURE28={name:"TEXTURE28",value:34012,description:"A texture unit."},i.TEXTURE29={name:"TEXTURE29",value:34013,description:"A texture unit."},i.TEXTURE30={name:"TEXTURE30",value:34014,description:"A texture unit."},i.TEXTURE31={name:"TEXTURE31",value:34015,description:"A texture unit."},i.ACTIVE_TEXTURE={name:"ACTIVE_TEXTURE",value:34016,description:"The current active texture unit."},i.REPEAT={name:"REPEAT",value:10497,description:"\xA0"},i.CLAMP_TO_EDGE={name:"CLAMP_TO_EDGE",value:33071,description:"\xA0"},i.MIRRORED_REPEAT={name:"MIRRORED_REPEAT",value:33648,description:"\xA0"},i.FLOAT_VEC2={name:"FLOAT_VEC2",value:35664,description:"\xA0"},i.FLOAT_VEC3={name:"FLOAT_VEC3",value:35665,description:"\xA0"},i.FLOAT_VEC4={name:"FLOAT_VEC4",value:35666,description:"\xA0"},i.INT_VEC2={name:"INT_VEC2",value:35667,description:"\xA0"},i.INT_VEC3={name:"INT_VEC3",value:35668,description:"\xA0"},i.INT_VEC4={name:"INT_VEC4",value:35669,description:"\xA0"},i.BOOL={name:"BOOL",value:35670,description:"\xA0"},i.BOOL_VEC2={name:"BOOL_VEC2",value:35671,description:"\xA0"},i.BOOL_VEC3={name:"BOOL_VEC3",value:35672,description:"\xA0"},i.BOOL_VEC4={name:"BOOL_VEC4",value:35673,description:"\xA0"},i.FLOAT_MAT2={name:"FLOAT_MAT2",value:35674,description:"\xA0"},i.FLOAT_MAT3={name:"FLOAT_MAT3",value:35675,description:"\xA0"},i.FLOAT_MAT4={name:"FLOAT_MAT4",value:35676,description:"\xA0"},i.SAMPLER_2D={name:"SAMPLER_2D",value:35678,description:"\xA0"},i.SAMPLER_CUBE={name:"SAMPLER_CUBE",value:35680,description:"\xA0"},i.LOW_FLOAT={name:"LOW_FLOAT",value:36336,description:"\xA0"},i.MEDIUM_FLOAT={name:"MEDIUM_FLOAT",value:36337,description:"\xA0"},i.HIGH_FLOAT={name:"HIGH_FLOAT",value:36338,description:"\xA0"},i.LOW_INT={name:"LOW_INT",value:36339,description:"\xA0"},i.MEDIUM_INT={name:"MEDIUM_INT",value:36340,description:"\xA0"},i.HIGH_INT={name:"HIGH_INT",value:36341,description:"\xA0"},i.FRAMEBUFFER={name:"FRAMEBUFFER",value:36160,description:"\xA0"},i.RENDERBUFFER={name:"RENDERBUFFER",value:36161,description:"\xA0"},i.RGBA4={name:"RGBA4",value:32854,description:"\xA0"},i.RGB5_A1={name:"RGB5_A1",value:32855,description:"\xA0"},i.RGB565={name:"RGB565",value:36194,description:"\xA0"},i.DEPTH_COMPONENT16={name:"DEPTH_COMPONENT16",value:33189,description:"\xA0"},i.STENCIL_INDEX={name:"STENCIL_INDEX",value:6401,description:"\xA0"},i.STENCIL_INDEX8={name:"STENCIL_INDEX8",value:36168,description:"\xA0"},i.DEPTH_STENCIL={name:"DEPTH_STENCIL",value:34041,description:"\xA0"},i.RENDERBUFFER_WIDTH={name:"RENDERBUFFER_WIDTH",value:36162,description:"\xA0"},i.RENDERBUFFER_HEIGHT={name:"RENDERBUFFER_HEIGHT",value:36163,description:"\xA0"},i.RENDERBUFFER_INTERNAL_FORMAT={name:"RENDERBUFFER_INTERNAL_FORMAT",value:36164,description:"\xA0"},i.RENDERBUFFER_RED_SIZE={name:"RENDERBUFFER_RED_SIZE",value:36176,description:"\xA0"},i.RENDERBUFFER_GREEN_SIZE={name:"RENDERBUFFER_GREEN_SIZE",value:36177,description:"\xA0"},i.RENDERBUFFER_BLUE_SIZE={name:"RENDERBUFFER_BLUE_SIZE",value:36178,description:"\xA0"},i.RENDERBUFFER_ALPHA_SIZE={name:"RENDERBUFFER_ALPHA_SIZE",value:36179,description:"\xA0"},i.RENDERBUFFER_DEPTH_SIZE={name:"RENDERBUFFER_DEPTH_SIZE",value:36180,description:"\xA0"},i.RENDERBUFFER_STENCIL_SIZE={name:"RENDERBUFFER_STENCIL_SIZE",value:36181,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",value:36048,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",value:36049,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",value:36050,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",value:36051,description:"\xA0"},i.COLOR_ATTACHMENT0={name:"COLOR_ATTACHMENT0",value:36064,description:"\xA0"},i.DEPTH_ATTACHMENT={name:"DEPTH_ATTACHMENT",value:36096,description:"\xA0"},i.STENCIL_ATTACHMENT={name:"STENCIL_ATTACHMENT",value:36128,description:"\xA0"},i.DEPTH_STENCIL_ATTACHMENT={name:"DEPTH_STENCIL_ATTACHMENT",value:33306,description:"\xA0"},i.NONE={name:"NONE",value:0,description:"\xA0"},i.FRAMEBUFFER_COMPLETE={name:"FRAMEBUFFER_COMPLETE",value:36053,description:"\xA0"},i.FRAMEBUFFER_INCOMPLETE_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",value:36054,description:"\xA0"},i.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",value:36055,description:"\xA0"},i.FRAMEBUFFER_INCOMPLETE_DIMENSIONS={name:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",value:36057,description:"\xA0"},i.FRAMEBUFFER_UNSUPPORTED={name:"FRAMEBUFFER_UNSUPPORTED",value:36061,description:"\xA0"},i.FRAMEBUFFER_BINDING={name:"FRAMEBUFFER_BINDING",value:36006,description:"\xA0"},i.RENDERBUFFER_BINDING={name:"RENDERBUFFER_BINDING",value:36007,description:"\xA0"},i.MAX_RENDERBUFFER_SIZE={name:"MAX_RENDERBUFFER_SIZE",value:34024,description:"\xA0"},i.INVALID_FRAMEBUFFER_OPERATION={name:"INVALID_FRAMEBUFFER_OPERATION",value:1286,description:"\xA0"},i.UNPACK_FLIP_Y_WEBGL={name:"UNPACK_FLIP_Y_WEBGL",value:37440,description:"\xA0"},i.UNPACK_PREMULTIPLY_ALPHA_WEBGL={name:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",value:37441,description:"\xA0"},i.UNPACK_COLORSPACE_CONVERSION_WEBGL={name:"UNPACK_COLORSPACE_CONVERSION_WEBGL",value:37443,description:"\xA0"},i.READ_BUFFER={name:"READ_BUFFER",value:3074,description:"\xA0"},i.UNPACK_ROW_LENGTH={name:"UNPACK_ROW_LENGTH",value:3314,description:"\xA0"},i.UNPACK_SKIP_ROWS={name:"UNPACK_SKIP_ROWS",value:3315,description:"\xA0"},i.UNPACK_SKIP_PIXELS={name:"UNPACK_SKIP_PIXELS",value:3316,description:"\xA0"},i.PACK_ROW_LENGTH={name:"PACK_ROW_LENGTH",value:3330,description:"\xA0"},i.PACK_SKIP_ROWS={name:"PACK_SKIP_ROWS",value:3331,description:"\xA0"},i.PACK_SKIP_PIXELS={name:"PACK_SKIP_PIXELS",value:3332,description:"\xA0"},i.TEXTURE_BINDING_3D={name:"TEXTURE_BINDING_3D",value:32874,description:"\xA0"},i.UNPACK_SKIP_IMAGES={name:"UNPACK_SKIP_IMAGES",value:32877,description:"\xA0"},i.UNPACK_IMAGE_HEIGHT={name:"UNPACK_IMAGE_HEIGHT",value:32878,description:"\xA0"},i.MAX_3D_TEXTURE_SIZE={name:"MAX_3D_TEXTURE_SIZE",value:32883,description:"\xA0"},i.MAX_ELEMENTS_VERTICES={name:"MAX_ELEMENTS_VERTICES",value:33e3,description:"\xA0"},i.MAX_ELEMENTS_INDICES={name:"MAX_ELEMENTS_INDICES",value:33001,description:"\xA0"},i.MAX_TEXTURE_LOD_BIAS={name:"MAX_TEXTURE_LOD_BIAS",value:34045,description:"\xA0"},i.MAX_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_FRAGMENT_UNIFORM_COMPONENTS",value:35657,description:"\xA0"},i.MAX_VERTEX_UNIFORM_COMPONENTS={name:"MAX_VERTEX_UNIFORM_COMPONENTS",value:35658,description:"\xA0"},i.MAX_ARRAY_TEXTURE_LAYERS={name:"MAX_ARRAY_TEXTURE_LAYERS",value:35071,description:"\xA0"},i.MIN_PROGRAM_TEXEL_OFFSET={name:"MIN_PROGRAM_TEXEL_OFFSET",value:35076,description:"\xA0"},i.MAX_PROGRAM_TEXEL_OFFSET={name:"MAX_PROGRAM_TEXEL_OFFSET",value:35077,description:"\xA0"},i.MAX_VARYING_COMPONENTS={name:"MAX_VARYING_COMPONENTS",value:35659,description:"\xA0"},i.FRAGMENT_SHADER_DERIVATIVE_HINT={name:"FRAGMENT_SHADER_DERIVATIVE_HINT",value:35723,description:"\xA0"},i.RASTERIZER_DISCARD={name:"RASTERIZER_DISCARD",value:35977,description:"\xA0"},i.VERTEX_ARRAY_BINDING={name:"VERTEX_ARRAY_BINDING",value:34229,description:"\xA0"},i.MAX_VERTEX_OUTPUT_COMPONENTS={name:"MAX_VERTEX_OUTPUT_COMPONENTS",value:37154,description:"\xA0"},i.MAX_FRAGMENT_INPUT_COMPONENTS={name:"MAX_FRAGMENT_INPUT_COMPONENTS",value:37157,description:"\xA0"},i.MAX_SERVER_WAIT_TIMEOUT={name:"MAX_SERVER_WAIT_TIMEOUT",value:37137,description:"\xA0"},i.MAX_ELEMENT_INDEX={name:"MAX_ELEMENT_INDEX",value:36203,description:"\xA0"},i.RED={name:"RED",value:6403,description:"\xA0"},i.RGB8={name:"RGB8",value:32849,description:"\xA0"},i.RGBA8={name:"RGBA8",value:32856,description:"\xA0"},i.RGB10_A2={name:"RGB10_A2",value:32857,description:"\xA0"},i.TEXTURE_3D={name:"TEXTURE_3D",value:32879,description:"\xA0"},i.TEXTURE_WRAP_R={name:"TEXTURE_WRAP_R",value:32882,description:"\xA0"},i.TEXTURE_MIN_LOD={name:"TEXTURE_MIN_LOD",value:33082,description:"\xA0"},i.TEXTURE_MAX_LOD={name:"TEXTURE_MAX_LOD",value:33083,description:"\xA0"},i.TEXTURE_BASE_LEVEL={name:"TEXTURE_BASE_LEVEL",value:33084,description:"\xA0"},i.TEXTURE_MAX_LEVEL={name:"TEXTURE_MAX_LEVEL",value:33085,description:"\xA0"},i.TEXTURE_COMPARE_MODE={name:"TEXTURE_COMPARE_MODE",value:34892,description:"\xA0"},i.TEXTURE_COMPARE_FUNC={name:"TEXTURE_COMPARE_FUNC",value:34893,description:"\xA0"},i.SRGB={name:"SRGB",value:35904,description:"\xA0"},i.SRGB8={name:"SRGB8",value:35905,description:"\xA0"},i.SRGB8_ALPHA8={name:"SRGB8_ALPHA8",value:35907,description:"\xA0"},i.COMPARE_REF_TO_TEXTURE={name:"COMPARE_REF_TO_TEXTURE",value:34894,description:"\xA0"},i.RGBA32F={name:"RGBA32F",value:34836,description:"\xA0"},i.RGB32F={name:"RGB32F",value:34837,description:"\xA0"},i.RGBA16F={name:"RGBA16F",value:34842,description:"\xA0"},i.RGB16F={name:"RGB16F",value:34843,description:"\xA0"},i.TEXTURE_2D_ARRAY={name:"TEXTURE_2D_ARRAY",value:35866,description:"\xA0"},i.TEXTURE_BINDING_2D_ARRAY={name:"TEXTURE_BINDING_2D_ARRAY",value:35869,description:"\xA0"},i.R11F_G11F_B10F={name:"R11F_G11F_B10F",value:35898,description:"\xA0"},i.RGB9_E5={name:"RGB9_E5",value:35901,description:"\xA0"},i.RGBA32UI={name:"RGBA32UI",value:36208,description:"\xA0"},i.RGB32UI={name:"RGB32UI",value:36209,description:"\xA0"},i.RGBA16UI={name:"RGBA16UI",value:36214,description:"\xA0"},i.RGB16UI={name:"RGB16UI",value:36215,description:"\xA0"},i.RGBA8UI={name:"RGBA8UI",value:36220,description:"\xA0"},i.RGB8UI={name:"RGB8UI",value:36221,description:"\xA0"},i.RGBA32I={name:"RGBA32I",value:36226,description:"\xA0"},i.RGB32I={name:"RGB32I",value:36227,description:"\xA0"},i.RGBA16I={name:"RGBA16I",value:36232,description:"\xA0"},i.RGB16I={name:"RGB16I",value:36233,description:"\xA0"},i.RGBA8I={name:"RGBA8I",value:36238,description:"\xA0"},i.RGB8I={name:"RGB8I",value:36239,description:"\xA0"},i.RED_INTEGER={name:"RED_INTEGER",value:36244,description:"\xA0"},i.RGB_INTEGER={name:"RGB_INTEGER",value:36248,description:"\xA0"},i.RGBA_INTEGER={name:"RGBA_INTEGER",value:36249,description:"\xA0"},i.R8={name:"R8",value:33321,description:"\xA0"},i.RG8={name:"RG8",value:33323,description:"\xA0"},i.R16F={name:"R16F",value:33325,description:"\xA0"},i.R32F={name:"R32F",value:33326,description:"\xA0"},i.RG16F={name:"RG16F",value:33327,description:"\xA0"},i.RG32F={name:"RG32F",value:33328,description:"\xA0"},i.R8I={name:"R8I",value:33329,description:"\xA0"},i.R8UI={name:"R8UI",value:33330,description:"\xA0"},i.R16I={name:"R16I",value:33331,description:"\xA0"},i.R16UI={name:"R16UI",value:33332,description:"\xA0"},i.R32I={name:"R32I",value:33333,description:"\xA0"},i.R32UI={name:"R32UI",value:33334,description:"\xA0"},i.RG8I={name:"RG8I",value:33335,description:"\xA0"},i.RG8UI={name:"RG8UI",value:33336,description:"\xA0"},i.RG16I={name:"RG16I",value:33337,description:"\xA0"},i.RG16UI={name:"RG16UI",value:33338,description:"\xA0"},i.RG32I={name:"RG32I",value:33339,description:"\xA0"},i.RG32UI={name:"RG32UI",value:33340,description:"\xA0"},i.R8_SNORM={name:"R8_SNORM",value:36756,description:"\xA0"},i.RG8_SNORM={name:"RG8_SNORM",value:36757,description:"\xA0"},i.RGB8_SNORM={name:"RGB8_SNORM",value:36758,description:"\xA0"},i.RGBA8_SNORM={name:"RGBA8_SNORM",value:36759,description:"\xA0"},i.RGB10_A2UI={name:"RGB10_A2UI",value:36975,description:"\xA0"},i.TEXTURE_IMMUTABLE_FORMAT={name:"TEXTURE_IMMUTABLE_FORMAT",value:37167,description:"\xA0"},i.TEXTURE_IMMUTABLE_LEVELS={name:"TEXTURE_IMMUTABLE_LEVELS",value:33503,description:"\xA0"},i.UNSIGNED_INT_2_10_10_10_REV={name:"UNSIGNED_INT_2_10_10_10_REV",value:33640,description:"\xA0"},i.UNSIGNED_INT_10F_11F_11F_REV={name:"UNSIGNED_INT_10F_11F_11F_REV",value:35899,description:"\xA0"},i.UNSIGNED_INT_5_9_9_9_REV={name:"UNSIGNED_INT_5_9_9_9_REV",value:35902,description:"\xA0"},i.FLOAT_32_UNSIGNED_INT_24_8_REV={name:"FLOAT_32_UNSIGNED_INT_24_8_REV",value:36269,description:"\xA0"},i.UNSIGNED_INT_24_8={name:"UNSIGNED_INT_24_8",value:34042,description:"\xA0"},i.HALF_FLOAT={name:"HALF_FLOAT",value:5131,description:"\xA0"},i.RG={name:"RG",value:33319,description:"\xA0"},i.RG_INTEGER={name:"RG_INTEGER",value:33320,description:"\xA0"},i.INT_2_10_10_10_REV={name:"INT_2_10_10_10_REV",value:36255,description:"\xA0"},i.CURRENT_QUERY={name:"CURRENT_QUERY",value:34917,description:"\xA0"},i.QUERY_RESULT={name:"QUERY_RESULT",value:34918,description:"\xA0"},i.QUERY_RESULT_AVAILABLE={name:"QUERY_RESULT_AVAILABLE",value:34919,description:"\xA0"},i.ANY_SAMPLES_PASSED={name:"ANY_SAMPLES_PASSED",value:35887,description:"\xA0"},i.ANY_SAMPLES_PASSED_CONSERVATIVE={name:"ANY_SAMPLES_PASSED_CONSERVATIVE",value:36202,description:"\xA0"},i.MAX_DRAW_BUFFERS={name:"MAX_DRAW_BUFFERS",value:34852,description:"\xA0"},i.DRAW_BUFFER0={name:"DRAW_BUFFER0",value:34853,description:"\xA0"},i.DRAW_BUFFER1={name:"DRAW_BUFFER1",value:34854,description:"\xA0"},i.DRAW_BUFFER2={name:"DRAW_BUFFER2",value:34855,description:"\xA0"},i.DRAW_BUFFER3={name:"DRAW_BUFFER3",value:34856,description:"\xA0"},i.DRAW_BUFFER4={name:"DRAW_BUFFER4",value:34857,description:"\xA0"},i.DRAW_BUFFER5={name:"DRAW_BUFFER5",value:34858,description:"\xA0"},i.DRAW_BUFFER6={name:"DRAW_BUFFER6",value:34859,description:"\xA0"},i.DRAW_BUFFER7={name:"DRAW_BUFFER7",value:34860,description:"\xA0"},i.DRAW_BUFFER8={name:"DRAW_BUFFER8",value:34861,description:"\xA0"},i.DRAW_BUFFER9={name:"DRAW_BUFFER9",value:34862,description:"\xA0"},i.DRAW_BUFFER10={name:"DRAW_BUFFER10",value:34863,description:"\xA0"},i.DRAW_BUFFER11={name:"DRAW_BUFFER11",value:34864,description:"\xA0"},i.DRAW_BUFFER12={name:"DRAW_BUFFER12",value:34865,description:"\xA0"},i.DRAW_BUFFER13={name:"DRAW_BUFFER13",value:34866,description:"\xA0"},i.DRAW_BUFFER14={name:"DRAW_BUFFER14",value:34867,description:"\xA0"},i.DRAW_BUFFER15={name:"DRAW_BUFFER15",value:34868,description:"\xA0"},i.MAX_COLOR_ATTACHMENTS={name:"MAX_COLOR_ATTACHMENTS",value:36063,description:"\xA0"},i.COLOR_ATTACHMENT1={name:"COLOR_ATTACHMENT1",value:36065,description:"\xA0"},i.COLOR_ATTACHMENT2={name:"COLOR_ATTACHMENT2",value:36066,description:"\xA0"},i.COLOR_ATTACHMENT3={name:"COLOR_ATTACHMENT3",value:36067,description:"\xA0"},i.COLOR_ATTACHMENT4={name:"COLOR_ATTACHMENT4",value:36068,description:"\xA0"},i.COLOR_ATTACHMENT5={name:"COLOR_ATTACHMENT5",value:36069,description:"\xA0"},i.COLOR_ATTACHMENT6={name:"COLOR_ATTACHMENT6",value:36070,description:"\xA0"},i.COLOR_ATTACHMENT7={name:"COLOR_ATTACHMENT7",value:36071,description:"\xA0"},i.COLOR_ATTACHMENT8={name:"COLOR_ATTACHMENT8",value:36072,description:"\xA0"},i.COLOR_ATTACHMENT9={name:"COLOR_ATTACHMENT9",value:36073,description:"\xA0"},i.COLOR_ATTACHMENT10={name:"COLOR_ATTACHMENT10",value:36074,description:"\xA0"},i.COLOR_ATTACHMENT11={name:"COLOR_ATTACHMENT11",value:36075,description:"\xA0"},i.COLOR_ATTACHMENT12={name:"COLOR_ATTACHMENT12",value:36076,description:"\xA0"},i.COLOR_ATTACHMENT13={name:"COLOR_ATTACHMENT13",value:36077,description:"\xA0"},i.COLOR_ATTACHMENT14={name:"COLOR_ATTACHMENT14",value:36078,description:"\xA0"},i.COLOR_ATTACHMENT15={name:"COLOR_ATTACHMENT15",value:36079,description:"\xA0"},i.SAMPLER_3D={name:"SAMPLER_3D",value:35679,description:"\xA0"},i.SAMPLER_2D_SHADOW={name:"SAMPLER_2D_SHADOW",value:35682,description:"\xA0"},i.SAMPLER_2D_ARRAY={name:"SAMPLER_2D_ARRAY",value:36289,description:"\xA0"},i.SAMPLER_2D_ARRAY_SHADOW={name:"SAMPLER_2D_ARRAY_SHADOW",value:36292,description:"\xA0"},i.SAMPLER_CUBE_SHADOW={name:"SAMPLER_CUBE_SHADOW",value:36293,description:"\xA0"},i.INT_SAMPLER_2D={name:"INT_SAMPLER_2D",value:36298,description:"\xA0"},i.INT_SAMPLER_3D={name:"INT_SAMPLER_3D",value:36299,description:"\xA0"},i.INT_SAMPLER_CUBE={name:"INT_SAMPLER_CUBE",value:36300,description:"\xA0"},i.INT_SAMPLER_2D_ARRAY={name:"INT_SAMPLER_2D_ARRAY",value:36303,description:"\xA0"},i.UNSIGNED_INT_SAMPLER_2D={name:"UNSIGNED_INT_SAMPLER_2D",value:36306,description:"\xA0"},i.UNSIGNED_INT_SAMPLER_3D={name:"UNSIGNED_INT_SAMPLER_3D",value:36307,description:"\xA0"},i.UNSIGNED_INT_SAMPLER_CUBE={name:"UNSIGNED_INT_SAMPLER_CUBE",value:36308,description:"\xA0"},i.UNSIGNED_INT_SAMPLER_2D_ARRAY={name:"UNSIGNED_INT_SAMPLER_2D_ARRAY",value:36311,description:"\xA0"},i.MAX_SAMPLES={name:"MAX_SAMPLES",value:36183,description:"\xA0"},i.SAMPLER_BINDING={name:"SAMPLER_BINDING",value:35097,description:"\xA0"},i.PIXEL_PACK_BUFFER={name:"PIXEL_PACK_BUFFER",value:35051,description:"\xA0"},i.PIXEL_UNPACK_BUFFER={name:"PIXEL_UNPACK_BUFFER",value:35052,description:"\xA0"},i.PIXEL_PACK_BUFFER_BINDING={name:"PIXEL_PACK_BUFFER_BINDING",value:35053,description:"\xA0"},i.PIXEL_UNPACK_BUFFER_BINDING={name:"PIXEL_UNPACK_BUFFER_BINDING",value:35055,description:"\xA0"},i.COPY_READ_BUFFER={name:"COPY_READ_BUFFER",value:36662,description:"\xA0"},i.COPY_WRITE_BUFFER={name:"COPY_WRITE_BUFFER",value:36663,description:"\xA0"},i.COPY_READ_BUFFER_BINDING={name:"COPY_READ_BUFFER_BINDING",value:36662,description:"\xA0"},i.COPY_WRITE_BUFFER_BINDING={name:"COPY_WRITE_BUFFER_BINDING",value:36663,description:"\xA0"},i.FLOAT_MAT2x3={name:"FLOAT_MAT2x3",value:35685,description:"\xA0"},i.FLOAT_MAT2x4={name:"FLOAT_MAT2x4",value:35686,description:"\xA0"},i.FLOAT_MAT3x2={name:"FLOAT_MAT3x2",value:35687,description:"\xA0"},i.FLOAT_MAT3x4={name:"FLOAT_MAT3x4",value:35688,description:"\xA0"},i.FLOAT_MAT4x2={name:"FLOAT_MAT4x2",value:35689,description:"\xA0"},i.FLOAT_MAT4x3={name:"FLOAT_MAT4x3",value:35690,description:"\xA0"},i.UNSIGNED_INT_VEC2={name:"UNSIGNED_INT_VEC2",value:36294,description:"\xA0"},i.UNSIGNED_INT_VEC3={name:"UNSIGNED_INT_VEC3",value:36295,description:"\xA0"},i.UNSIGNED_INT_VEC4={name:"UNSIGNED_INT_VEC4",value:36296,description:"\xA0"},i.UNSIGNED_NORMALIZED={name:"UNSIGNED_NORMALIZED",value:35863,description:"\xA0"},i.SIGNED_NORMALIZED={name:"SIGNED_NORMALIZED",value:36764,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_INTEGER={name:"VERTEX_ATTRIB_ARRAY_INTEGER",value:35069,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_DIVISOR={name:"VERTEX_ATTRIB_ARRAY_DIVISOR",value:35070,description:"\xA0"},i.TRANSFORM_FEEDBACK_BUFFER_MODE={name:"TRANSFORM_FEEDBACK_BUFFER_MODE",value:35967,description:"\xA0"},i.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",value:35968,description:"\xA0"},i.TRANSFORM_FEEDBACK_VARYINGS={name:"TRANSFORM_FEEDBACK_VARYINGS",value:35971,description:"\xA0"},i.TRANSFORM_FEEDBACK_BUFFER_START={name:"TRANSFORM_FEEDBACK_BUFFER_START",value:35972,description:"\xA0"},i.TRANSFORM_FEEDBACK_BUFFER_SIZE={name:"TRANSFORM_FEEDBACK_BUFFER_SIZE",value:35973,description:"\xA0"},i.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN={name:"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",value:35976,description:"\xA0"},i.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",value:35978,description:"\xA0"},i.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",value:35979,description:"\xA0"},i.INTERLEAVED_ATTRIBS={name:"INTERLEAVED_ATTRIBS",value:35980,description:"\xA0"},i.SEPARATE_ATTRIBS={name:"SEPARATE_ATTRIBS",value:35981,description:"\xA0"},i.TRANSFORM_FEEDBACK_BUFFER={name:"TRANSFORM_FEEDBACK_BUFFER",value:35982,description:"\xA0"},i.TRANSFORM_FEEDBACK_BUFFER_BINDING={name:"TRANSFORM_FEEDBACK_BUFFER_BINDING",value:35983,description:"\xA0"},i.TRANSFORM_FEEDBACK={name:"TRANSFORM_FEEDBACK",value:36386,description:"\xA0"},i.TRANSFORM_FEEDBACK_PAUSED={name:"TRANSFORM_FEEDBACK_PAUSED",value:36387,description:"\xA0"},i.TRANSFORM_FEEDBACK_ACTIVE={name:"TRANSFORM_FEEDBACK_ACTIVE",value:36388,description:"\xA0"},i.TRANSFORM_FEEDBACK_BINDING={name:"TRANSFORM_FEEDBACK_BINDING",value:36389,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",value:33296,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",value:33297,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_RED_SIZE={name:"FRAMEBUFFER_ATTACHMENT_RED_SIZE",value:33298,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE={name:"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",value:33299,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE={name:"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",value:33300,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE={name:"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",value:33301,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE={name:"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",value:33302,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE={name:"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",value:33303,description:"\xA0"},i.FRAMEBUFFER_DEFAULT={name:"FRAMEBUFFER_DEFAULT",value:33304,description:"\xA0"},i.DEPTH24_STENCIL8={name:"DEPTH24_STENCIL8",value:35056,description:"\xA0"},i.DRAW_FRAMEBUFFER_BINDING={name:"DRAW_FRAMEBUFFER_BINDING",value:36006,description:"\xA0"},i.READ_FRAMEBUFFER={name:"READ_FRAMEBUFFER",value:36008,description:"\xA0"},i.DRAW_FRAMEBUFFER={name:"DRAW_FRAMEBUFFER",value:36009,description:"\xA0"},i.READ_FRAMEBUFFER_BINDING={name:"READ_FRAMEBUFFER_BINDING",value:36010,description:"\xA0"},i.RENDERBUFFER_SAMPLES={name:"RENDERBUFFER_SAMPLES",value:36011,description:"\xA0"},i.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",value:36052,description:"\xA0"},i.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE={name:"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",value:36182,description:"\xA0"},i.UNIFORM_BUFFER={name:"UNIFORM_BUFFER",value:35345,description:"\xA0"},i.UNIFORM_BUFFER_BINDING={name:"UNIFORM_BUFFER_BINDING",value:35368,description:"\xA0"},i.UNIFORM_BUFFER_START={name:"UNIFORM_BUFFER_START",value:35369,description:"\xA0"},i.UNIFORM_BUFFER_SIZE={name:"UNIFORM_BUFFER_SIZE",value:35370,description:"\xA0"},i.MAX_VERTEX_UNIFORM_BLOCKS={name:"MAX_VERTEX_UNIFORM_BLOCKS",value:35371,description:"\xA0"},i.MAX_FRAGMENT_UNIFORM_BLOCKS={name:"MAX_FRAGMENT_UNIFORM_BLOCKS",value:35373,description:"\xA0"},i.MAX_COMBINED_UNIFORM_BLOCKS={name:"MAX_COMBINED_UNIFORM_BLOCKS",value:35374,description:"\xA0"},i.MAX_UNIFORM_BUFFER_BINDINGS={name:"MAX_UNIFORM_BUFFER_BINDINGS",value:35375,description:"\xA0"},i.MAX_UNIFORM_BLOCK_SIZE={name:"MAX_UNIFORM_BLOCK_SIZE",value:35376,description:"\xA0"},i.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS={name:"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",value:35377,description:"\xA0"},i.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",value:35379,description:"\xA0"},i.UNIFORM_BUFFER_OFFSET_ALIGNMENT={name:"UNIFORM_BUFFER_OFFSET_ALIGNMENT",value:35380,description:"\xA0"},i.ACTIVE_UNIFORM_BLOCKS={name:"ACTIVE_UNIFORM_BLOCKS",value:35382,description:"\xA0"},i.UNIFORM_TYPE={name:"UNIFORM_TYPE",value:35383,description:"\xA0"},i.UNIFORM_SIZE={name:"UNIFORM_SIZE",value:35384,description:"\xA0"},i.UNIFORM_BLOCK_INDEX={name:"UNIFORM_BLOCK_INDEX",value:35386,description:"\xA0"},i.UNIFORM_OFFSET={name:"UNIFORM_OFFSET",value:35387,description:"\xA0"},i.UNIFORM_ARRAY_STRIDE={name:"UNIFORM_ARRAY_STRIDE",value:35388,description:"\xA0"},i.UNIFORM_MATRIX_STRIDE={name:"UNIFORM_MATRIX_STRIDE",value:35389,description:"\xA0"},i.UNIFORM_IS_ROW_MAJOR={name:"UNIFORM_IS_ROW_MAJOR",value:35390,description:"\xA0"},i.UNIFORM_BLOCK_BINDING={name:"UNIFORM_BLOCK_BINDING",value:35391,description:"\xA0"},i.UNIFORM_BLOCK_DATA_SIZE={name:"UNIFORM_BLOCK_DATA_SIZE",value:35392,description:"\xA0"},i.UNIFORM_BLOCK_ACTIVE_UNIFORMS={name:"UNIFORM_BLOCK_ACTIVE_UNIFORMS",value:35394,description:"\xA0"},i.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES={name:"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",value:35395,description:"\xA0"},i.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",value:35396,description:"\xA0"},i.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",value:35398,description:"\xA0"},i.OBJECT_TYPE={name:"OBJECT_TYPE",value:37138,description:"\xA0"},i.SYNC_CONDITION={name:"SYNC_CONDITION",value:37139,description:"\xA0"},i.SYNC_STATUS={name:"SYNC_STATUS",value:37140,description:"\xA0"},i.SYNC_FLAGS={name:"SYNC_FLAGS",value:37141,description:"\xA0"},i.SYNC_FENCE={name:"SYNC_FENCE",value:37142,description:"\xA0"},i.SYNC_GPU_COMMANDS_COMPLETE={name:"SYNC_GPU_COMMANDS_COMPLETE",value:37143,description:"\xA0"},i.UNSIGNALED={name:"UNSIGNALED",value:37144,description:"\xA0"},i.SIGNALED={name:"SIGNALED",value:37145,description:"\xA0"},i.ALREADY_SIGNALED={name:"ALREADY_SIGNALED",value:37146,description:"\xA0"},i.TIMEOUT_EXPIRED={name:"TIMEOUT_EXPIRED",value:37147,description:"\xA0"},i.CONDITION_SATISFIED={name:"CONDITION_SATISFIED",value:37148,description:"\xA0"},i.WAIT_FAILED={name:"WAIT_FAILED",value:37149,description:"\xA0"},i.SYNC_FLUSH_COMMANDS_BIT={name:"SYNC_FLUSH_COMMANDS_BIT",value:1,description:"\xA0"},i.COLOR={name:"COLOR",value:6144,description:"\xA0"},i.DEPTH={name:"DEPTH",value:6145,description:"\xA0"},i.STENCIL={name:"STENCIL",value:6146,description:"\xA0"},i.MIN={name:"MIN",value:32775,description:"\xA0"},i.MAX={name:"MAX",value:32776,description:"\xA0"},i.DEPTH_COMPONENT24={name:"DEPTH_COMPONENT24",value:33190,description:"\xA0"},i.STREAM_READ={name:"STREAM_READ",value:35041,description:"\xA0"},i.STREAM_COPY={name:"STREAM_COPY",value:35042,description:"\xA0"},i.STATIC_READ={name:"STATIC_READ",value:35045,description:"\xA0"},i.STATIC_COPY={name:"STATIC_COPY",value:35046,description:"\xA0"},i.DYNAMIC_READ={name:"DYNAMIC_READ",value:35049,description:"\xA0"},i.DYNAMIC_COPY={name:"DYNAMIC_COPY",value:35050,description:"\xA0"},i.DEPTH_COMPONENT32F={name:"DEPTH_COMPONENT32F",value:36012,description:"\xA0"},i.DEPTH32F_STENCIL8={name:"DEPTH32F_STENCIL8",value:36013,description:"\xA0"},i.INVALID_INDEX={name:"INVALID_INDEX",value:4294967295,description:"\xA0"},i.TIMEOUT_IGNORED={name:"TIMEOUT_IGNORED",value:-1,description:"\xA0"},i.MAX_CLIENT_WAIT_TIMEOUT_WEBGL={name:"MAX_CLIENT_WAIT_TIMEOUT_WEBGL",value:37447,description:"\xA0"},i.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE={name:"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",value:35070,description:"Describes the frequency divisor used for instanced rendering.",extensionName:"ANGLE_instanced_arrays"},i.UNMASKED_VENDOR_WEBGL={name:"UNMASKED_VENDOR_WEBGL",value:37445,description:"Passed to getParameter to get the vendor string of the graphics driver.",extensionName:"ANGLE_instanced_arrays"},i.UNMASKED_RENDERER_WEBGL={name:"UNMASKED_RENDERER_WEBGL",value:37446,description:"Passed to getParameter to get the renderer string of the graphics driver.",extensionName:"WEBGL_debug_renderer_info"},i.MAX_TEXTURE_MAX_ANISOTROPY_EXT={name:"MAX_TEXTURE_MAX_ANISOTROPY_EXT",value:34047,description:"Returns the maximum available anisotropy.",extensionName:"EXT_texture_filter_anisotropic"},i.TEXTURE_MAX_ANISOTROPY_EXT={name:"TEXTURE_MAX_ANISOTROPY_EXT",value:34046,description:"Passed to texParameter to set the desired maximum anisotropy for a texture.",extensionName:"EXT_texture_filter_anisotropic"},i.COMPRESSED_RGB_S3TC_DXT1_EXT={name:"COMPRESSED_RGB_S3TC_DXT1_EXT",value:33776,description:"A DXT1-compressed image in an RGB image format.",extensionName:"WEBGL_compressed_texture_s3tc"},i.COMPRESSED_RGBA_S3TC_DXT1_EXT={name:"COMPRESSED_RGBA_S3TC_DXT1_EXT",value:33777,description:"A DXT1-compressed image in an RGB image format with a simple on/off alpha value.",extensionName:"WEBGL_compressed_texture_s3tc"},i.COMPRESSED_RGBA_S3TC_DXT3_EXT={name:"COMPRESSED_RGBA_S3TC_DXT3_EXT",value:33778,description:"A DXT3-compressed image in an RGBA image format. Compared to a 32-bit RGBA texture, it offers 4:1 compression.",extensionName:"WEBGL_compressed_texture_s3tc"},i.COMPRESSED_RGBA_S3TC_DXT5_EXT={name:"COMPRESSED_RGBA_S3TC_DXT5_EXT",value:33779,description:"A DXT5-compressed image in an RGBA image format. It also provides a 4:1 compression, but differs to the DXT3 compression in how the alpha compression is done.",extensionName:"WEBGL_compressed_texture_s3tc"},i.COMPRESSED_R11_EAC={name:"COMPRESSED_R11_EAC",value:37488,description:"One-channel (red) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_SIGNED_R11_EAC={name:"COMPRESSED_SIGNED_R11_EAC",value:37489,description:"One-channel (red) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_RG11_EAC={name:"COMPRESSED_RG11_EAC",value:37490,description:"Two-channel (red and green) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_SIGNED_RG11_EAC={name:"COMPRESSED_SIGNED_RG11_EAC",value:37491,description:"Two-channel (red and green) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_RGB8_ETC2={name:"COMPRESSED_RGB8_ETC2",value:37492,description:"Compresses RBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_RGBA8_ETC2_EAC={name:"COMPRESSED_RGBA8_ETC2_EAC",value:37493,description:"Compresses RGBA8 data. The RGB part is encoded the same as RGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_SRGB8_ETC2={name:"COMPRESSED_SRGB8_ETC2",value:37494,description:"Compresses sRBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC={name:"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",value:37495,description:"Compresses sRGBA8 data. The sRGB part is encoded the same as SRGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37496,description:"Similar to RGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37497,description:"Similar to SRGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_4BPPV1_IMG",value:35840,description:"RGB compression in 4-bit mode. One block for each 4\xD74 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",value:35842,description:"RGBA compression in 4-bit mode. One block for each 4\xD74 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_2BPPV1_IMG",value:35841,description:"RGB compression in 2-bit mode. One block for each 8\xD74 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",value:35843,description:"RGBA compression in 2-bit mode. One block for each 8\xD74 pixe",extensionName:"WEBGL_compressed_texture_pvrtc"},i.COMPRESSED_RGB_ETC1_WEBGL={name:"COMPRESSED_RGB_ETC1_WEBGL",value:36196,description:"Compresses 24-bit RGB data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc1"},i.COMPRESSED_RGB_ATC_WEBGL={name:"COMPRESSED_RGB_ATC_WEBGL",value:35986,description:"Compresses RGB textures with no alpha channel.",extensionName:"WEBGL_compressed_texture_atc"},i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",value:35986,description:"Compresses RGBA textures using explicit alpha encoding (useful when alpha transitions are sharp).",extensionName:"WEBGL_compressed_texture_atc"},i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",value:34798,description:"Compresses RGBA textures using interpolated alpha encoding (useful when alpha transitions are gradient).",extensionName:"WEBGL_compressed_texture_atc"},i.UNSIGNED_INT_24_8_WEBGL={name:"UNSIGNED_INT_24_8_WEBGL",value:34042,description:"Unsigned integer type for 24-bit depth texture data.",extensionName:"WEBGL_depth_texture"},i.HALF_FLOAT_OES={name:"HALF_FLOAT_OES",value:36193,description:"Half floating-point type (16-bit).",extensionName:"OES_texture_half_float"},i.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",value:33297,description:"\xA0",extensionName:"WEBGL_color_buffer_float"},i.UNSIGNED_NORMALIZED_EXT={name:"UNSIGNED_NORMALIZED_EXT",value:35863,description:"\xA0",extensionName:"WEBGL_color_buffer_float"},i.MIN_EXT={name:"MIN_EXT",value:32775,description:"Produces the minimum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},i.MAX_EXT={name:"MAX_EXT",value:32776,description:"Produces the maximum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},i.SRGB_EXT={name:"SRGB_EXT",value:35904,description:"Unsized sRGB format that leaves the precision up to the driver.",extensionName:"EXT_sRGB"},i.SRGB_ALPHA_EXT={name:"SRGB_ALPHA_EXT",value:35906,description:"Unsized sRGB format with unsized alpha component.",extensionName:"EXT_sRGB"},i.SRGB8_ALPHA8_EXT={name:"SRGB8_ALPHA8_EXT",value:35907,description:"Sized (8-bit) sRGB and alpha formats.",extensionName:"EXT_sRGB"},i.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",value:33296,description:"Returns the framebuffer color encoding.",extensionName:"EXT_sRGB"},i.FRAGMENT_SHADER_DERIVATIVE_HINT_OES={name:"FRAGMENT_SHADER_DERIVATIVE_HINT_OES",value:35723,description:"Indicates the accuracy of the derivative calculation for the GLSL built-in functions: dFdx, dFdy, and fwidth.",extensionName:"OES_standard_derivatives"},i.COLOR_ATTACHMENT0_WEBGL={name:"COLOR_ATTACHMENT0_WEBGL",value:36064,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT1_WEBGL={name:"COLOR_ATTACHMENT1_WEBGL",value:36065,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT2_WEBGL={name:"COLOR_ATTACHMENT2_WEBGL",value:36066,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT3_WEBGL={name:"COLOR_ATTACHMENT3_WEBGL",value:36067,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT4_WEBGL={name:"COLOR_ATTACHMENT4_WEBGL",value:36068,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT5_WEBGL={name:"COLOR_ATTACHMENT5_WEBGL",value:36069,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT6_WEBGL={name:"COLOR_ATTACHMENT6_WEBGL",value:36070,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT7_WEBGL={name:"COLOR_ATTACHMENT7_WEBGL",value:36071,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT8_WEBGL={name:"COLOR_ATTACHMENT8_WEBGL",value:36072,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT9_WEBGL={name:"COLOR_ATTACHMENT9_WEBGL",value:36073,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT10_WEBGL={name:"COLOR_ATTACHMENT10_WEBGL",value:36074,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT11_WEBGL={name:"COLOR_ATTACHMENT11_WEBGL",value:36075,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT12_WEBGL={name:"COLOR_ATTACHMENT12_WEBGL",value:36076,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT13_WEBGL={name:"COLOR_ATTACHMENT13_WEBGL",value:36077,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT14_WEBGL={name:"COLOR_ATTACHMENT14_WEBGL",value:36078,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.COLOR_ATTACHMENT15_WEBGL={name:"COLOR_ATTACHMENT15_WEBGL",value:36079,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER0_WEBGL={name:"DRAW_BUFFER0_WEBGL",value:34853,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER1_WEBGL={name:"DRAW_BUFFER1_WEBGL",value:34854,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER2_WEBGL={name:"DRAW_BUFFER2_WEBGL",value:34855,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER3_WEBGL={name:"DRAW_BUFFER3_WEBGL",value:34856,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER4_WEBGL={name:"DRAW_BUFFER4_WEBGL",value:34857,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER5_WEBGL={name:"DRAW_BUFFER5_WEBGL",value:34858,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER6_WEBGL={name:"DRAW_BUFFER6_WEBGL",value:34859,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER7_WEBGL={name:"DRAW_BUFFER7_WEBGL",value:34860,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER8_WEBGL={name:"DRAW_BUFFER8_WEBGL",value:34861,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER9_WEBGL={name:"DRAW_BUFFER9_WEBGL",value:34862,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER10_WEBGL={name:"DRAW_BUFFER10_WEBGL",value:34863,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER11_WEBGL={name:"DRAW_BUFFER11_WEBGL",value:34864,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER12_WEBGL={name:"DRAW_BUFFER12_WEBGL",value:34865,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER13_WEBGL={name:"DRAW_BUFFER13_WEBGL",value:34866,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER14_WEBGL={name:"DRAW_BUFFER14_WEBGL",value:34867,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.DRAW_BUFFER15_WEBGL={name:"DRAW_BUFFER15_WEBGL",value:34868,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},i.MAX_COLOR_ATTACHMENTS_WEBGL={name:"MAX_COLOR_ATTACHMENTS_WEBGL",value:36063,description:"Maximum number of framebuffer color attachment points",extensionName:"WEBGL_draw_buffers"},i.MAX_DRAW_BUFFERS_WEBGL={name:"MAX_DRAW_BUFFERS_WEBGL",value:34852,description:"Maximum number of draw buffers",extensionName:"WEBGL_draw_buffers"},i.VERTEX_ARRAY_BINDING_OES={name:"VERTEX_ARRAY_BINDING_OES",value:34229,description:"The bound vertex array object (VAO).",extensionName:"VERTEX_ARRAY_BINDING_OES"},i.QUERY_COUNTER_BITS_EXT={name:"QUERY_COUNTER_BITS_EXT",value:34916,description:"The number of bits used to hold the query result for the given target.",extensionName:"EXT_disjoint_timer_query"},i.CURRENT_QUERY_EXT={name:"CURRENT_QUERY_EXT",value:34917,description:"The currently active query.",extensionName:"EXT_disjoint_timer_query"},i.QUERY_RESULT_EXT={name:"QUERY_RESULT_EXT",value:34918,description:"The query result.",extensionName:"EXT_disjoint_timer_query"},i.QUERY_RESULT_AVAILABLE_EXT={name:"QUERY_RESULT_AVAILABLE_EXT",value:34919,description:"A Boolean indicating whether or not a query result is available.",extensionName:"EXT_disjoint_timer_query"},i.TIME_ELAPSED_EXT={name:"TIME_ELAPSED_EXT",value:35007,description:"Elapsed time (in nanoseconds).",extensionName:"EXT_disjoint_timer_query"},i.TIMESTAMP_EXT={name:"TIMESTAMP_EXT",value:36392,description:"The current time.",extensionName:"EXT_disjoint_timer_query"},i.GPU_DISJOINT_EXT={name:"GPU_DISJOINT_EXT",value:36795,description:"A Boolean indicating whether or not the GPU performed any disjoint operation.",extensionName:"EXT_disjoint_timer_query"},i.zeroMeaningByCommand={getError:"NO_ERROR",blendFunc:"ZERO",blendFuncSeparate:"ZERO",readBuffer:"NONE",getFramebufferAttachmentParameter:"NONE",texParameterf:"NONE",texParameteri:"NONE",drawArrays:"POINTS",drawElements:"POINTS",drawArraysInstanced:"POINTS",drawArraysInstancedAngle:"POINTS",drawBuffers:"POINTS",drawElementsInstanced:"POINTS",drawRangeElements:"POINTS"},i.oneMeaningByCommand={blendFunc:"ONE",blendFuncSeparate:"ONE",drawArrays:"LINES",drawElements:"LINES",drawArraysInstanced:"LINES",drawArraysInstancedAngle:"LINES",drawBuffers:"LINES",drawElementsInstanced:"LINES",drawRangeElements:"LINES"},i}(),m={},v={};(function(){for(var i in r)if(r.hasOwnProperty(i)){var e=r[i];m[e.name]=e,v[e.value]=e}})();var C,b,E,R,g,f,T,L,w,S,I,F,B,G,z,ne,J,K,H,$,X,q=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),oe=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return q(e,i),Object.defineProperty(e.prototype,"analyserName",{get:function(){return e.analyserName},enumerable:!0,configurable:!0}),e.prototype.appendToAnalysis=function(t,o){if(t.commands){for(var c={total:0,totalTriangles:0,totalTriangleStrip:0,totalTriangleFan:0,totalLines:0,totalLineStrip:0,totalLineLoop:0,totalPoints:0},y=0,D=t.commands;y<D.length;y++){var V=D[y];V.name==="drawArrays"&&V.commandArguments.length>=3||V.name==="drawArraysInstanced"&&V.commandArguments.length>=3||V.name==="drawArraysInstancedANGLE"&&V.commandArguments.length>=3?this.appendToPrimitives(c,V.commandArguments[0],V.commandArguments[2]):V.name==="drawElements"&&V.commandArguments.length>=2||V.name==="drawElementsInstanced"&&V.commandArguments.length>=2||V.name==="drawElementsInstancedANGLE"&&V.commandArguments.length>=2?this.appendToPrimitives(c,V.commandArguments[0],V.commandArguments[1]):V.name==="drawRangeElements"&&V.commandArguments.length>=4&&this.appendToPrimitives(c,V.commandArguments[0],V.commandArguments[3])}o.total=c.total,o.triangles=c.totalTriangles,o.triangleStrip=c.totalTriangleStrip,o.triangleFan=c.totalTriangleFan,o.lines=c.totalLines,o.lineStrip=c.totalLineStrip,o.lineLoop=c.totalLineLoop,o.points=c.totalPoints}},e.prototype.appendToPrimitives=function(t,o,c){o===r.POINTS.value?t.totalPoints+=c:o===r.LINES.value?t.totalLines+=c:o===r.LINE_STRIP.value?t.totalLineStrip+=c:o===r.LINE_LOOP.value?t.totalLineLoop+=c:o===r.TRIANGLES.value?t.totalTriangles+=c:o===r.TRIANGLE_STRIP.value?t.totalTriangleStrip+=c:o===r.TRIANGLE_FAN.value&&(t.totalTriangleFan+=c),t.total+=c},e.analyserName="Primitives",e}(_),ce=function(){function i(e){this.contextInformation=e,this.analysers=[],this.initAnalysers()}return i.prototype.appendAnalyses=function(e){for(var t in this.analysers)this.analysers.hasOwnProperty(t)&&this.analysers[t].appendAnalysis(e)},i.prototype.initAnalysers=function(){this.analysers.push(new a(this.contextInformation),new l(this.contextInformation),new oe(this.contextInformation))},i}(),se=function(){function i(){}return i.storeOriginFunction=function(e,t){if(e&&e[t]){var o=this.getOriginFunctionName(t);e[o]||(e[o]=e[t])}},i.storePrototypeOriginFunction=function(e,t){if(e&&e.prototype[t]){var o=this.getOriginFunctionName(t);e.prototype[o]||(e.prototype[o]=e.prototype[t])}},i.executePrototypeOriginFunction=function(e,t,o,c){if(e){var y=this.getOriginFunctionName(o);if(t.prototype[y])return e[y]||(e[y]=t.prototype[y]),this.executeFunction(e,y,c)}},i.executeOriginFunction=function(e,t,o){if(e){var c=this.getOriginFunctionName(t);if(e[c])return this.executeFunction(e,c,o)}},i.executeFunction=function(e,t,o){var c=o;if(c===void 0||c.length===0)return e[t]();switch(c.length){case 1:return e[t](c[0]);case 2:return e[t](c[0],c[1]);case 3:return e[t](c[0],c[1],c[2]);case 4:return e[t](c[0],c[1],c[2],c[3]);case 5:return e[t](c[0],c[1],c[2],c[3],c[4]);case 6:return e[t](c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6]);case 8:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);case 9:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8]);case 10:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9]);case 11:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10]);case 12:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11]);case 13:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12]);case 14:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13]);case 15:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14]);case 16:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]);case 17:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]);case 18:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17]);case 19:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],c[18]);case 20:return e[t](c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],c[18],c[19]);default:return e[t].apply(e,c)}},i.getOriginFunctionName=function(e){return this.originFunctionPrefix+e},i.originFunctionPrefix="__SPECTOR_Origin_",i}(),fe=function(){function i(){}return i.getStackTrace=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0);var o=[];try{throw new Error("Errorator.")}catch(le){if(le.stack)for(var c=0,y=(D=le.stack.split(`
`)).length;c<y;c++)D[c].match(/^\s*[A-Za-z0-9\-_\$]+\(/)?o.push(D[c]):D[c].indexOf("    at ")===0?(D[c]=D[c].replace("    at ",""),o.push(D[c])):D[c].indexOf("/<@http")!==-1?(D[c]=D[c].substring(D[c].indexOf("/<@http")+3),o.push(D[c])):D[c].indexOf("@http")!==-1&&(D[c]=D[c].replace("@http"," (http"),D[c]=D[c]+")",o.push(D[c]));else if(le.message){var D;for(c=0,y=(D=le.message.split(`
`)).length;c<y;c++)if(D[c].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var V=D[c];D[c+1]&&(V+=" at "+D[c+1],c++),o.push(V)}}}if(!o)for(var Z=arguments.callee.caller;Z;){var re=Z.toString(),ae=re.substring(re.indexOf("function")+8,re.indexOf(""))||"anonymous";o.push(ae),Z=Z.caller}if(o){for(o.shift(),c=0;c<e&&o.length>0;c++)o.shift();for(c=0;c<t&&o.length>0;c++)o.pop()}return o},i}(),_e=function(){function i(){}return i.getWebGlObjectTag=function(e){return e[i.SPECTOROBJECTTAGKEY]},i.attachWebGlObjectTag=function(e,t){t.displayText=i.stringifyWebGlObjectTag(t),e[i.SPECTOROBJECTTAGKEY]=t},i.stringifyWebGlObjectTag=function(e){return e?e.typeName+" - ID: "+e.id:"No tag available."},i.SPECTOROBJECTTAGKEY="__SPECTOR_Object_TAG",i}(),Te=function(){function i(){this.id=0}return Object.defineProperty(i.prototype,"type",{get:function(){return window[this.typeName]||null},enumerable:!0,configurable:!0}),i.prototype.tagWebGlObject=function(e){if(this.type){var t;if(!e||(t=_e.getWebGlObjectTag(e)))return t;if(e instanceof this.type){var o=this.getNextId();return t={typeName:this.typeName,id:o},_e.attachWebGlObjectTag(e,t),t}return t}},i.prototype.getNextId=function(){return this.id++},i}(),Ce=function(){function i(e){this.options=e}return i.prototype.createCapture=function(e,t,o){var c=fe.getStackTrace(4,1),y=e.name.indexOf("uniform")===0?this.stringifyUniform(e.arguments):this.stringify(e.arguments,e.result),D={id:t,startTime:e.startTime,commandEndTime:e.endTime,endTime:0,name:e.name,commandArguments:e.arguments,result:e.result,stackTrace:c,status:0,marker:o,text:y};this.transformCapture(D);for(var V=0;V<D.commandArguments.length;V++){var Z=D.commandArguments[V];Z&&Z.length&&Z.length>50&&(D.commandArguments[V]="Array Length: "+Z.length)}if(D.commandArguments){var re=[];for(V=0;V<D.commandArguments.length;V++){var ae=D.commandArguments[V];ae===void 0?re.push(void 0):ae===null?re.push(null):re.push(JSON.parse(this.stringifyJSON(ae)))}D.commandArguments=re}return D.result&&(D.result=JSON.parse(this.stringifyJSON(D.result))),D},i.prototype.stringifyJSON=function(e){try{return JSON.stringify(e)}catch{return null}},i.prototype.transformCapture=function(e){},i.prototype.stringify=function(e,t){var o=this.spiedCommandName;return e&&e.length>0&&(o+=": "+this.stringifyArgs(e).join(", ")),t&&(o+=" -> "+this.stringifyResult(t)),o},i.prototype.stringifyUniform=function(e){var t=this.spiedCommandName;if(e&&e.length>0){var o=[];o.push(this.stringifyValue(e[0]));for(var c=1;c<e.length;c++)if(typeof e[c]=="number"){var y=e[c]+"";o.push(y)}else y=this.stringifyValue(e[c]),o.push(y);t+=": "+o.join(", ")}return t},i.prototype.stringifyArgs=function(e){for(var t=[],o=0;o<e.length;o++){var c=e[o],y=this.stringifyValue(c);t.push(y)}return t},i.prototype.stringifyResult=function(e){if(e)return this.stringifyValue(e)},i.prototype.stringifyValue=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=_e.getWebGlObjectTag(e);return t?t.displayText:typeof e=="number"&&r.isWebGlConstant(e)?r.stringifyWebGlConstant(e,this.spiedCommandName):typeof e=="string"?e:e instanceof HTMLImageElement?e.src:e instanceof ArrayBuffer?"[--("+e.byteLength+")--]":e.length?"[..("+e.length+")..]":e},i}(),De=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Be=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return De(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[],c=this.options.context.getParameter(r.READ_FRAMEBUFFER_BINDING.value),y=this.options.tagWebGlObject(c);o.push("READ FROM: "+this.stringifyValue(y));var D=this.options.context.getParameter(r.DRAW_FRAMEBUFFER_BINDING.value),V=this.options.tagWebGlObject(D);o.push("WRITE TO: "+this.stringifyValue(V));for(var Z=0;Z<8;Z++)o.push(t[Z]);return(t[8]&r.DEPTH_BUFFER_BIT.value)===r.DEPTH_BUFFER_BIT.value&&o.push(r.DEPTH_BUFFER_BIT.name),(t[8]&r.STENCIL_BUFFER_BIT.value)===r.STENCIL_BUFFER_BIT.value&&o.push(r.STENCIL_BUFFER_BIT.name),(t[8]&r.COLOR_BUFFER_BIT.value)===r.COLOR_BUFFER_BIT.value&&o.push(r.COLOR_BUFFER_BIT.name),o.push(r.stringifyWebGlConstant(t[9],"blitFrameBuffer")),o},e.commandName="blitFrameBuffer",e}(Ce),ht=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),dt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ht(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return(t[0]&r.DEPTH_BUFFER_BIT.value)===r.DEPTH_BUFFER_BIT.value&&o.push(r.DEPTH_BUFFER_BIT.name),(t[0]&r.STENCIL_BUFFER_BIT.value)===r.STENCIL_BUFFER_BIT.value&&o.push(r.STENCIL_BUFFER_BIT.name),(t[0]&r.COLOR_BUFFER_BIT.value)===r.COLOR_BUFFER_BIT.value&&o.push(r.COLOR_BUFFER_BIT.name),o},e.commandName="clear",e}(Ce),ue=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),de=["lineWidth"],ge=function(i){function e(t,o){var c=i.call(this,t)||this;return c.internalSpiedCommandName=o,c.isDeprecated=de.indexOf(c.spiedCommandName)>-1,c}return ue(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return this.internalSpiedCommandName},enumerable:!0,configurable:!0}),e.prototype.transformCapture=function(t){this.isDeprecated&&(t.status=50)},e}(Ce),ye=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Se=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ye(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(t[0]),o},e.commandName="disableVertexAttribArray",e}(Ce),Me=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Oe=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Me(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(r.stringifyWebGlConstant(t[0],"drawArrays")),o.push(t[1]),o.push(t[2]),o},e.commandName="drawArrays",e}(Ce),ke=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Le=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ke(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(r.stringifyWebGlConstant(t[0],"drawArraysInstanced")),o.push(t[1]),o.push(t[2]),o.push(t[3]),o},e.commandName="drawArraysInstanced",e}(Ce),Re=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),We=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Re(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(r.stringifyWebGlConstant(t[0],"drawArraysInstancedANGLE")),o.push(t[1]),o.push(t[2]),o.push(t[3]),o},e.commandName="drawArraysInstancedANGLE",e}(Ce),et=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),pt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return et(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(r.stringifyWebGlConstant(t[0],"drawElements")),o.push(t[1]),o.push(r.stringifyWebGlConstant(t[2],"drawElements")),o.push(t[3]),o},e.commandName="drawElements",e}(Ce),yt=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Sn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return yt(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(r.stringifyWebGlConstant(t[0],"drawElementsInstancedANGLE")),o.push(t[1]),o.push(r.stringifyWebGlConstant(t[2],"drawElementsInstancedANGLE")),o.push(t[3]),o.push(t[4]),o},e.commandName="drawElementsInstancedANGLE",e}(Ce),Rn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Bt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Rn(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(r.stringifyWebGlConstant(t[0],"drawElementsInstanced")),o.push(t[1]),o.push(r.stringifyWebGlConstant(t[2],"drawElementsInstanced")),o.push(t[3]),o.push(t[4]),o},e.commandName="drawElementsInstanced",e}(Ce),Jt=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Tn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Jt(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(r.stringifyWebGlConstant(t[0],"drawRangeElements")),o.push(t[1]),o.push(t[2]),o.push(t[3]),o.push(r.stringifyWebGlConstant(t[4],"drawRangeElements")),o.push(t[5]),o},e.commandName="drawRangeElements",e}(Ce),di=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),xn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return di(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyResult=function(t){if(t)return"name: "+t.name+", size: "+t.size+", type: "+t.type},e.commandName="getActiveAttrib",e}(Ce),pi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),$t=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return pi(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyResult=function(t){if(t)return"name: "+t.name+", size: "+t.size+", type: "+t.type},e.commandName="getActiveUniform",e}(Ce),en=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ze=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return en(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyResult=function(t){return t?"true":"false"},e.commandName="getExtension",e}(Ce),tn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),tt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return tn(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyResult=function(t){if(!t)return"null";var o=_e.getWebGlObjectTag(t);return o?o.displayText:t},e.commandName="getParameter",e}(Ce),mi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),mt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return mi(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyResult=function(t){if(t)return"min: "+t.rangeMin+", max: "+t.rangeMax+", precision: "+t.precision},e.commandName="getShaderPrecisionFormat",e}(Ce),Ln=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),At=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Ln(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyResult=function(t){if(t)return"name: "+t.name+", size: "+t.size+", type: "+t.type},e.commandName="getTransformFeedbackVarying",e}(Ce),nn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Dt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return nn(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){for(var o=[],c=0;c<4;c++)o.push(t[c].toFixed(0));return o},e.commandName="scissor",e}(Ce),fi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),In=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return fi(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(t[0]),o.push(t[1]),o.push(r.stringifyWebGlConstant(t[2],"vertexAttribPointer")),o.push(t[3]),o.push(t[4]),o.push(t[5]),o},e.commandName="vertexAttribPointer",e}(Ce),gi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Mn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return gi(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){for(var o=[],c=0;c<4;c++)o.push(t[c].toFixed(0));return o},e.commandName="viewport",e}(Ce),rn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),On=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return rn(e,i),Object.defineProperty(e.prototype,"spiedCommandName",{get:function(){return e.commandName},enumerable:!0,configurable:!0}),e.prototype.stringifyArgs=function(t){var o=[];return o.push(t[0]),o},e.commandName="enableVertexAttribArray",e}(Ce),vi=function(){function i(e){this.spiedCommandName=e.spiedCommandName,this.spiedCommandRunningContext=e.spiedCommandRunningContext,this.spiedCommand=this.spiedCommandRunningContext[this.spiedCommandName],se.storeOriginFunction(this.spiedCommandRunningContext,this.spiedCommandName),this.callback=e.callback,this.commandOptions={context:e.context,contextVersion:e.contextVersion,extensions:e.extensions,toggleCapture:e.toggleCapture},this.initCustomCommands(),this.initCommand()}return i.prototype.spy=function(){this.spiedCommandRunningContext[this.spiedCommandName]=this.overloadedCommand},i.prototype.unSpy=function(){this.spiedCommandRunningContext[this.spiedCommandName]=this.spiedCommand},i.prototype.createCapture=function(e,t,o){return this.command.createCapture(e,t,o)},i.prototype.initCommand=function(){i.customCommandsConstructors[this.spiedCommandName]?this.command=i.customCommandsConstructors[this.spiedCommandName](this.commandOptions):this.command=new ge(this.commandOptions,this.spiedCommandName),this.overloadedCommand=this.getSpy()},i.prototype.getSpy=function(){var e=this;return function(){var t=N.now,o=se.executeOriginFunction(e.spiedCommandRunningContext,e.spiedCommandName,arguments),c=N.now,y={name:e.spiedCommandName,arguments,result:o,startTime:t,endTime:c};return e.callback(e,y),o}},i.prototype.initCustomCommands=function(){var e;i.customCommandsConstructors||(i.customCommandsConstructors=((e={})[Be.commandName]=function(t){return new Be(t)},e[dt.commandName]=function(t){return new dt(t)},e[Se.commandName]=function(t){return new Se(t)},e[Oe.commandName]=function(t){return new Oe(t)},e[Le.commandName]=function(t){return new Le(t)},e[We.commandName]=function(t){return new We(t)},e[pt.commandName]=function(t){return new pt(t)},e[Bt.commandName]=function(t){return new Bt(t)},e[Sn.commandName]=function(t){return new Sn(t)},e[Tn.commandName]=function(t){return new Tn(t)},e[xn.commandName]=function(t){return new xn(t)},e[$t.commandName]=function(t){return new $t(t)},e[ze.commandName]=function(t){return new ze(t)},e[tt.commandName]=function(t){return new tt(t)},e[mt.commandName]=function(t){return new mt(t)},e[At.commandName]=function(t){return new At(t)},e[Dt.commandName]=function(t){return new Dt(t)},e[In.commandName]=function(t){return new In(t)},e[Mn.commandName]=function(t){return new Mn(t)},e[On.commandName]=function(t){return new On(t)},e))},i}(),it=function(){function i(e){this.options=e,this.context=e.context,this.contextVersion=e.contextVersion,this.extensions=e.extensions,this.toggleCapture=e.toggleCapture,this.consumeCommands=this.getConsumeCommands(),this.changeCommandsByState=this.getChangeCommandsByState(),this.commandNameToStates=this.getCommandNameToStates()}return Object.defineProperty(i.prototype,"requireStartAndStopStates",{get:function(){return!0},enumerable:!0,configurable:!0}),i.prototype.startCapture=function(e,t,o){return this.quickCapture=t,this.fullCapture=o,this.capturedCommandsByState={},e&&this.requireStartAndStopStates&&(this.currentState={},this.readFromContextNoSideEffects()),this.copyCurrentStateToPrevious(),this.currentState={},this.previousState},i.prototype.stopCapture=function(){return this.requireStartAndStopStates&&this.readFromContextNoSideEffects(),this.analyse(void 0),this.currentState},i.prototype.registerCallbacks=function(e){for(var t in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(t))for(var o=0,c=this.changeCommandsByState[t];o<c.length;o++){var y=c[o];e[y]=e[y]||[],e[y].push(this.onChangeCommand.bind(this))}for(var D=0,V=this.consumeCommands;D<V.length;D++){var Z=V[D];e[Z]=e[Z]||[],e[Z].push(this.onConsumeCommand.bind(this))}},i.prototype.getStateData=function(){return this.currentState},i.prototype.getConsumeCommands=function(){return[]},i.prototype.getChangeCommandsByState=function(){return{}},i.prototype.copyCurrentStateToPrevious=function(){this.currentState&&(this.previousState=this.currentState)},i.prototype.onChangeCommand=function(e){for(var t=0,o=this.commandNameToStates[e.name];t<o.length;t++){var c=o[t];if(!this.isValidChangeCommand(e,c))return;this.capturedCommandsByState[c]=this.capturedCommandsByState[c]||[],this.capturedCommandsByState[c].push(e)}},i.prototype.isValidChangeCommand=function(e,t){return!0},i.prototype.onConsumeCommand=function(e){this.isValidConsumeCommand(e)&&(this.readFromContextNoSideEffects(),this.analyse(e),this.storeCommandIds(),e[this.stateName]=this.currentState,this.startCapture(!1,this.quickCapture,this.fullCapture))},i.prototype.isValidConsumeCommand=function(e){return this.lastCommandName=e==null?void 0:e.name,!0},i.prototype.analyse=function(e){for(var t in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(t)){var o=this.capturedCommandsByState[t],c=o.length-1;if(c>=0)if(e){for(var y=0;y<c;y++){var D=o[y];D.consumeCommandId=e.id,this.changeCommandCaptureStatus(D,30)}var V=this.isStateEnableNoSideEffects(t,e.commandArguments);(Z=o[c]).consumeCommandId=e.id,this.areStatesEquals(this.currentState[t],this.previousState[t])?this.changeCommandCaptureStatus(Z,30):V?this.changeCommandCaptureStatus(Z,40):this.changeCommandCaptureStatus(Z,20)}else for(y=0;y<o.length;y++){var Z=o[y];this.changeCommandCaptureStatus(Z,10)}}},i.prototype.storeCommandIds=function(){for(var e=["unusedCommandIds","disabledCommandIds","redundantCommandIds","validCommandIds"],t=0,o=e;t<o.length;t++){var c=o[t];this.currentState[c]=[]}for(var y in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(y))for(var D=0,V=this.capturedCommandsByState[y];D<V.length;D++){var Z=V[D];switch(Z.status){case 10:this.currentState.unusedCommandIds.push(Z.id);break;case 20:this.currentState.disabledCommandIds.push(Z.id);break;case 30:this.currentState.redundantCommandIds.push(Z.id);break;case 40:this.currentState.validCommandIds.push(Z.id)}}for(var re=0,ae=e;re<ae.length;re++)c=ae[re],this.currentState[c].length||delete this.currentState[c]},i.prototype.changeCommandCaptureStatus=function(e,t){return e.status<t&&(e.status=t,!0)},i.prototype.areStatesEquals=function(e,t){if(typeof e!=typeof t||e&&!t||t&&!e)return!1;if(e==null)return!0;if(e.length&&t.length&&typeof e!="string"){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}return e===t},i.prototype.isStateEnable=function(e,t){return!0},i.prototype.getSpectorData=function(e){if(e)return{__SPECTOR_Object_TAG:_e.getWebGlObjectTag(e)||this.options.tagWebGlObject(e),__SPECTOR_Object_CustomData:e.__SPECTOR_Object_CustomData,__SPECTOR_Metadata:e.__SPECTOR_Metadata}},i.prototype.readFromContextNoSideEffects=function(){this.toggleCapture(!1),this.readFromContext(),this.toggleCapture(!0)},i.prototype.isStateEnableNoSideEffects=function(e,t){this.toggleCapture(!1);var o=this.isStateEnable(e,t);return this.toggleCapture(!0),o},i.prototype.getCommandNameToStates=function(){var e={};for(var t in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(t))for(var o=0,c=this.changeCommandsByState[t];o<c.length;o++){var y=c[o];e[y]=e[y]||[],e[y].push(t)}return e},i}(),Nn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ue=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Nn(e,i),e.prototype.getWebgl1Parameters=function(){return[]},e.prototype.getWebgl2Parameters=function(){return[]},e.prototype.getChangeCommandsByState=function(){this.parameters=[],this.parameters.push(this.getWebgl1Parameters()),this.contextVersion>1&&this.parameters.push(this.getWebgl2Parameters());for(var t={},o=1;o<=this.contextVersion&&!(o>this.parameters.length);o++)if(this.parameters[o-1])for(var c=0,y=this.parameters[o-1];c<y.length;c++){var D=y[c];if(D.changeCommands)for(var V=0,Z=D.changeCommands;V<Z.length;V++){var re=Z[V];t[D.constant.name]=t[D.constant.name]||[],t[D.constant.name].push(re)}}return t},e.prototype.readFromContext=function(){for(var t=1;t<=this.contextVersion&&!(t>this.parameters.length);t++)for(var o=0,c=this.parameters[t-1];o<c.length;o++){var y=c[o],D=this.readParameterFromContext(y),V=_e.getWebGlObjectTag(D);if(V)this.currentState[y.constant.name]=V;else{var Z=this.stringifyParameterValue(D,y);this.currentState[y.constant.name]=Z}}},e.prototype.readParameterFromContext=function(t){return t.constant.extensionName&&!this.extensions[t.constant.extensionName]?"Extension "+t.constant.extensionName+" is unavailble.":this.context.getParameter(t.constant.value)},e.prototype.stringifyParameterValue=function(t,o){if(t===null)return"null";if(t===void 0)return"undefined";if(o.returnType===30)return t=t.toString(2),t="00000000000000000000000000000000".substr(t.length)+t;if(typeof t=="number"&&r.isWebGlConstant(t)){if(o.returnType===20){var c=o.changeCommands&&o.changeCommands[0]||"";return t=r.stringifyWebGlConstant(t,c)}return t}if(t.length&&typeof t!="string"){for(var y=[],D=0;D<t.length;D++)y.push(t[D]);return y}return t},e}(it),on=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),_i=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return on(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.PACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:r.UNPACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:r.UNPACK_COLORSPACE_CONVERSION_WEBGL,returnType:20,changeCommands:["pixelStorei"]},{constant:r.UNPACK_FLIP_Y_WEBGL,changeCommands:["pixelStorei"]},{constant:r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,changeCommands:["pixelStorei"]}]},e.prototype.getWebgl2Parameters=function(){return[{constant:r.PACK_ROW_LENGTH,changeCommands:["pixelStorei"]},{constant:r.PACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:r.PACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:r.UNPACK_IMAGE_HEIGHT,changeCommands:["pixelStorei"]},{constant:r.UNPACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:r.UNPACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:r.UNPACK_SKIP_IMAGES,changeCommands:["pixelStorei"]}]},e.prototype.getConsumeCommands=function(){return["readPixels","texImage2D","texSubImage2D"]},e.prototype.isValidChangeCommand=function(t,o){return m[o].value===t.commandArguments[0]},e.stateName="AlignmentState",e}(Ue),ft=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Fn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ft(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.BLEND,changeCommands:["enable","disable"]},{constant:r.BLEND_COLOR,changeCommands:["blendColor"]},{constant:r.BLEND_DST_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:r.BLEND_DST_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:r.BLEND_EQUATION_ALPHA,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:r.BLEND_EQUATION_RGB,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:r.BLEND_SRC_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:r.BLEND_SRC_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]}]},e.prototype.isValidChangeCommand=function(t,o){return t.name!=="enable"&&t.name!=="disable"||t.commandArguments[0]===r.BLEND.value},e.prototype.getConsumeCommands=function(){return u},e.prototype.isStateEnable=function(t,o){return this.context.isEnabled(r.BLEND.value)},e.stateName="BlendState",e}(Ue),Pn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ei=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Pn(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.COLOR_CLEAR_VALUE,changeCommands:["clearColor"]},{constant:r.DEPTH_CLEAR_VALUE,changeCommands:["clearDepth"]},{constant:r.STENCIL_CLEAR_VALUE,changeCommands:["clearStencil"]}]},e.prototype.getConsumeCommands=function(){return["clear"]},e.prototype.isStateEnable=function(t,o){switch(t){case r.COLOR_CLEAR_VALUE.name:return r.COLOR_BUFFER_BIT.value===(o[0]&r.COLOR_BUFFER_BIT.value);case r.DEPTH_CLEAR_VALUE.name:return r.DEPTH_BUFFER_BIT.value===(o[0]&r.DEPTH_BUFFER_BIT.value);case r.STENCIL_CLEAR_VALUE.name:return r.STENCIL_BUFFER_BIT.value===(o[0]&r.STENCIL_BUFFER_BIT.value)}return!1},e.stateName="ClearState",e}(Ue),kn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),bi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return kn(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.COLOR_WRITEMASK,changeCommands:["colorMask"]}]},e.prototype.getConsumeCommands=function(){return u},e.stateName="ColorState",e}(Ue),Ci=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Bn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Ci(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.SAMPLE_COVERAGE_VALUE,changeCommands:["sampleCoverage"]},{constant:r.SAMPLE_COVERAGE_INVERT,changeCommands:["sampleCoverage"]}]},e.prototype.getWebgl2Parameters=function(){return[{constant:r.SAMPLE_COVERAGE,changeCommands:["enable","disable"]},{constant:r.SAMPLE_ALPHA_TO_COVERAGE,changeCommands:["enable","disable"]}]},e.prototype.isValidChangeCommand=function(t,o){return t.name!=="enable"&&t.name!=="disable"||(t.commandArguments[0]===r.SAMPLE_COVERAGE.value?o===r.SAMPLE_COVERAGE.name:t.commandArguments[0]===r.SAMPLE_ALPHA_TO_COVERAGE.value&&o===r.SAMPLE_ALPHA_TO_COVERAGE.name)},e.prototype.getConsumeCommands=function(){return u},e.prototype.isStateEnable=function(t,o){return this.contextVersion===2&&this.context.isEnabled(r.SAMPLE_COVERAGE.value)},e.stateName="CoverageState",e}(Ue),rt=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),St=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return rt(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.CULL_FACE,changeCommands:["enable","disable"]},{constant:r.CULL_FACE_MODE,returnType:20,changeCommands:["cullFace"]}]},e.prototype.getConsumeCommands=function(){return u},e.prototype.isValidChangeCommand=function(t,o){return t.name!=="enable"&&t.name!=="disable"||t.commandArguments[0]===r.CULL_FACE.value},e.prototype.isStateEnable=function(t,o){return this.context.isEnabled(r.CULL_FACE.value)},e.stateName="CullState",e}(Ue),wi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),yi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return wi(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.DEPTH_TEST,changeCommands:["enable","disable"]},{constant:r.DEPTH_FUNC,returnType:20,changeCommands:["depthFunc"]},{constant:r.DEPTH_RANGE,changeCommands:["depthRange"]},{constant:r.DEPTH_WRITEMASK,changeCommands:["depthMask"]}]},e.prototype.getConsumeCommands=function(){return u},e.prototype.isValidChangeCommand=function(t,o){return t.name!=="enable"&&t.name!=="disable"||t.commandArguments[0]===r.DEPTH_TEST.value},e.prototype.isStateEnable=function(t,o){return this.context.isEnabled(r.DEPTH_TEST.value)},e.stateName="DepthState",e}(Ue),$n=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Dn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return $n(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.DITHER,changeCommands:["enable","disable"]},{constant:r.VIEWPORT,changeCommands:["viewPort"]},{constant:r.FRONT_FACE,returnType:20,changeCommands:["frontFace"]},{constant:r.FRAGMENT_SHADER_DERIVATIVE_HINT_OES,changeCommands:["hint"]}]},e.prototype.getWebgl2Parameters=function(){return[{constant:r.RASTERIZER_DISCARD,changeCommands:["enable","disable"]},{constant:r.FRAGMENT_SHADER_DERIVATIVE_HINT,changeCommands:["hint"]}]},e.prototype.isValidChangeCommand=function(t,o){return t.name==="enable"||t.name==="disable"?t.commandArguments[0]===r.DITHER.value?o===r.DITHER.name:t.commandArguments[0]===r.RASTERIZER_DISCARD.value&&o===r.RASTERIZER_DISCARD.name:t.name!=="hint"||(t.commandArguments[0]===r.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.value?o===r.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.name:t.commandArguments[0]===r.FRAGMENT_SHADER_DERIVATIVE_HINT.value&&o===r.FRAGMENT_SHADER_DERIVATIVE_HINT.name)},e.prototype.getConsumeCommands=function(){return u},e.prototype.isStateEnable=function(t,o){switch(t){case r.DITHER.name:return this.context.isEnabled(r.DITHER.value);case r.RASTERIZER_DISCARD.name:return this.context.isEnabled(r.RASTERIZER_DISCARD.value)}return!0},e.stateName="DrawState",e}(Ue),Un=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ut=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Un(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.GENERATE_MIPMAP_HINT,changeCommands:["hint"]}]},e.prototype.getConsumeCommands=function(){return["generateMipmap"]},e.stateName="MipmapHintState",e}(Ue),Ai=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Vn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Ai(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.POLYGON_OFFSET_FILL,changeCommands:["enable","disable"]},{constant:r.POLYGON_OFFSET_FACTOR,changeCommands:["polygonOffset"]},{constant:r.POLYGON_OFFSET_UNITS,changeCommands:["polygonOffset"]}]},e.prototype.isValidChangeCommand=function(t,o){return t.name!=="enable"&&t.name!=="disable"||t.commandArguments[0]===r.POLYGON_OFFSET_FILL.value},e.prototype.getConsumeCommands=function(){return u},e.prototype.isStateEnable=function(t,o){return this.context.isEnabled(r.POLYGON_OFFSET_FILL.value)},e.stateName="PolygonOffsetState",e}(Ue),Gn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Si=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Gn(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.SCISSOR_TEST,changeCommands:["enable","disable"]},{constant:r.SCISSOR_BOX,changeCommands:["scissor"]}]},e.prototype.isValidChangeCommand=function(t,o){return t.name!=="enable"&&t.name!=="disable"||t.commandArguments[0]===r.SCISSOR_TEST.value},e.prototype.getConsumeCommands=function(){return u},e.prototype.isStateEnable=function(t,o){return this.context.isEnabled(r.SCISSOR_TEST.value)},e.stateName="ScissorState",e}(Ue),Ri=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ti=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Ri(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.STENCIL_TEST,changeCommands:["enable","disable"]},{constant:r.STENCIL_BACK_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:r.STENCIL_BACK_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:r.STENCIL_BACK_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:r.STENCIL_BACK_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:r.STENCIL_BACK_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:r.STENCIL_BACK_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:r.STENCIL_BACK_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]},{constant:r.STENCIL_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:r.STENCIL_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:r.STENCIL_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:r.STENCIL_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:r.STENCIL_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:r.STENCIL_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:r.STENCIL_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]}]},e.prototype.isValidChangeCommand=function(t,o){return t.name==="enable"||t.name==="disable"?t.commandArguments[0]===r.STENCIL_TEST.value:t.name==="stencilOp"||t.name==="stencilOpSeparate"?e.stencilOpStates.indexOf(t.commandArguments[0])>0:t.name==="stencilFunc"||t.name==="stencilFuncSeparate"?e.stencilFuncStates.indexOf(t.commandArguments[0])>0:t.name!=="stencilMask"&&t.name!=="stencilMaskSeparate"||e.stencilMaskStates.indexOf(t.commandArguments[0])>0},e.prototype.getConsumeCommands=function(){return u},e.prototype.isStateEnable=function(t,o){return this.context.isEnabled(r.STENCIL_TEST.value)},e.stateName="StencilState",e.stencilOpStates=[r.STENCIL_BACK_FAIL.value,r.STENCIL_BACK_PASS_DEPTH_FAIL.value,r.STENCIL_BACK_PASS_DEPTH_PASS.value,r.STENCIL_FAIL.value,r.STENCIL_PASS_DEPTH_FAIL.value,r.STENCIL_PASS_DEPTH_PASS.value],e.stencilFuncStates=[r.STENCIL_BACK_FUNC.value,r.STENCIL_BACK_REF.value,r.STENCIL_BACK_VALUE_MASK.value,r.STENCIL_FUNC.value,r.STENCIL_REF.value,r.STENCIL_VALUE_MASK.value],e.stencilMaskStates=[r.STENCIL_BACK_WRITEMASK.value,r.STENCIL_WRITEMASK.value],e}(Ue),Ye=function(){function i(){}return i.isSupportedCombination=function(e,t,o){return e=e||r.UNSIGNED_BYTE.value,((t=t||r.RGBA.value)===r.RGB.value||t===r.RGBA.value)&&(o===r.RGB.value||o===r.RGBA.value||o===r.RGBA8.value||o===r.RGBA16F.value||o===r.RGBA32F.value||o===r.RGB16F.value||o===r.RGB32F.value||o===r.R11F_G11F_B10F.value||o===r.SRGB8.value||o===r.SRGB8_ALPHA8.value)&&this.isSupportedComponentType(e)},i.readPixels=function(e,t,o,c,y,D){e.getError();var V,Z=c*y*4;if(D===r.UNSIGNED_BYTE.value?V=new Uint8Array(Z):(D=r.FLOAT.value,V=new Float32Array(Z)),e.readPixels(t,o,c,y,e.RGBA,D,V),!e.getError()){if(D===r.UNSIGNED_BYTE.value)return V;for(var re=new Uint8Array(c*y*4),ae=0;ae<y;ae++)for(var le=0;le<c;le++)re[ae*c*4+4*le+0]=255*Math.min(Math.max(V[ae*c*4+4*le+0],0),1),re[ae*c*4+4*le+1]=255*Math.min(Math.max(V[ae*c*4+4*le+1],0),1),re[ae*c*4+4*le+2]=255*Math.min(Math.max(V[ae*c*4+4*le+2],0),1),re[ae*c*4+4*le+3]=255*Math.min(Math.max(V[ae*c*4+4*le+3],0),1);return re}},i.isSupportedComponentType=function(e){return e===r.UNSIGNED_BYTE.value||e===r.UNSIGNED_SHORT_4_4_4_4.value||e===r.UNSIGNED_SHORT_5_5_5_1.value||e===r.UNSIGNED_SHORT_5_6_5.value||e===r.HALF_FLOAT.value||e===r.HALF_FLOAT_OES.value||e===r.FLOAT.value},i}(),qe=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Rt=function(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;var o=Array(i),c=0;for(e=0;e<t;e++)for(var y=arguments[e],D=0,V=y.length;D<V;D++,c++)o[c]=y[D];return o},$e=function(i){function e(t){var o=i.call(this,t)||this;return o.captureFrameBuffer=t.context.createFramebuffer(),o.workingCanvas=document.createElement("canvas"),o.workingContext2D=o.workingCanvas.getContext("2d"),o.captureCanvas=document.createElement("canvas"),o.captureContext2D=o.captureCanvas.getContext("2d"),o.captureContext2D.imageSmoothingEnabled=!0,o.captureContext2D.mozImageSmoothingEnabled=!0,o.captureContext2D.oImageSmoothingEnabled=!0,o.captureContext2D.webkitImageSmoothingEnabled=!0,o.captureContext2D.msImageSmoothingEnabled=!0,o}return qe(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),e.prototype.getConsumeCommands=function(){return Rt(["clear","clearBufferfv","clearBufferiv","clearBufferuiv","clearBufferfi"],u)},e.prototype.readFromContext=function(){var t=this.context;this.currentState.Attachments=[];var o=this.context.getParameter(r.FRAMEBUFFER_BINDING.value);if(!o)return this.currentState.FrameBuffer=null,void this.getCapture(t,"Canvas COLOR_ATTACHMENT",0,0,t.drawingBufferWidth,t.drawingBufferHeight,0,0,r.UNSIGNED_BYTE.value);var c=t.getParameter(t.VIEWPORT),y=c[0],D=c[1],V=c[2],Z=c[3];this.currentState.FrameBuffer=this.getSpectorData(o);var re=this.context.checkFramebufferStatus(r.FRAMEBUFFER.value);if(this.currentState.FrameBufferStatus=v[re].name,re===r.FRAMEBUFFER_COMPLETE.value)if(this.extensions[r.MAX_DRAW_BUFFERS_WEBGL.extensionName])for(var ae=this.context.getParameter(r.MAX_DRAW_BUFFERS_WEBGL.value),le=0;le<ae;le++)this.readFrameBufferAttachmentFromContext(this.context,o,m["COLOR_ATTACHMENT"+le+"_WEBGL"],y,D,V,Z);else if(this.contextVersion>1)for(ae=this.context.getParameter(r.MAX_DRAW_BUFFERS.value),le=0;le<ae;le++)this.readFrameBufferAttachmentFromContext(this.context,o,m["COLOR_ATTACHMENT"+le],y,D,V,Z);else this.readFrameBufferAttachmentFromContext(this.context,o,m.COLOR_ATTACHMENT0,y,D,V,Z)},e.prototype.readFrameBufferAttachmentFromContext=function(t,o,c,y,D,V,Z){var re=r.FRAMEBUFFER.value,ae=this.context.getFramebufferAttachmentParameter(re,c.value,r.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(ae!==r.NONE.value){var le=this.context.getFramebufferAttachmentParameter(re,c.value,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(le){var ve=this.contextVersion>1?this.context.getFramebufferAttachmentParameter(re,c.value,r.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value):r.UNSIGNED_BYTE.value;ae===r.RENDERBUFFER.value?this.readFrameBufferAttachmentFromRenderBuffer(t,o,c,y,D,V,Z,re,ve,le):ae===r.TEXTURE.value&&this.readFrameBufferAttachmentFromTexture(t,o,c,y,D,V,Z,re,ve,le)}}},e.prototype.readFrameBufferAttachmentFromRenderBuffer=function(t,o,c,y,D,V,Z,re,ae,le){var ve=0,Ae=0;if(le.__SPECTOR_Object_CustomData){var Ee=le.__SPECTOR_Object_CustomData;if(V=Ee.width,Z=Ee.height,ve=Ee.samples,Ae=Ee.internalFormat,!ve&&!Ye.isSupportedCombination(ae,r.RGBA.value,Ae))return}else V+=y,Z+=D;if(y=D=0,ve){var be=t,Ze=t.createRenderbuffer(),je=t.getParameter(t.RENDERBUFFER_BINDING);t.bindRenderbuffer(t.RENDERBUFFER,Ze),t.renderbufferStorage(t.RENDERBUFFER,Ae,V,Z),t.bindRenderbuffer(t.RENDERBUFFER,je),t.bindFramebuffer(r.FRAMEBUFFER.value,this.captureFrameBuffer),t.framebufferRenderbuffer(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,r.RENDERBUFFER.value,Ze);var Je=be.getParameter(be.READ_FRAMEBUFFER_BINDING),Cr=be.getParameter(be.DRAW_FRAMEBUFFER_BINDING);be.bindFramebuffer(be.READ_FRAMEBUFFER,o),be.bindFramebuffer(be.DRAW_FRAMEBUFFER,this.captureFrameBuffer),be.blitFramebuffer(0,0,V,Z,0,0,V,Z,t.COLOR_BUFFER_BIT,t.NEAREST),be.bindFramebuffer(r.FRAMEBUFFER.value,this.captureFrameBuffer),be.bindFramebuffer(be.READ_FRAMEBUFFER,Je),be.bindFramebuffer(be.DRAW_FRAMEBUFFER,Cr),this.context.checkFramebufferStatus(r.FRAMEBUFFER.value)===r.FRAMEBUFFER_COMPLETE.value&&this.getCapture(t,c.name,y,D,V,Z,0,0,r.UNSIGNED_BYTE.value),t.bindFramebuffer(r.FRAMEBUFFER.value,o),t.deleteRenderbuffer(Ze)}else t.bindFramebuffer(r.FRAMEBUFFER.value,this.captureFrameBuffer),t.framebufferRenderbuffer(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,r.RENDERBUFFER.value,le),this.context.checkFramebufferStatus(r.FRAMEBUFFER.value)===r.FRAMEBUFFER_COMPLETE.value&&this.getCapture(t,c.name,y,D,V,Z,0,0,ae),t.bindFramebuffer(r.FRAMEBUFFER.value,o)},e.prototype.readFrameBufferAttachmentFromTexture=function(t,o,c,y,D,V,Z,re,ae,le){var ve=0;this.contextVersion>1&&(ve=this.context.getFramebufferAttachmentParameter(re,c.value,r.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value));var Ae=this.context.getFramebufferAttachmentParameter(re,c.value,r.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value),Ee=this.context.getFramebufferAttachmentParameter(re,c.value,r.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value),be=(Ee>0?v[Ee].name:r.TEXTURE_2D.name,!1),Ze=ae;if(le.__SPECTOR_Object_CustomData){var je=le.__SPECTOR_Object_CustomData;if(V=je.width,Z=je.height,Ze=je.type,be=je.target===r.TEXTURE_2D_ARRAY.name,!Ye.isSupportedCombination(je.type,je.format,je.internalFormat))return}else V+=y,Z+=D;y=D=0,t.bindFramebuffer(r.FRAMEBUFFER.value,this.captureFrameBuffer),ve>0||be?t.framebufferTextureLayer(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,le,Ae,ve):t.framebufferTexture2D(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,Ee||r.TEXTURE_2D.value,le,Ae),this.context.checkFramebufferStatus(r.FRAMEBUFFER.value)===r.FRAMEBUFFER_COMPLETE.value&&this.getCapture(t,c.name,y,D,V,Z,Ee,ve,Ze),t.bindFramebuffer(r.FRAMEBUFFER.value,o)},e.prototype.getCapture=function(t,o,c,y,D,V,Z,re,ae){var le={attachmentName:o,src:null,textureCubeMapFace:Z?v[Z].name:null,textureLayer:re};if(!this.quickCapture)try{var ve=Ye.readPixels(t,c,y,D,V,ae);if(ve){this.workingCanvas.width=D,this.workingCanvas.height=V;var Ae=this.workingContext2D.createImageData(Math.ceil(D),Math.ceil(V));if(Ae.data.set(ve),this.workingContext2D.putImageData(Ae,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{var Ee=D/V;Ee<1?(this.captureCanvas.width=e.captureBaseSize*Ee,this.captureCanvas.height=e.captureBaseSize):Ee>1?(this.captureCanvas.width=e.captureBaseSize,this.captureCanvas.height=e.captureBaseSize/Ee):(this.captureCanvas.width=e.captureBaseSize,this.captureCanvas.height=e.captureBaseSize)}this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this.captureContext2D.drawImage(this.workingCanvas,0,0,D,V,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",le.src=this.captureCanvas.toDataURL()}}catch(be){O.warn("Spector can not capture the visual state: "+be)}this.currentState.Attachments.push(le)},e.prototype.analyse=function(t){},e.stateName="VisualState",e.captureBaseSize=256,e}(it),lt=function(){function i(e){this.context=e.context,this.captureFrameBuffer=e.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this.captureContext2D.imageSmoothingEnabled=!0,this.captureContext2D.mozImageSmoothingEnabled=!0,this.captureContext2D.oImageSmoothingEnabled=!0,this.captureContext2D.webkitImageSmoothingEnabled=!0,this.captureContext2D.msImageSmoothingEnabled=!0}return i.prototype.appendTextureState=function(e,t,o,c){if(o===void 0&&(o=null),t){var y=t.__SPECTOR_Object_CustomData;y&&(this.fullCapture=c,y.type&&(e.textureType=this.getWebGlConstant(y.type)),y.format&&(e.format=this.getWebGlConstant(y.format)),y.internalFormat&&(e.internalFormat=this.getWebGlConstant(y.internalFormat)),e.width=y.width,e.height=y.height,y.depth&&(e.depth=y.depth),o&&(e.visual=this.getTextureVisualState(o,t,y)))}},i.prototype.getTextureVisualState=function(e,t,o){try{var c=this.context,y={};if(!Ye.isSupportedCombination(o.type,o.format,o.internalFormat))return y;var D=this.context.getParameter(r.FRAMEBUFFER_BINDING.value);c.bindFramebuffer(r.FRAMEBUFFER.value,this.captureFrameBuffer);try{var V=o.width,Z=o.height;if(e===r.TEXTURE_3D&&o.depth)for(var re=c,ae=0;ae<o.depth;ae++)ae>2&&ae<o.depth-3||(re.framebufferTextureLayer(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,t,0,ae),y["3D Layer "+ae]=this.getCapture(c,0,0,V,Z,o.type));else if(e===r.TEXTURE_2D_ARRAY&&o.depth)for(re=c,ae=0;ae<o.depth;ae++)ae>2&&ae<o.depth-3||(re.framebufferTextureLayer(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,t,0,ae),y["Layer "+ae]=this.getCapture(c,0,0,V,Z,o.type));else if(e===r.TEXTURE_CUBE_MAP)for(var le=0,ve=i.cubeMapFaces;le<ve.length;le++){var Ae=ve[le];c.framebufferTexture2D(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,Ae.value,t,0),y[Ae.name]=this.getCapture(c,0,0,V,Z,o.type)}else c.framebufferTexture2D(r.FRAMEBUFFER.value,r.COLOR_ATTACHMENT0.value,r.TEXTURE_2D.value,t,0),y[r.TEXTURE_2D.name]=this.getCapture(c,0,0,V,Z,o.type)}catch{}return c.bindFramebuffer(r.FRAMEBUFFER.value,D),y}catch{}},i.prototype.getCapture=function(e,t,o,c,y,D){try{if(this.context.checkFramebufferStatus(r.FRAMEBUFFER.value)!==r.FRAMEBUFFER_COMPLETE.value)return;D=D||r.UNSIGNED_BYTE.value;var V=Ye.readPixels(e,t,o,c,y,D);if(!V)return;this.workingCanvas.width=c,this.workingCanvas.height=y;var Z=this.workingContext2D.createImageData(c,y);if(Z.data.set(V),this.workingContext2D.putImageData(Z,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{var re=c/y;re<1?(this.captureCanvas.width=$e.captureBaseSize*re,this.captureCanvas.height=$e.captureBaseSize):re>1?(this.captureCanvas.width=$e.captureBaseSize,this.captureCanvas.height=$e.captureBaseSize/re):(this.captureCanvas.width=$e.captureBaseSize,this.captureCanvas.height=$e.captureBaseSize)}return this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this.captureContext2D.drawImage(this.workingCanvas,0,0,c,y,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",this.captureCanvas.toDataURL()}catch{}},i.prototype.getWebGlConstant=function(e){var t=v[e];return t?t.name:e+""},i.captureBaseSize=64,i.cubeMapFaces=[r.TEXTURE_CUBE_MAP_POSITIVE_X,r.TEXTURE_CUBE_MAP_POSITIVE_Y,r.TEXTURE_CUBE_MAP_POSITIVE_Z,r.TEXTURE_CUBE_MAP_NEGATIVE_X,r.TEXTURE_CUBE_MAP_NEGATIVE_Y,r.TEXTURE_CUBE_MAP_NEGATIVE_Z],i}(),sn=function(){function i(e){this.context=e.context}return i.prototype.getUboValue=function(e,t,o,c){var y=i.uboTypes[c];if(y){var D=new y.arrayBufferView(o*y.lengthMultiplier),V=this.context,Z=V.getIndexedParameter(r.UNIFORM_BUFFER_BINDING.value,e);if(Z){var re=V.getIndexedParameter(r.UNIFORM_BUFFER_START.value,e),ae=V.getParameter(r.UNIFORM_BUFFER_BINDING.value);try{V.bindBuffer(r.UNIFORM_BUFFER.value,Z),V.getBufferSubData(r.UNIFORM_BUFFER.value,re+t,D)}catch{return}ae&&V.bindBuffer(r.UNIFORM_BUFFER.value,ae)}return Array.prototype.slice.call(D)}},i.uboTypes=((C={})[r.BOOL.value]={arrayBufferView:Uint8Array,lengthMultiplier:1},C[r.BOOL_VEC2.value]={arrayBufferView:Uint8Array,lengthMultiplier:2},C[r.BOOL_VEC3.value]={arrayBufferView:Uint8Array,lengthMultiplier:3},C[r.BOOL_VEC4.value]={arrayBufferView:Uint8Array,lengthMultiplier:4},C[r.INT.value]={arrayBufferView:Int32Array,lengthMultiplier:1},C[r.INT_VEC2.value]={arrayBufferView:Int32Array,lengthMultiplier:2},C[r.INT_VEC3.value]={arrayBufferView:Int32Array,lengthMultiplier:3},C[r.INT_VEC4.value]={arrayBufferView:Int32Array,lengthMultiplier:4},C[r.UNSIGNED_INT.value]={arrayBufferView:Uint32Array,lengthMultiplier:1},C[r.UNSIGNED_INT_VEC2.value]={arrayBufferView:Uint32Array,lengthMultiplier:2},C[r.UNSIGNED_INT_VEC3.value]={arrayBufferView:Uint32Array,lengthMultiplier:3},C[r.UNSIGNED_INT_VEC4.value]={arrayBufferView:Uint32Array,lengthMultiplier:4},C[r.FLOAT.value]={arrayBufferView:Float32Array,lengthMultiplier:1},C[r.FLOAT_VEC2.value]={arrayBufferView:Float32Array,lengthMultiplier:2},C[r.FLOAT_VEC3.value]={arrayBufferView:Float32Array,lengthMultiplier:3},C[r.FLOAT_VEC4.value]={arrayBufferView:Float32Array,lengthMultiplier:4},C[r.FLOAT_MAT2.value]={arrayBufferView:Float32Array,lengthMultiplier:4},C[r.FLOAT_MAT2x3.value]={arrayBufferView:Float32Array,lengthMultiplier:6},C[r.FLOAT_MAT2x4.value]={arrayBufferView:Float32Array,lengthMultiplier:8},C[r.FLOAT_MAT3.value]={arrayBufferView:Float32Array,lengthMultiplier:9},C[r.FLOAT_MAT3x2.value]={arrayBufferView:Float32Array,lengthMultiplier:6},C[r.FLOAT_MAT3x4.value]={arrayBufferView:Float32Array,lengthMultiplier:12},C[r.FLOAT_MAT4.value]={arrayBufferView:Float32Array,lengthMultiplier:16},C[r.FLOAT_MAT4x2.value]={arrayBufferView:Float32Array,lengthMultiplier:8},C[r.FLOAT_MAT4x3.value]={arrayBufferView:Float32Array,lengthMultiplier:12},C[r.SAMPLER_2D.value]={arrayBufferView:Uint8Array,lengthMultiplier:1},C[r.SAMPLER_CUBE.value]={arrayBufferView:Uint8Array,lengthMultiplier:1},C),i}(),Xe=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Tt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLBuffer"},enumerable:!0,configurable:!0}),e}(Te),Wn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLFramebuffer"},enumerable:!0,configurable:!0}),e}(Te),Vt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLProgram"},enumerable:!0,configurable:!0}),e.saveInGlobalStore=function(t){var o=_e.getWebGlObjectTag(t);o&&(this.store[o.id]=t)},e.getFromGlobalStore=function(t){return this.store[t]},e.updateInGlobalStore=function(t,o){if(o){var c=this.getFromGlobalStore(t);if(c){var y=_e.getWebGlObjectTag(c);y&&(_e.attachWebGlObjectTag(o,y),this.store[y.id]=o)}}},e.store={},e}(Te),Hn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLQuery"},enumerable:!0,configurable:!0}),e}(Te),jn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLRenderbuffer"},enumerable:!0,configurable:!0}),e}(Te),xi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLSampler"},enumerable:!0,configurable:!0}),e}(Te),Gt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLShader"},enumerable:!0,configurable:!0}),e}(Te),Li=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLSync"},enumerable:!0,configurable:!0}),e}(Te),Xn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLTexture"},enumerable:!0,configurable:!0}),e}(Te),Kn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLTransformFeedback"},enumerable:!0,configurable:!0}),e}(Te),Ii=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLUniformLocation"},enumerable:!0,configurable:!0}),e}(Te),Mi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xe(e,i),Object.defineProperty(e.prototype,"typeName",{get:function(){return"WebGLVertexArrayObject"},enumerable:!0,configurable:!0}),e}(Te),zn=function(){function i(){}return i.getProgramData=function(e,t){for(var o={LINK_STATUS:e.getProgramParameter(t,r.LINK_STATUS.value),VALIDATE_STATUS:e.getProgramParameter(t,r.VALIDATE_STATUS.value)},c=e.getAttachedShaders(t),y=new Array(2),D=0,V=0,Z=c;V<Z.length;V++){var re=Z[V],ae=this.readShaderFromContext(e,re);D+=ae.source.length,ae.fragment?y[1]=ae:y[0]=ae}return{programStatus:o,shaders:y,length:D}},i.readShaderFromContext=function(e,t){var o=e.getShaderSource(t),c=e.getExtension("WEBGL_debug_shaders"),y=c?c.getTranslatedShaderSource(t):null,D=e.getShaderParameter(t,r.SHADER_TYPE.value)===r.FRAGMENT_SHADER.value,V=t&&t.__SPECTOR_Metadata&&t.__SPECTOR_Metadata.name?t.__SPECTOR_Metadata.name:this.readNameFromShaderSource(o);return V||(V=D?"Fragment":"Vertex"),{COMPILE_STATUS:e.getShaderParameter(t,r.COMPILE_STATUS.value),fragment:D,name:V,source:o,translatedSource:y}},i.readNameFromShaderSource=function(e){try{var t="",o=void 0,c=/#define[\s]+SHADER_NAME[\s]+([\S]+)(\n|$)/gi;if((o=c.exec(e))!==null&&(o.index===c.lastIndex&&c.lastIndex++,t=o[1]),t===""){var y=/#define[\s]+SHADER_NAME_B64[\s]+([\S]+)(\n|$)/gi;(o=y.exec(e))!==null&&(o.index===y.lastIndex&&y.lastIndex++,t=o[1]),t&&(t=decodeURIComponent(atob(t)))}return t}catch{return null}},i}(),Oi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Yn=function(){return(Yn=Object.assign||function(i){for(var e,t=1,o=arguments.length;t<o;t++)for(var c in e=arguments[t])Object.prototype.hasOwnProperty.call(e,c)&&(i[c]=e[c]);return i}).apply(this,arguments)},an=function(i){function e(t){var o=i.call(this,t)||this;return o.drawCallTextureInputState=new lt(t),o.drawCallUboInputState=new sn(t),o}return Oi(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return e.stateName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requireStartAndStopStates",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.getConsumeCommands=function(){return u},e.prototype.getChangeCommandsByState=function(){return{}},e.prototype.readFromContext=function(){var t,o=this.context.getParameter(r.CURRENT_PROGRAM.value);if(o){this.currentState.frameBuffer=this.readFrameBufferFromContext();var c=o.__SPECTOR_Object_CustomData?o.__SPECTOR_Object_CustomData:zn.getProgramData(this.context,o);if(this.currentState.programStatus=Yn({},c.programStatus),this.currentState.programStatus.program=this.getSpectorData(o),this.currentState.programStatus.RECOMPILABLE=M.isBuildableProgram(o),this.currentState.programStatus.RECOMPILABLE&&Vt.saveInGlobalStore(o),this.currentState.shaders=c.shaders,((t=this.lastCommandName)===null||t===void 0?void 0:t.indexOf("Elements"))>=0){var y=this.context.getParameter(this.context.ELEMENT_ARRAY_BUFFER_BINDING);y&&(this.currentState.elementArray={},this.currentState.elementArray.arrayBuffer=this.getSpectorData(y))}var D=this.context.getProgramParameter(o,r.ACTIVE_ATTRIBUTES.value);this.currentState.attributes=[];for(var V=0;V<D;V++){var Z=this.readAttributeFromContext(o,V);this.currentState.attributes.push(Z)}var re=this.context.getProgramParameter(o,r.ACTIVE_UNIFORMS.value);this.currentState.uniforms=[];var ae=[];for(V=0;V<re;V++){ae.push(V);var le=this.readUniformFromContext(o,V);this.currentState.uniforms.push(le)}if(this.contextVersion>1){var ve=this.context.getProgramParameter(o,r.ACTIVE_UNIFORM_BLOCKS.value);for(this.currentState.uniformBlocks=[],V=0;V<ve;V++){var Ae=this.readUniformBlockFromContext(o,V);this.currentState.uniformBlocks.push(Ae)}if(this.readUniformsFromContextIntoState(o,ae,this.currentState.uniforms,this.currentState.uniformBlocks),this.context.getParameter(r.TRANSFORM_FEEDBACK_ACTIVE.value)){var Ee=this.context.getProgramParameter(o,r.TRANSFORM_FEEDBACK_BUFFER_MODE.value);this.currentState.transformFeedbackMode=this.getWebGlConstant(Ee),this.currentState.transformFeedbacks=[];var be=this.context.getProgramParameter(o,r.TRANSFORM_FEEDBACK_VARYINGS.value);for(V=0;V<be;V++){var Ze=this.readTransformFeedbackFromContext(o,V);this.currentState.transformFeedbacks.push(Ze)}}}for(V=0;V<ae.length;V++){if((le=this.currentState.uniforms[V]).value!==null&&le.value!==void 0){var je=e.samplerTypes[le.typeValue];if(je)if(le.value.length){le.textures=[];for(var Je=0;Je<le.value.length;Je++)le.textures.push(this.readTextureFromContext(le.value[Je],je))}else le.texture=this.readTextureFromContext(le.value,je)}delete le.typeValue}}},e.prototype.readFrameBufferFromContext=function(){var t=this.context.getParameter(r.FRAMEBUFFER_BINDING.value);if(!t)return null;var o={};if(o.frameBuffer=this.getSpectorData(t),this.readFrameBufferAttachmentFromContext(r.DEPTH_ATTACHMENT.value)&&(o.depthAttachment=this.readFrameBufferAttachmentFromContext(r.DEPTH_ATTACHMENT.value)),this.readFrameBufferAttachmentFromContext(r.STENCIL_ATTACHMENT.value)&&(o.stencilAttachment=this.readFrameBufferAttachmentFromContext(r.STENCIL_ATTACHMENT.value)),this.extensions[r.MAX_DRAW_BUFFERS_WEBGL.extensionName]){o.colorAttachments=[];for(var c=this.context.getParameter(r.MAX_DRAW_BUFFERS_WEBGL.value),y=0;y<c;y++)(V=this.readFrameBufferAttachmentFromContext(m["COLOR_ATTACHMENT"+y+"_WEBGL"].value))&&o.colorAttachments.push(V)}else if(this.contextVersion>1){var D=this.context;for(o.colorAttachments=[],c=D.getParameter(r.MAX_DRAW_BUFFERS.value),y=0;y<c;y++)(V=this.readFrameBufferAttachmentFromContext(m["COLOR_ATTACHMENT"+y].value))&&o.colorAttachments.push(V)}else{var V;(V=this.readFrameBufferAttachmentFromContext(m.COLOR_ATTACHMENT0.value))&&(o.colorAttachments=[V])}return o},e.prototype.readFrameBufferAttachmentFromContext=function(t){var o=r.FRAMEBUFFER.value,c=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(c!==r.NONE.value){var y={},D=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(c===r.RENDERBUFFER.value){if(y.type="RENDERBUFFER",y.buffer=this.getSpectorData(D),D){var V=D.__SPECTOR_Object_CustomData;V&&(V.internalFormat&&(y.internalFormat=this.getWebGlConstant(V.internalFormat)),y.width=V.width,y.height=V.height,y.msaaSamples=V.samples)}}else if(c===r.TEXTURE.value){y.type="TEXTURE",y.texture=this.getSpectorData(D),y.textureLevel=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value);var Z=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);y.textureCubeMapFace=this.getWebGlConstant(Z),this.drawCallTextureInputState.appendTextureState(y,D,null,this.fullCapture)}return this.extensions.EXT_sRGB&&(y.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT.value))),this.contextVersion>1&&(y.alphaSize=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE.value),y.blueSize=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE.value),y.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING.value)),y.componentType=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value)),y.depthSize=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE.value),y.greenSize=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE.value),y.redSize=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_RED_SIZE.value),y.stencilSize=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value),c===r.TEXTURE.value&&(y.textureLayer=this.context.getFramebufferAttachmentParameter(o,t,r.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value))),y}},e.prototype.readAttributeFromContext=function(t,o){var c=this.context.getActiveAttrib(t,o),y=this.context.getAttribLocation(t,c.name);if(y===-1)return{name:c.name,size:c.size,type:this.getWebGlConstant(c.type),location:-1};var D=this.context.getVertexAttrib(y,r.CURRENT_VERTEX_ATTRIB.value),V=this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING.value),Z={name:c.name,size:c.size,type:this.getWebGlConstant(c.type),location:y,offsetPointer:this.context.getVertexAttribOffset(y,r.VERTEX_ATTRIB_ARRAY_POINTER.value),bufferBinding:this.getSpectorData(V),enabled:this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_ENABLED.value),arraySize:this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_SIZE.value),stride:this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_STRIDE.value),arrayType:this.getWebGlConstant(this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_TYPE.value)),normalized:this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_NORMALIZED.value),vertexAttrib:Array.prototype.slice.call(D)};return this.extensions[r.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.extensionName]?Z.divisor=this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.value):this.contextVersion>1&&(Z.integer=this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_INTEGER.value),Z.divisor=this.context.getVertexAttrib(y,r.VERTEX_ATTRIB_ARRAY_DIVISOR.value)),this.appendBufferCustomData(Z,V),Z},e.prototype.readUniformFromContext=function(t,o){var c=this.context.getActiveUniform(t,o),y=this.context.getUniformLocation(t,c.name);if(y){if(c.size>1&&c.name&&c.name.indexOf("[0]")===c.name.length-3){for(var D=[],V=0;V<c.size;V++){var Z=this.context.getUniformLocation(t,c.name.replace("[0]","["+V+"]"));Z&&((re=this.context.getUniform(t,Z)).length&&(re=Array.prototype.slice.call(re)),D.push({value:re}))}return{name:c.name.replace("[0]",""),size:c.size,type:this.getWebGlConstant(c.type),typeValue:c.type,location:this.getSpectorData(y),values:D}}var re;return(re=this.context.getUniform(t,y)).length&&(re=Array.prototype.slice.call(re)),{name:c.name,size:c.size,type:this.getWebGlConstant(c.type),typeValue:c.type,location:this.getSpectorData(y),value:re}}return{name:c.name,size:c.size,type:this.getWebGlConstant(c.type),typeValue:c.type}},e.prototype.readTextureFromContext=function(t,o){var c=this.context.getParameter(r.ACTIVE_TEXTURE.value);this.context.activeTexture(r.TEXTURE0.value+t);var y={magFilter:this.getWebGlConstant(this.context.getTexParameter(o.value,r.TEXTURE_MAG_FILTER.value)),minFilter:this.getWebGlConstant(this.context.getTexParameter(o.value,r.TEXTURE_MIN_FILTER.value)),wrapS:this.getWebGlConstant(this.context.getTexParameter(o.value,r.TEXTURE_WRAP_S.value)),wrapT:this.getWebGlConstant(this.context.getTexParameter(o.value,r.TEXTURE_WRAP_T.value))};if(this.extensions[r.TEXTURE_MAX_ANISOTROPY_EXT.extensionName]&&(y.anisotropy=this.context.getTexParameter(o.value,r.TEXTURE_MAX_ANISOTROPY_EXT.value)),this.contextVersion>1){y.baseLevel=this.context.getTexParameter(o.value,r.TEXTURE_BASE_LEVEL.value),y.immutable=this.context.getTexParameter(o.value,r.TEXTURE_IMMUTABLE_FORMAT.value),y.immutableLevels=this.context.getTexParameter(o.value,r.TEXTURE_IMMUTABLE_LEVELS.value),y.maxLevel=this.context.getTexParameter(o.value,r.TEXTURE_MAX_LEVEL.value);var D=this.context.getParameter(r.SAMPLER_BINDING.value);if(D){y.sampler=this.getSpectorData(D);var V=this.context;y.samplerMaxLod=V.getSamplerParameter(D,r.TEXTURE_MAX_LOD.value),y.samplerMinLod=V.getSamplerParameter(D,r.TEXTURE_MIN_LOD.value),y.samplerCompareFunc=this.getWebGlConstant(V.getSamplerParameter(D,r.TEXTURE_COMPARE_FUNC.value)),y.samplerCompareMode=this.getWebGlConstant(V.getSamplerParameter(D,r.TEXTURE_COMPARE_MODE.value)),y.samplerWrapS=this.getWebGlConstant(V.getSamplerParameter(D,r.TEXTURE_WRAP_S.value)),y.samplerWrapT=this.getWebGlConstant(V.getSamplerParameter(D,r.TEXTURE_WRAP_T.value)),y.samplerWrapR=this.getWebGlConstant(V.getSamplerParameter(D,r.TEXTURE_WRAP_R.value)),y.samplerMagFilter=this.getWebGlConstant(V.getSamplerParameter(D,r.TEXTURE_MAG_FILTER.value)),y.samplerMinFilter=this.getWebGlConstant(V.getSamplerParameter(D,r.TEXTURE_MIN_FILTER.value))}else y.maxLod=this.context.getTexParameter(o.value,r.TEXTURE_MAX_LOD.value),y.minLod=this.context.getTexParameter(o.value,r.TEXTURE_MIN_LOD.value),y.compareFunc=this.getWebGlConstant(this.context.getTexParameter(o.value,r.TEXTURE_COMPARE_FUNC.value)),y.compareMode=this.getWebGlConstant(this.context.getTexParameter(o.value,r.TEXTURE_COMPARE_MODE.value)),y.wrapR=this.getWebGlConstant(this.context.getTexParameter(o.value,r.TEXTURE_WRAP_R.value))}var Z=this.getTextureStorage(o);if(Z){var re=this.quickCapture?null:o;this.drawCallTextureInputState.appendTextureState(y,Z,re,this.fullCapture)}return this.context.activeTexture(c),y},e.prototype.getTextureStorage=function(t){return t===r.TEXTURE_2D?this.context.getParameter(r.TEXTURE_BINDING_2D.value):t===r.TEXTURE_CUBE_MAP?this.context.getParameter(r.TEXTURE_BINDING_CUBE_MAP.value):t===r.TEXTURE_3D?this.context.getParameter(r.TEXTURE_BINDING_3D.value):t===r.TEXTURE_2D_ARRAY?this.context.getParameter(r.TEXTURE_BINDING_2D_ARRAY.value):void 0},e.prototype.readUniformsFromContextIntoState=function(t,o,c,y){for(var D=this.context,V=D.getActiveUniforms(t,o,r.UNIFORM_TYPE.value),Z=D.getActiveUniforms(t,o,r.UNIFORM_SIZE.value),re=D.getActiveUniforms(t,o,r.UNIFORM_BLOCK_INDEX.value),ae=D.getActiveUniforms(t,o,r.UNIFORM_OFFSET.value),le=D.getActiveUniforms(t,o,r.UNIFORM_ARRAY_STRIDE.value),ve=D.getActiveUniforms(t,o,r.UNIFORM_MATRIX_STRIDE.value),Ae=D.getActiveUniforms(t,o,r.UNIFORM_IS_ROW_MAJOR.value),Ee=0;Ee<o.length;Ee++){var be=c[Ee];if(be.type=this.getWebGlConstant(V[Ee]),be.size=Z[Ee],be.blockIndice=re[Ee],be.blockIndice>-1&&(be.blockName=D.getActiveUniformBlockName(t,be.blockIndice)),be.offset=ae[Ee],be.arrayStride=le[Ee],be.matrixStride=ve[Ee],be.rowMajor=Ae[Ee],be.blockIndice>-1){var Ze=y[re[Ee]].bindingPoint;be.value=this.drawCallUboInputState.getUboValue(Ze,be.offset,be.size,V[Ee])}}},e.prototype.readTransformFeedbackFromContext=function(t,o){var c=this.context,y=c.getTransformFeedbackVarying(t,o),D=c.getIndexedParameter(r.TRANSFORM_FEEDBACK_BUFFER_BINDING.value,o),V={name:y.name,size:y.size,type:this.getWebGlConstant(y.type),buffer:this.getSpectorData(D),bufferSize:c.getIndexedParameter(r.TRANSFORM_FEEDBACK_BUFFER_SIZE.value,o),bufferStart:c.getIndexedParameter(r.TRANSFORM_FEEDBACK_BUFFER_START.value,o)};return this.appendBufferCustomData(V,D),V},e.prototype.readUniformBlockFromContext=function(t,o){var c=this.context,y=c.getActiveUniformBlockParameter(t,o,r.UNIFORM_BLOCK_BINDING.value),D=c.getIndexedParameter(r.UNIFORM_BUFFER_BINDING.value,y),V={name:c.getActiveUniformBlockName(t,o),bindingPoint:y,size:c.getActiveUniformBlockParameter(t,o,r.UNIFORM_BLOCK_DATA_SIZE.value),activeUniformCount:c.getActiveUniformBlockParameter(t,o,r.UNIFORM_BLOCK_ACTIVE_UNIFORMS.value),vertex:c.getActiveUniformBlockParameter(t,o,r.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER.value),fragment:c.getActiveUniformBlockParameter(t,o,r.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER.value),buffer:this.getSpectorData(D)};return this.appendBufferCustomData(V,D),V},e.prototype.appendBufferCustomData=function(t,o){if(o){var c=o.__SPECTOR_Object_CustomData;c&&(c.usage&&(t.bufferUsage=this.getWebGlConstant(c.usage)),t.bufferLength=c.length,c.offset&&(t.bufferOffset=c.offset),c.sourceLength&&(t.bufferSourceLength=c.sourceLength))}},e.prototype.getWebGlConstant=function(t){var o=v[t];return o?o.name:t},e.stateName="DrawCall",e.samplerTypes=((b={})[r.SAMPLER_2D.value]=r.TEXTURE_2D,b[r.SAMPLER_CUBE.value]=r.TEXTURE_CUBE_MAP,b[r.SAMPLER_3D.value]=r.TEXTURE_3D,b[r.SAMPLER_2D_SHADOW.value]=r.TEXTURE_2D,b[r.SAMPLER_2D_ARRAY.value]=r.TEXTURE_2D_ARRAY,b[r.SAMPLER_2D_ARRAY_SHADOW.value]=r.TEXTURE_2D_ARRAY,b[r.SAMPLER_CUBE_SHADOW.value]=r.TEXTURE_CUBE_MAP,b[r.INT_SAMPLER_2D.value]=r.TEXTURE_2D,b[r.INT_SAMPLER_3D.value]=r.TEXTURE_3D,b[r.INT_SAMPLER_CUBE.value]=r.TEXTURE_CUBE_MAP,b[r.INT_SAMPLER_2D_ARRAY.value]=r.TEXTURE_2D_ARRAY,b[r.UNSIGNED_INT_SAMPLER_2D.value]=r.TEXTURE_2D,b[r.UNSIGNED_INT_SAMPLER_3D.value]=r.TEXTURE_3D,b[r.UNSIGNED_INT_SAMPLER_CUBE.value]=r.TEXTURE_CUBE_MAP,b[r.UNSIGNED_INT_SAMPLER_2D_ARRAY.value]=r.TEXTURE_2D_ARRAY,b),e}(it),xt=function(){function i(e){this.contextInformation=e,this.stateTrackers=[],this.onCommandCapturedCallbacks={},this.initStateTrackers()}return i.prototype.startCapture=function(e,t,o){for(var c=0,y=this.stateTrackers;c<y.length;c++){var D=y[c],V=D.startCapture(!0,t,o);D.requireStartAndStopStates&&(e.initState[D.stateName]=V)}},i.prototype.stopCapture=function(e){for(var t=0,o=this.stateTrackers;t<o.length;t++){var c=o[t],y=c.stopCapture();c.requireStartAndStopStates&&(e.endState[c.stateName]=y)}},i.prototype.captureState=function(e){var t=this.onCommandCapturedCallbacks[e.name];if(t)for(var o=0,c=t;o<c.length;o++)(0,c[o])(e)},i.prototype.initStateTrackers=function(){this.stateTrackers.push(new _i(this.contextInformation),new Fn(this.contextInformation),new Ei(this.contextInformation),new bi(this.contextInformation),new Bn(this.contextInformation),new St(this.contextInformation),new yi(this.contextInformation),new Dn(this.contextInformation),new Ut(this.contextInformation),new Vn(this.contextInformation),new Si(this.contextInformation),new Ti(this.contextInformation),new $e(this.contextInformation),new an(this.contextInformation));for(var e=0,t=this.stateTrackers;e<t.length;e++)t[e].registerCallbacks(this.onCommandCapturedCallbacks)},i}(),Lt=function(){function i(e){this.options=e,this.createCommandNames=this.getCreateCommandNames(),this.updateCommandNames=this.getUpdateCommandNames(),this.deleteCommandNames=this.getDeleteCommandNames(),this.startTime=N.now,this.memoryPerSecond={},this.totalMemory=0,this.frameMemory=0,this.capturing=!1,i.initializeByteSizeFormat()}return i.initializeByteSizeFormat=function(){var e;this.byteSizePerInternalFormat||(this.byteSizePerInternalFormat=((e={})[r.R8.value]=1,e[r.R16F.value]=2,e[r.R32F.value]=4,e[r.R8UI.value]=1,e[r.RG8.value]=2,e[r.RG16F.value]=4,e[r.RG32F.value]=8,e[r.ALPHA.value]=1,e[r.RGB.value]=3,e[r.RGBA.value]=4,e[r.LUMINANCE.value]=1,e[r.LUMINANCE_ALPHA.value]=2,e[r.DEPTH_COMPONENT.value]=1,e[r.DEPTH_STENCIL.value]=2,e[r.SRGB_EXT.value]=3,e[r.SRGB_ALPHA_EXT.value]=4,e[r.RGB8.value]=3,e[r.SRGB8.value]=3,e[r.RGB565.value]=2,e[r.R11F_G11F_B10F.value]=4,e[r.RGB9_E5.value]=2,e[r.RGB16F.value]=6,e[r.RGB32F.value]=12,e[r.RGB8UI.value]=3,e[r.RGBA8.value]=4,e[r.RGB5_A1.value]=2,e[r.RGBA16F.value]=8,e[r.RGBA32F.value]=16,e[r.RGBA8UI.value]=4,e[r.COMPRESSED_R11_EAC.value]=4,e[r.COMPRESSED_SIGNED_R11_EAC.value]=4,e[r.COMPRESSED_RG11_EAC.value]=4,e[r.COMPRESSED_SIGNED_RG11_EAC.value]=4,e[r.COMPRESSED_RGB8_ETC2.value]=4,e[r.COMPRESSED_RGBA8_ETC2_EAC.value]=4,e[r.COMPRESSED_SRGB8_ETC2.value]=4,e[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC.value]=4,e[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]=4,e[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]=4,e[r.COMPRESSED_RGB_S3TC_DXT1_EXT.value]=.5,e[r.COMPRESSED_RGBA_S3TC_DXT3_EXT.value]=1,e[r.COMPRESSED_RGBA_S3TC_DXT5_EXT.value]=1,e[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG.value]=.5,e[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG.value]=.5,e[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG.value]=.25,e[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG.value]=.25,e[r.COMPRESSED_RGB_ETC1_WEBGL.value]=.5,e[r.COMPRESSED_RGB_ATC_WEBGL.value]=.5,e[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL.value]=1,e[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL.value]=1,e))},i.prototype.registerCallbacks=function(e){for(var t=0,o=this.createCommandNames;t<o.length;t++)e[Z=o[t]]=e[Z]||[],e[Z].push(this.createWithoutSideEffects.bind(this));for(var c=0,y=this.updateCommandNames;c<y.length;c++)e[Z=y[c]]=e[Z]||[],e[Z].push(this.updateWithoutSideEffects.bind(this));for(var D=0,V=this.deleteCommandNames;D<V.length;D++){var Z;e[Z=V[D]]=e[Z]||[],e[Z].push(this.deleteWithoutSideEffects.bind(this))}},i.prototype.startCapture=function(){this.frameMemory=0,this.capturing=!0},i.prototype.stopCapture=function(){this.frameMemory=0,this.capturing=!1},i.prototype.appendRecordedInformation=function(e){e.frameMemory[this.objectName]=this.frameMemory,e.memory[this.objectName]=this.memoryPerSecond},i.prototype.create=function(e){},i.prototype.createWithoutSideEffects=function(e){this.options.toggleCapture(!1),this.create(e),this.options.toggleCapture(!0)},i.prototype.updateWithoutSideEffects=function(e){if(e&&e.arguments.length!==0){this.options.toggleCapture(!1);var t=e.arguments[0],o=this.getBoundInstance(t);if(o)if(_e.getWebGlObjectTag(o)){var c=this.getWebGlConstant(t),y=this.update(e,c,o);this.changeMemorySize(y),this.options.toggleCapture(!0)}else this.options.toggleCapture(!0);else this.options.toggleCapture(!0)}},i.prototype.deleteWithoutSideEffects=function(e){if(e&&e.arguments&&!(e.arguments.length<1)){var t=e.arguments[0];if(t){this.options.toggleCapture(!1);var o=this.delete(t);this.changeMemorySize(-o),this.options.toggleCapture(!0)}}},i.prototype.changeMemorySize=function(e){this.totalMemory+=e,this.capturing&&(this.frameMemory+=e);var t=N.now-this.startTime,o=Math.round(t/1e3);this.memoryPerSecond[o]=this.totalMemory},i.prototype.getWebGlConstant=function(e){var t=v[e];return t?t.name:e+""},i.prototype.getByteSizeForInternalFormat=function(e){return i.byteSizePerInternalFormat[e]||4},i}(),It=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ni=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return It(e,i),Object.defineProperty(e.prototype,"objectName",{get:function(){return"Buffer"},enumerable:!0,configurable:!0}),e.prototype.getCreateCommandNames=function(){return["createBuffer"]},e.prototype.getUpdateCommandNames=function(){return["bufferData"]},e.prototype.getDeleteCommandNames=function(){return["deleteBuffer"]},e.prototype.getBoundInstance=function(t){var o=this.options.context;return t===r.ARRAY_BUFFER.value?o.getParameter(r.ARRAY_BUFFER_BINDING.value):t===r.ELEMENT_ARRAY_BUFFER.value?o.getParameter(r.ELEMENT_ARRAY_BUFFER_BINDING.value):t===r.COPY_READ_BUFFER.value?o.getParameter(r.COPY_READ_BUFFER_BINDING.value):t===r.COPY_WRITE_BUFFER.value?o.getParameter(r.COPY_WRITE_BUFFER_BINDING.value):t===r.TRANSFORM_FEEDBACK_BUFFER.value?o.getParameter(r.TRANSFORM_FEEDBACK_BUFFER_BINDING.value):t===r.UNIFORM_BUFFER.value?o.getParameter(r.UNIFORM_BUFFER_BINDING.value):t===r.PIXEL_PACK_BUFFER.value?o.getParameter(r.PIXEL_PACK_BUFFER_BINDING.value):t===r.PIXEL_UNPACK_BUFFER.value?o.getParameter(r.PIXEL_UNPACK_BUFFER_BINDING.value):void 0},e.prototype.delete=function(t){var o=t.__SPECTOR_Object_CustomData;return o?o.length:0},e.prototype.update=function(t,o,c){var y=this.getCustomData(o,t);if(!y)return 0;var D=c.__SPECTOR_Object_CustomData?c.__SPECTOR_Object_CustomData.length:0;return c.__SPECTOR_Object_CustomData=y,y.length-D},e.prototype.getCustomData=function(t,o){var c=this.getLength(o);return o.arguments.length>=4?{target:t,length:c,usage:o.arguments[2],offset:o.arguments[3],sourceLength:o.arguments[1]?o.arguments[1].length:-1}:o.arguments.length===3?{target:t,length:c,usage:o.arguments[2]}:void 0},e.prototype.getLength=function(t){var o=-1,c=0;return t.arguments.length===5&&(o=t.arguments[4],c=t.arguments[3]),o<=0&&(o=typeof t.arguments[1]=="number"?t.arguments[1]:t.arguments[1]&&(t.arguments[1].byteLength||t.arguments[1].length)||0),o-c},e}(Lt),ln=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),qn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ln(e,i),Object.defineProperty(e.prototype,"objectName",{get:function(){return"Renderbuffer"},enumerable:!0,configurable:!0}),e.prototype.getCreateCommandNames=function(){return["createRenderbuffer"]},e.prototype.getUpdateCommandNames=function(){return["renderbufferStorage","renderbufferStorageMultisample"]},e.prototype.getDeleteCommandNames=function(){return["deleteRenderbuffer"]},e.prototype.getBoundInstance=function(t){var o=this.options.context;if(t===r.RENDERBUFFER.value)return o.getParameter(r.RENDERBUFFER_BINDING.value)},e.prototype.delete=function(t){var o=t.__SPECTOR_Object_CustomData;return o?o.length:0},e.prototype.update=function(t,o,c){var y=this.getCustomData(t,o);if(!y)return 0;var D=c.__SPECTOR_Object_CustomData?c.__SPECTOR_Object_CustomData.length:0;return y.length=y.width*y.height*this.getByteSizeForInternalFormat(y.internalFormat),c.__SPECTOR_Object_CustomData=y,y.length-D},e.prototype.getCustomData=function(t,o){return t.arguments.length===4?{target:o,internalFormat:t.arguments[1],width:t.arguments[2],height:t.arguments[3],length:0,samples:0}:{target:o,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],length:0,samples:t.arguments[1]}},e}(Lt),Fi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Pi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Fi(e,i),Object.defineProperty(e.prototype,"objectName",{get:function(){return"Texture2d"},enumerable:!0,configurable:!0}),e.prototype.getCreateCommandNames=function(){return["createTexture"]},e.prototype.getUpdateCommandNames=function(){return["texImage2D","compressedTexImage2D","texStorage2D"]},e.prototype.getDeleteCommandNames=function(){return["deleteTexture"]},e.prototype.getBoundInstance=function(t){var o=this.options.context;return t===r.TEXTURE_2D.value?o.getParameter(r.TEXTURE_BINDING_2D.value):t===r.TEXTURE_CUBE_MAP_POSITIVE_X.value||t===r.TEXTURE_CUBE_MAP_POSITIVE_Y.value||t===r.TEXTURE_CUBE_MAP_POSITIVE_Z.value||t===r.TEXTURE_CUBE_MAP_NEGATIVE_X.value||t===r.TEXTURE_CUBE_MAP_NEGATIVE_Y.value||t===r.TEXTURE_CUBE_MAP_NEGATIVE_Z.value?o.getParameter(r.TEXTURE_BINDING_CUBE_MAP.value):void 0},e.prototype.delete=function(t){var o=t.__SPECTOR_Object_CustomData;return o?o.target===r.TEXTURE_2D_ARRAY.name||o.target===r.TEXTURE_3D.name?0:o.length:0},e.prototype.update=function(t,o,c){if(t.arguments.length>=2&&t.arguments[1]!==0)return 0;var y=this.getCustomData(t,o,c);if(!y)return 0;var D=c.__SPECTOR_Object_CustomData?c.__SPECTOR_Object_CustomData.length:0;if(y.isCompressed){if(t.arguments.length>=7){var V=t.arguments[6];y.length=typeof V=="number"?V:V==null?void 0:V.byteLength}}else{var Z=o==="TEXTURE_2D"?1:6,re=y.internalFormat;re===r.RGBA.value&&(y.type===r.FLOAT.value&&(re=r.RGBA32F.value),y.type===r.HALF_FLOAT_OES.value&&(re=r.RGBA16F.value)),y.length=y.width*y.height*Z*this.getByteSizeForInternalFormat(re)}return y.length=0|y.length,c.__SPECTOR_Object_CustomData=y,y.length-D},e.prototype.getCustomData=function(t,o,c){return t.name==="texImage2D"?this.getTexImage2DCustomData(t,o,c):t.name==="compressedTexImage2D"?this.getCompressedTexImage2DCustomData(t,o,c):t.name==="texStorage2D"?this.getTexStorage2DCustomData(t,o,c):void 0},e.prototype.getTexStorage2DCustomData=function(t,o,c){var y;return t.arguments.length===5&&(y={target:o,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],length:0,isCompressed:!1}),y},e.prototype.getCompressedTexImage2DCustomData=function(t,o,c){var y;if(t.arguments[1]===0)return t.arguments.length>=7&&(y={target:o,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],length:0,isCompressed:!0}),y},e.prototype.getTexImage2DCustomData=function(t,o,c){var y;if(t.arguments[1]===0)return t.arguments.length>=8?y={target:o,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],format:t.arguments[6],type:t.arguments[7],length:0,isCompressed:!1}:t.arguments.length===6&&(y={target:o,internalFormat:t.arguments[2],width:t.arguments[5].width,height:t.arguments[5].height,format:t.arguments[3],type:t.arguments[4],length:0,isCompressed:!1}),y},e}(Lt),ki=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Bi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ki(e,i),Object.defineProperty(e.prototype,"objectName",{get:function(){return"Texture3d"},enumerable:!0,configurable:!0}),e.prototype.getCreateCommandNames=function(){return["createTexture"]},e.prototype.getUpdateCommandNames=function(){return["texImage3D","compressedTexImage3D","texStorage3D"]},e.prototype.getDeleteCommandNames=function(){return["deleteTexture"]},e.prototype.getBoundInstance=function(t){var o=this.options.context;return t===r.TEXTURE_2D_ARRAY.value?o.getParameter(r.TEXTURE_BINDING_2D_ARRAY.value):t===r.TEXTURE_3D.value?o.getParameter(r.TEXTURE_BINDING_3D.value):void 0},e.prototype.delete=function(t){var o=t.__SPECTOR_Object_CustomData;return o?o.target!==r.TEXTURE_2D_ARRAY.name&&o.target!==r.TEXTURE_3D.name?0:o.length:0},e.prototype.update=function(t,o,c){if(t.arguments.length>=2&&t.arguments[1]!==0)return 0;var y=this.getCustomData(t,o,c);if(!y)return 0;var D=c.__SPECTOR_Object_CustomData?c.__SPECTOR_Object_CustomData.length:0;if(y.isCompressed){if(t.arguments.length>=7){var V=t.arguments[6];y.length=typeof V=="number"?V:V==null?void 0:V.byteLength}}else y.length=y.width*y.height*y.depth*this.getByteSizeForInternalFormat(y.internalFormat);return y.length=0|y.length,c.__SPECTOR_Object_CustomData=y,y.length-D},e.prototype.getCustomData=function(t,o,c){return t.name==="texImage3D"?this.getTexImage3DCustomData(t,o,c):t.name==="compressedTexImage3D"?this.getCompressedTexImage3DCustomData(t,o,c):t.name==="texStorage3D"?this.getTexStorage3DCustomData(t,o,c):void 0},e.prototype.getTexStorage3DCustomData=function(t,o,c){var y;return t.arguments.length===6&&(y={target:o,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],depth:t.arguments[5],length:0,isCompressed:!1}),y},e.prototype.getCompressedTexImage3DCustomData=function(t,o,c){var y;if(t.arguments[1]===0)return t.arguments.length>=8&&(y={target:o,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],depth:t.arguments[5],length:0,isCompressed:!0}),y},e.prototype.getTexImage3DCustomData=function(t,o,c){var y;if(t.arguments[1]===0)return t.arguments.length>=9&&(y={target:o,internalFormat:t.arguments[2],width:t.arguments[3],height:t.arguments[4],depth:t.arguments[5],format:t.arguments[7],type:t.arguments[8],length:0,isCompressed:!1}),y},e}(Lt),$i=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Di=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return $i(e,i),Object.defineProperty(e.prototype,"objectName",{get:function(){return"Program"},enumerable:!0,configurable:!0}),e.prototype.getCreateCommandNames=function(){return["createProgram"]},e.prototype.getUpdateCommandNames=function(){return["linkProgram"]},e.prototype.getDeleteCommandNames=function(){return["deleteProgram"]},e.prototype.getBoundInstance=function(t){return t},e.prototype.delete=function(t){var o=t.__SPECTOR_Object_CustomData;return o?o.length:0},e.prototype.update=function(t,o,c){if(t.arguments.length>=1&&!t.arguments[0])return 0;var y=this.getCustomData(c);if(!y)return 0;var D=c.__SPECTOR_Object_CustomData?c.__SPECTOR_Object_CustomData.length:0;return c.__SPECTOR_Object_CustomData=y,y.length-D},e.prototype.getCustomData=function(t){var o=this.options.context;return zn.getProgramData(o,t)},e}(Lt),Ui=function(){function i(e){this.contextInformation=e,this.onCommandCallbacks={},this.recorders=[],this.initRecorders()}return i.prototype.recordCommand=function(e){var t=this.onCommandCallbacks[e.name];if(t)for(var o=0,c=t;o<c.length;o++)(0,c[o])(e)},i.prototype.startCapture=function(){for(var e=0,t=this.recorders;e<t.length;e++)t[e].startCapture()},i.prototype.stopCapture=function(){for(var e=0,t=this.recorders;e<t.length;e++)t[e].stopCapture()},i.prototype.appendRecordedInformation=function(e){for(var t=0,o=this.recorders;t<o.length;t++)o[t].appendRecordedInformation(e)},i.prototype.initRecorders=function(){this.recorders.push(new Ni(this.contextInformation),new qn(this.contextInformation),new Pi(this.contextInformation),new Bi(this.contextInformation),new Di(this.contextInformation));for(var e=0,t=this.recorders;e<t.length;e++)t[e].registerCallbacks(this.onCommandCallbacks)},i}(),Vi=function(){function i(e){this.contextInformation=e,this.webGlObjects=[],this.initWebglObjects()}return i.prototype.tagWebGlObjects=function(e){for(var t=0,o=this.webGlObjects;t<o.length;t++){for(var c=o[t],y=0;y<e.arguments.length;y++){var D=e.arguments[y];if(c.tagWebGlObject(D))break}if(c.tagWebGlObject(e.result))break}},i.prototype.tagWebGlObject=function(e){for(var t=0,o=this.webGlObjects;t<o.length;t++){var c=o[t].tagWebGlObject(e);if(c)return c}},i.prototype.initWebglObjects=function(){this.webGlObjects.push(new Tt,new Wn,new Vt,new Hn,new jn,new xi,new Li,new Xn,new Kn,new Ii,new Mi,new Gt)},i}(),Gi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Wi=function(i){function e(t){var o=i.call(this,t)||this;return o.extensionDefinition=[[{name:"ANGLE_instanced_arrays",description:""},{name:"EXT_blend_minmax",description:""},{name:"EXT_color_buffer_float",description:""},{name:"EXT_color_buffer_half_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_frag_depth",description:""},{name:"EXT_sRGB",description:""},{name:"EXT_shader_texture_lod",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_element_index_uint",description:""},{name:"OES_standard_derivatives",description:""},{name:"OES_texture_float",description:""},{name:"OES_texture_float_linear",description:""},{name:"OES_texture_half_float",description:""},{name:"OES_texture_half_float_linear",description:""},{name:"OES_vertex_array_object",description:""},{name:"WEBGL_color_buffer_float",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_depth_texture",description:""},{name:"WEBGL_draw_buffers",description:""}],[{name:"EXT_color_buffer_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_disjoint_timer_query_webgl2",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_texture_float_linear",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""}]],o.currentState=o.startCapture(!0,o.quickCapture,o.fullCapture),o}return Gi(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return"Extensions"},enumerable:!0,configurable:!0}),e.prototype.getExtensions=function(){return this.extensions},e.prototype.readFromContext=function(){for(var t=0,o=this.contextVersion===1?this.extensionDefinition[0]:this.extensionDefinition[1];t<o.length;t++){var c=o[t],y=this.context.getExtension(c.name);y?(this.currentState[c.name]=!0,this.extensions[c.name]=y):this.currentState[c.name]=!1}},e}(it),Hi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ji=function(i){function e(t){var o=i.call(this,t)||this;return o.currentState=o.startCapture(!0,o.quickCapture,o.fullCapture),o}return Hi(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return"CompressedTextures"},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.COMPRESSED_TEXTURE_FORMATS}]},e.prototype.stringifyParameterValue=function(t,o){for(var c=[],y=0,D=t;y<D.length;y++){var V=D[y];c.push(r.stringifyWebGlConstant(V,"getParameter"))}return c},e}(Ue),Xi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ki=function(i){function e(t){var o=i.call(this,t)||this;return o.currentState=o.startCapture(!0,o.quickCapture,o.fullCapture),o}return Xi(e,i),Object.defineProperty(e.prototype,"stateName",{get:function(){return"Capabilities"},enumerable:!0,configurable:!0}),e.prototype.getWebgl1Parameters=function(){return[{constant:r.RENDERER},{constant:r.VENDOR},{constant:r.VERSION},{constant:r.SHADING_LANGUAGE_VERSION},{constant:r.SAMPLES},{constant:r.SAMPLE_BUFFERS},{constant:r.RED_BITS},{constant:r.GREEN_BITS},{constant:r.BLUE_BITS},{constant:r.ALPHA_BITS},{constant:r.DEPTH_BITS},{constant:r.STENCIL_BITS},{constant:r.SUBPIXEL_BITS},{constant:r.LINE_WIDTH},{constant:r.ALIASED_LINE_WIDTH_RANGE},{constant:r.ALIASED_POINT_SIZE_RANGE},{constant:r.IMPLEMENTATION_COLOR_READ_FORMAT,returnType:20},{constant:r.IMPLEMENTATION_COLOR_READ_TYPE,returnType:20},{constant:r.MAX_COMBINED_TEXTURE_IMAGE_UNITS},{constant:r.MAX_CUBE_MAP_TEXTURE_SIZE},{constant:r.MAX_FRAGMENT_UNIFORM_VECTORS},{constant:r.MAX_RENDERBUFFER_SIZE},{constant:r.MAX_TEXTURE_IMAGE_UNITS},{constant:r.MAX_TEXTURE_SIZE},{constant:r.MAX_VARYING_VECTORS},{constant:r.MAX_VERTEX_ATTRIBS},{constant:r.MAX_VERTEX_TEXTURE_IMAGE_UNITS},{constant:r.MAX_VERTEX_UNIFORM_VECTORS},{constant:r.MAX_VIEWPORT_DIMS},{constant:r.MAX_TEXTURE_MAX_ANISOTROPY_EXT},{constant:r.MAX_COLOR_ATTACHMENTS_WEBGL},{constant:r.MAX_DRAW_BUFFERS_WEBGL}]},e.prototype.getWebgl2Parameters=function(){return[{constant:r.MAX_3D_TEXTURE_SIZE},{constant:r.MAX_ARRAY_TEXTURE_LAYERS},{constant:r.MAX_CLIENT_WAIT_TIMEOUT_WEBGL},{constant:r.MAX_COLOR_ATTACHMENTS},{constant:r.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS},{constant:r.MAX_COMBINED_UNIFORM_BLOCKS},{constant:r.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS},{constant:r.MAX_DRAW_BUFFERS},{constant:r.MAX_ELEMENT_INDEX},{constant:r.MAX_ELEMENTS_INDICES},{constant:r.MAX_ELEMENTS_VERTICES},{constant:r.MAX_FRAGMENT_INPUT_COMPONENTS},{constant:r.MAX_FRAGMENT_UNIFORM_BLOCKS},{constant:r.MAX_FRAGMENT_UNIFORM_COMPONENTS},{constant:r.MAX_PROGRAM_TEXEL_OFFSET},{constant:r.MAX_SAMPLES},{constant:r.MAX_SERVER_WAIT_TIMEOUT},{constant:r.MAX_TEXTURE_LOD_BIAS},{constant:r.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS},{constant:r.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS},{constant:r.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS},{constant:r.MAX_UNIFORM_BLOCK_SIZE},{constant:r.MAX_UNIFORM_BUFFER_BINDINGS},{constant:r.MAX_VARYING_COMPONENTS},{constant:r.MAX_VERTEX_OUTPUT_COMPONENTS},{constant:r.MAX_VERTEX_UNIFORM_BLOCKS},{constant:r.MAX_VERTEX_UNIFORM_COMPONENTS},{constant:r.MIN_PROGRAM_TEXEL_OFFSET}]},e}(Ue),cn=function(){function i(e){this.options=e,this.commandId=0,this.context=e.context,this.version=e.version,this.onMaxCommand=new Q,this.capturing=!1,this.globalCapturing=!0,this.contextInformation={context:this.context,contextVersion:this.version,toggleCapture:this.toggleGlobalCapturing.bind(this),tagWebGlObject:this.tagWebGlObject.bind(this),extensions:{}},this.commandSpies={},this.stateSpy=new xt(this.contextInformation),this.recorderSpy=new Ui(this.contextInformation),this.webGlObjectSpy=new Vi(this.contextInformation),this.analyser=new ce(this.contextInformation),this.initStaticCapture(),e.recordAlways&&this.spy()}return i.prototype.spy=function(){this.spyContext(this.context);var e=this.contextInformation.extensions;for(var t in e)e.hasOwnProperty(t)&&this.spyContext(e[t])},i.prototype.unSpy=function(){for(var e in this.commandSpies)this.commandSpies.hasOwnProperty(e)&&this.commandSpies[e].unSpy()},i.prototype.startCapture=function(e,t,o){e===void 0&&(e=0),t===void 0&&(t=!1),o===void 0&&(o=!1);var c=N.now;this.maxCommands=e,this.options.recordAlways||this.spy(),this.capturing=!0,this.commandId=0,this.currentCapture={canvas:this.canvasCapture,context:this.contextCapture,commands:[],initState:{},endState:{},startTime:c,listenCommandsStartTime:0,listenCommandsEndTime:0,endTime:0,analyses:[],frameMemory:{},memory:{}},this.currentCapture.canvas.width=this.context.canvas.width,this.currentCapture.canvas.height=this.context.canvas.height,this.currentCapture.canvas.clientWidth=this.context.canvas.clientWidth||this.context.canvas.width,this.currentCapture.canvas.clientHeight=this.context.canvas.clientHeight||this.context.canvas.height,this.stateSpy.startCapture(this.currentCapture,t,o),this.recorderSpy.startCapture(),this.currentCapture.listenCommandsStartTime=N.now},i.prototype.stopCapture=function(){var e=N.now;return this.options.recordAlways||this.unSpy(),this.capturing=!1,this.stateSpy.stopCapture(this.currentCapture),this.recorderSpy.stopCapture(),this.currentCapture.listenCommandsEndTime=e,this.currentCapture.endTime=N.now,this.recorderSpy.appendRecordedInformation(this.currentCapture),this.analyser.appendAnalyses(this.currentCapture),this.currentCapture},i.prototype.isCapturing=function(){return this.globalCapturing&&this.capturing},i.prototype.setMarker=function(e){this.marker=e},i.prototype.clearMarker=function(){this.marker=null},i.prototype.getNextCommandCaptureId=function(){return this.commandId++},i.prototype.onCommand=function(e,t){if(this.globalCapturing&&(this.webGlObjectSpy.tagWebGlObjects(t),this.recorderSpy.recordCommand(t),this.isCapturing())){var o=e.createCapture(t,this.getNextCommandCaptureId(),this.marker);this.stateSpy.captureState(o),this.currentCapture.commands.push(o),o.endTime=N.now,this.maxCommands>0&&this.currentCapture.commands.length===this.maxCommands&&this.onMaxCommand.trigger(this)}},i.prototype.spyContext=function(e){var t=[];for(var o in e)o&&t.push(o);for(var c=0;c<t.length;c++)if(o=t[c],!~i.unSpyableMembers.indexOf(o))try{typeof e[o]!="number"&&this.spyFunction(o,e)}catch(y){O.error("Cant Spy member: "+o),O.error(y)}},i.prototype.initStaticCapture=function(){var e=new Wi(this.contextInformation),t=e.getExtensions();for(var o in t)t.hasOwnProperty(o)&&(this.contextInformation.extensions[o]=t[o]);var c=new Ki(this.contextInformation),y=new ji(this.contextInformation);this.contextCapture={version:this.version,contextAttributes:this.context.getContextAttributes(),capabilities:c.getStateData(),extensions:e.getStateData(),compressedTextures:y.getStateData()},this.canvasCapture={width:this.context.canvas.width,height:this.context.canvas.height,clientWidth:this.context.canvas.clientWidth||this.context.canvas.width,clientHeight:this.context.canvas.clientHeight||this.context.canvas.height,browserAgent:navigator?navigator.userAgent:""}},i.prototype.spyFunction=function(e,t){if(e.indexOf("__SPECTOR_Origin_")!==0){if(!this.commandSpies[e]){var o=function(c,y){var D={};for(var V in c)c.hasOwnProperty(V)&&(D[V]=c[V]);for(var V in y)D.hasOwnProperty(V)||(D[V]=y[V]);return D}(this.contextInformation,{spiedCommandName:e,spiedCommandRunningContext:t,callback:this.onCommand.bind(this)});this.commandSpies[e]=new vi(o)}this.commandSpies[e].spy()}},i.prototype.toggleGlobalCapturing=function(e){this.globalCapturing=e},i.prototype.tagWebGlObject=function(e){return this.webGlObjectSpy.tagWebGlObject(e)},i.unSpyableMembers=["canvas","drawingBufferWidth","drawingBufferHeight","glp"],i}(),Qn=function(){function i(e){this.spiedWindow=e||window,this.lastFrame=0,this.speedRatio=1,this.willPlayNextFrame=!1,this.onFrameStart=new Q,this.onFrameEnd=new Q,this.onError=new Q,this.lastSixtyFramesDuration=[],this.lastSixtyFramesCurrentIndex=0,this.lastSixtyFramesPreviousStart=0;for(var t=0;t<i.fpsWindowSize;t++)this.lastSixtyFramesDuration[t]=0;this.init()}return i.prototype.playNextFrame=function(){this.willPlayNextFrame=!0},i.prototype.changeSpeedRatio=function(e){this.speedRatio=e},i.prototype.getFps=function(){for(var e=0,t=0;t<i.fpsWindowSize;t++)e+=this.lastSixtyFramesDuration[t];return e===0?0:6e4/e},i.prototype.init=function(){for(var e=this,t=0,o=i.requestAnimationFrameFunctions;t<o.length;t++){var c=o[t];this.spyRequestAnimationFrame(c,this.spiedWindow)}for(var y=0,D=i.setTimerFunctions;y<D.length;y++)c=D[y],this.spySetTimer(c);this.spiedWindow.VRDisplay&&this.spiedWindow.addEventListener("vrdisplaypresentchange",function(V){e.spyRequestAnimationFrame("requestAnimationFrame",V.display)})},i.prototype.spyRequestAnimationFrame=function(e,t){var o=this;se.storeOriginFunction(t,e),t[e]=function(){var c=arguments[0],y=o.getCallback(o,c,function(){o.spiedWindow[e](c)}),D=se.executeOriginFunction(t,e,[y]);return D}},i.prototype.spySetTimer=function(e){var t=this,o=this.spiedWindow,c=e==="setTimeout";se.storeOriginFunction(o,e),o[e]=function(){var y=arguments[0],D=arguments[1],V=Array.prototype.slice.call(arguments);i.setTimerCommonValues.indexOf(D)>-1&&(V[0]=t.getCallback(t,y,c?function(){o[e](y)}:null));var Z=se.executeOriginFunction(o,e,V);return Z}},i.prototype.getCallback=function(e,t,o){return o===void 0&&(o=null),function(){var c=N.now;if(e.lastFrame=++e.lastFrame%e.speedRatio,e.willPlayNextFrame||e.speedRatio&&!e.lastFrame){e.onFrameStart.trigger(e);try{t.apply(e.spiedWindow,arguments)}catch(y){e.onError.trigger(y)}e.lastSixtyFramesCurrentIndex=(e.lastSixtyFramesCurrentIndex+1)%i.fpsWindowSize,e.lastSixtyFramesDuration[e.lastSixtyFramesCurrentIndex]=c-e.lastSixtyFramesPreviousStart,e.onFrameEnd.trigger(e),e.willPlayNextFrame=!1}else o&&o();e.lastSixtyFramesPreviousStart=c}},i.requestAnimationFrameFunctions=["requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame"],i.setTimerFunctions=["setTimeout","setInterval"],i.setTimerCommonValues=[0,15,16,33,32,40],i.fpsWindowSize=60,i}(),Zn=function(){function i(e){this.canvas=e,this.onContextRequested=new Q,this.init()}return i.prototype.init=function(){var e=this,t=function(){var o=this instanceof HTMLCanvasElement?HTMLCanvasElement:OffscreenCanvas,c=e.canvas?se.executeOriginFunction(this,"getContext",arguments):se.executePrototypeOriginFunction(this,o,"getContext",arguments);if(arguments.length>0&&arguments[0]==="2d")return c;if(c){var y=Array.prototype.slice.call(arguments),D=y[0]==="webgl2"||y[0]==="experimental-webgl2",V=D?2:1;e.onContextRequested.trigger({context:c,contextVersion:V})}return c};this.canvas?(se.storeOriginFunction(this.canvas,"getContext"),this.canvas.getContext=t):(se.storePrototypeOriginFunction(HTMLCanvasElement,"getContext"),HTMLCanvasElement.prototype.getContext=t,typeof OffscreenCanvas!="undefined"&&(se.storePrototypeOriginFunction(OffscreenCanvas,"getContext"),OffscreenCanvas.prototype.getContext=t))},i}(),zi=(W(11),function(){function i(e,t){this.placeHolder=e,this.stateStore=t}return i.prototype.compose=function(e){var t=this.stateStore.getStatesToProcess(),o=!1;for(var c in t)if(t.hasOwnProperty(c)){var y=t[c],D=this.stateStore.getLastOperation(y),V=this.stateStore.getComponentInstance(y),Z=this.stateStore.getData(y);V.render(Z,y,D),o=!0}if(o){var re=this.stateStore.getLastOperation(e);this.composeInContainer(this.placeHolder,Number.MAX_VALUE,e,re)}},i.prototype.composeChildren=function(e,t){if(t)for(var o=this.stateStore.getChildrenIds(e),c=0,y=0;y<o.length;y++){var D=o[y],V=this.stateStore.getLastOperation(D);this.composeInContainer(t,c,D,V),V!==50&&c++}},i.prototype.composeInContainer=function(e,t,o,c){var y=this.stateStore.getComponentInstance(o).composeInContainer(e,t,c);this.composeChildren(o,y)},i}()),Yi=function(){function i(){this.store={},this.idGenerator=0,this.pendingOperation={}}return i.prototype.getLastOperation=function(e){return this.store[e].lastOperation},i.prototype.getData=function(e){return this.store[e].data},i.prototype.getComponentInstance=function(e){return this.store[e].componentInstance},i.prototype.getParentId=function(e){return this.store[e].parent?this.store[e].parent.id:-1},i.prototype.getChildrenIds=function(e){for(var t=[],o=0,c=this.store[e].children;o<c.length;o++){var y=c[o];t.push(y.id)}return t},i.prototype.hasChildren=function(e){return this.store[e].children.length>0},i.prototype.add=function(e,t){var o=this.getNewId();return this.pendingOperation[o]=o,this.store[o]={data:e,id:o,parent:null,children:[],componentInstance:t,lastOperation:20},o},i.prototype.update=function(e,t){this.store[e],this.pendingOperation[e]=e,this.store[e].data=t,this.store[e].lastOperation=40},i.prototype.addChild=function(e,t,o){var c=this.store[e],y=this.add(t,o);this.pendingOperation[y]=y;var D=this.store[y];return D.parent=c,c.children.push(D),y},i.prototype.insertChildAt=function(e,t,o,c){var y=this.store[e],D=this.add(o,c);this.pendingOperation[D]=D;var V=this.store[D];return V.parent=y,t>=y.children.length?y.children.push(V):t>=0?y.children.splice(t,0,V):y.children.unshift(V),D},i.prototype.removeChildById=function(e,t){for(var o=this.store[e],c=o.children.length-1;c>=0;c--)if(o.children[c].id===t){this.removeChildAt(e,c);break}},i.prototype.removeChildAt=function(e,t){var o,c=this.store[e];t>c.children.length-1?(o=c.children[c.children.length-1],c.children[c.children.length-1].parent=null,c.children.splice(c.children.length-1,1)):t>=0?(o=c.children[t],c.children[t].parent=null,c.children.splice(t,1)):(o=c.children[0],c.children[0].parent=null,c.children.splice(0,1)),o.parent=null,this.remove(o.id)},i.prototype.remove=function(e){var t=this.store[e];t.parent?(this.store[t.parent.id],this.removeChildById(t.parent.id,e)):(this.removeChildren(e),this.store[e].lastOperation=50,this.pendingOperation[e]=e)},i.prototype.removeChildren=function(e){for(var t=this.store[e];t.children.length;)this.remove(t.children[0].id)},i.prototype.getStatesToProcess=function(){return this.pendingOperation},i.prototype.flushPendingOperations=function(){for(var e in this.pendingOperation)this.pendingOperation[e]&&(this.store[e].lastOperation===50?delete this.store[e]:this.store[e].lastOperation=0);this.pendingOperation={}},i.prototype.getNewId=function(){return++this.idGenerator},i}(),un=function(){function i(e){this.component=e}return i.prototype.render=function(e,t,o){o!==0&&(o!==50?this.domNode=this.component.render(e,t):this.removeNode())},i.prototype.composeInContainer=function(e,t,o){if(o===50)return this.removeNode(),null;var c=this.cachedCurrentChildrenContainer;if(o===0)return c;var y=this.domNode,D=y.getAttribute("childrencontainer")?y:y.querySelector("[childrenContainer]");if(D&&c)for(var V=c.children;V.length>0;)D.appendChild(V[0]);if(this.cachedCurrentChildrenContainer=D,t>=e.children.length)e.appendChild(y),this.cachedCurrentDomNode&&o===40&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode));else{var Z=e.children[t];e.insertBefore(y,Z),o===40&&e.removeChild(Z)}return this.cachedCurrentDomNode=this.domNode,D},i.prototype.removeNode=function(){this.domNode&&this.domNode.parentElement&&(this.domNode.remove?this.domNode.remove():this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)),this.cachedCurrentDomNode&&this.cachedCurrentDomNode.parentElement&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode))},i.idGenerator=0,i}(),Jn=function(){function i(e){this.stateStore=new Yi,this.compositor=new zi(e,this.stateStore),this.willRender=!1,this.rootStateId=-1}return i.prototype.addRootState=function(e,t,o){o===void 0&&(o=!1);var c=new un(t),y=this.stateStore.add(e,c);return this.rootStateId=y,this.setForRender(o),y},i.prototype.addChildState=function(e,t,o,c){c===void 0&&(c=!1);var y=this.insertChildState(e,t,Number.MAX_VALUE,o);return this.setForRender(c),y},i.prototype.insertChildState=function(e,t,o,c,y){y===void 0&&(y=!1);var D=new un(c),V=this.stateStore.insertChildAt(e,o,t,D);return this.setForRender(y),V},i.prototype.updateState=function(e,t,o){o===void 0&&(o=!1),this.stateStore.update(e,t),this.setForRender(o)},i.prototype.removeState=function(e,t){t===void 0&&(t=!1),this.stateStore.remove(e),this.setForRender(t)},i.prototype.removeChildrenStates=function(e,t){t===void 0&&(t=!1),this.stateStore.removeChildren(e),this.setForRender(t)},i.prototype.getState=function(e){return this.stateStore.getData(e)},i.prototype.getGenericState=function(e){return this.getState(e)},i.prototype.getChildrenState=function(e){var t=this;return this.stateStore.getChildrenIds(e).map(function(o){return t.stateStore.getData(e)})},i.prototype.getChildrenGenericState=function(e){return this.getChildrenState(e)},i.prototype.hasChildren=function(e){return this.stateStore.hasChildren(e)},i.prototype.updateAllChildrenState=function(e,t){for(var o=0,c=this.stateStore.getChildrenIds(e);o<c.length;o++){var y=c[o],D=this.getGenericState(y);t(D),this.updateState(y,D)}},i.prototype.updateAllChildrenGenericState=function(e,t){this.updateAllChildrenState(e,t)},i.prototype.setForRender=function(e){this.willRender||(this.willRender=!0,e?this.compose():setTimeout(this.compose.bind(this),i.REFRESHRATEINMILLISECONDS))},i.prototype.compose=function(){this.willRender=!1,this.compositor.compose(this.rootStateId),this.stateStore.flushPendingOperations()},i.REFRESHRATEINMILLISECONDS=100,i}(),nt=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ne=function(i){function e(){var t=i.call(this)||this;return t.events={},t}return nt(e,i),e.prototype.addEventListener=function(t,o,c){return c===void 0&&(c=null),this.events[t]?this.events[t].add(o,c):-1},e.prototype.removeEventListener=function(t,o){this.events[t]&&this.events[t].remove(o)},e.prototype.renderElementFromTemplate=function(t,o,c){var y=this.createFromHtml(t);return this.bindCommands(y,o,c),y},e.prototype.bindCommands=function(t,o,c){t.getAttribute("commandname")&&this.bindCommand(t,o,c);for(var y=t.querySelectorAll("[commandName]"),D=0;D<y.length;D++){var V=y[D];this.bindCommand(V,o,c)}},e.prototype.bindCommand=function(t,o,c){var y=t.getAttribute("commandname"),D=t.getAttribute("commandeventbinding")||"";D.length===0&&(D="click");var V=t.getAttribute("usecapture")==="true",Z=t.getAttribute("stoppropagation")==="true";this.createEvent(y),this.mapEventListener(t,D,y,o,c,V,Z)},e.prototype.mapEventListener=function(t,o,c,y,D,V,Z){V===void 0&&(V=!1),Z===void 0&&(Z=!1);var re=this;Z?t.addEventListener(o,function(ae){return ae.stopPropagation(),ae.preventDefault(),re.triggerEvent(c,this,y,D),!1},V):t.addEventListener(o,function(){re.triggerEvent(c,this,y,D)},V)},e.prototype.createEvent=function(t){if(!this.events[t]){var o=new Q;this.events[t]=o}return this.events[t]},e.prototype.triggerEvent=function(t,o,c,y){this.events[t].trigger({sender:o,stateId:y,state:c})},e}(function(){function i(){this.dummyTextGeneratorElement=document.createElement("div")}return i.prototype.createFromHtml=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},i.prototype.htmlTemplate=function(e){for(var t=this,o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];var y=e.raw,D="";return o.forEach(function(V,Z){var re=y[Z];Array.isArray(V)&&(V=V.join("")),re&&re.length>0&&re[re.length-1]==="$"?re=re.slice(0,-1):V=t.htmlEscape(V),D+=re,D+=V}),D+=y[y.length-1]},i.prototype.htmlEscape=function(e){return e==null||e.length===0?e:(this.dummyTextGeneratorElement.innerText=e,this.dummyTextGeneratorElement.innerHTML)},i}()),qi=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ve=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},Qi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return qi(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(E||(E=Ve([`<div>
            <div childrenContainer="true" class="captureMenuComponent `,`">
            </div>
            <div class="captureMenuLogComponent `,`">
                <span class="`,'">',`<span>
            </div>
        </div>`],[`<div>
            <div childrenContainer="true" class="captureMenuComponent `,`">
            </div>
            <div class="captureMenuLogComponent `,`">
                <span class="`,'">',`<span>
            </div>
        </div>`])),t?"active":"",t.logVisible?"active":"",t.logLevel===te.error?"error":"",t.logText);return this.renderElementFromTemplate(c,t,o)},e}(Ne),Wt=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ei=function(i){function e(){var t=i.call(this)||this;return t.onCanvasSelected=t.createEvent("onCanvasSelected"),t}return Wt(e,i),e.prototype.render=function(t,o){var c=document.createElement("li"),y=document.createElement("span");return y.innerText="Id: "+t.id+" - Size: "+t.width+"*"+t.height,c.appendChild(y),this.mapEventListener(c,"click","onCanvasSelected",t,o),c},e}(Ne),hn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ti=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},Zi=function(i){function e(){var t=i.call(this)||this;return t.onCaptureRequested=t.createEvent("onCaptureRequested"),t.onPlayRequested=t.createEvent("onPlayRequested"),t.onPauseRequested=t.createEvent("onPauseRequested"),t.onPlayNextFrameRequested=t.createEvent("onPlayNextFrameRequested"),t}return hn(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(R||(R=ti([`
        <div class="captureMenuActionsComponent">
            <div commandName="onCaptureRequested">
            </div>
            $`,`
        </div>`],[`
        <div class="captureMenuActionsComponent">
            <div commandName="onCaptureRequested">
            </div>
            $`,`
        </div>`])),t?`<div commandName="onPauseRequested">
                </div>`:`<div commandName="onPlayRequested">
                </div>
                <div commandName="onPlayNextFrameRequested">
                </div>`);return this.renderElementFromTemplate(c,t,o)},e}(Ne),Ji=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),er=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},Mt=function(i){function e(){var t=i.call(this)||this;return t.onCanvasSelection=t.createEvent("onCanvasSelection"),t}return Ji(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(g||(g=er([`
        <div class="canvasListComponent">
            <span commandName="onCanvasSelection">
                `,`
            </span>
            <ul childrenContainer="true" style="`,`"></ul>
        </div>`],[`
        <div class="canvasListComponent">
            <span commandName="onCanvasSelection">
                `,`
            </span>
            <ul childrenContainer="true" style="`,`"></ul>
        </div>`])),t.currentCanvasInformation?t.currentCanvasInformation.id+" ("+t.currentCanvasInformation.width+"*"+t.currentCanvasInformation.height+")":"Choose Canvas...",t.showList?"display:block;visibility:visible":"display:none;visibility:hidden");return this.renderElementFromTemplate(c,t,o)},e}(Ne),Ge=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ot=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Ge(e,i),e.prototype.render=function(t,o){var c=document.createElement("span");return c.className="fpsCounterComponent",c.innerText=t.toFixed(2)+" Fps",c},e}(Ne),Qe=function(){function i(e){var t=this;e===void 0&&(e={}),this.options=e,this.rootPlaceHolder=e.rootPlaceHolder||document.body,this.mvx=new Jn(this.rootPlaceHolder),this.isTrackingCanvas=!1,this.onCanvasSelected=new Q,this.onCaptureRequested=new Q,this.onPauseRequested=new Q,this.onPlayRequested=new Q,this.onPlayNextFrameRequested=new Q,this.captureMenuComponent=new Qi,this.canvasListComponent=new Mt,this.canvasListItemComponent=new ei,this.actionsComponent=new Zi,this.fpsCounterComponent=new Ot,this.rootStateId=this.mvx.addRootState({visible:!0,logLevel:te.info,logText:i.SelectCanvasHelpText,logVisible:!this.options.hideLog},this.captureMenuComponent),this.canvasListStateId=this.mvx.addChildState(this.rootStateId,{currentCanvasInformation:null,showList:!1},this.canvasListComponent),this.actionsStateId=this.mvx.addChildState(this.rootStateId,!0,this.actionsComponent),this.fpsStateId=this.mvx.addChildState(this.rootStateId,0,this.fpsCounterComponent),this.actionsComponent.onCaptureRequested.add(function(){var o=t.getSelectedCanvasInformation();o&&t.updateMenuStateLog(te.info,i.PleaseWaitHelpText,!0),setTimeout(function(){t.onCaptureRequested.trigger(o)},200)}),this.actionsComponent.onPauseRequested.add(function(){t.onPauseRequested.trigger(t.getSelectedCanvasInformation()),t.mvx.updateState(t.actionsStateId,!1)}),this.actionsComponent.onPlayRequested.add(function(){t.onPlayRequested.trigger(t.getSelectedCanvasInformation()),t.mvx.updateState(t.actionsStateId,!0)}),this.actionsComponent.onPlayNextFrameRequested.add(function(){t.onPlayNextFrameRequested.trigger(t.getSelectedCanvasInformation())}),this.canvasListComponent.onCanvasSelection.add(function(o){t.mvx.updateState(t.canvasListStateId,{currentCanvasInformation:null,showList:!o.state.showList}),t.updateMenuStateLog(te.info,i.SelectCanvasHelpText),t.onCanvasSelected.trigger(null),t.isTrackingCanvas&&t.trackPageCanvases(),o.state.showList?t.showMenuStateLog():t.hideMenuStateLog()}),this.canvasListItemComponent.onCanvasSelected.add(function(o){t.mvx.updateState(t.canvasListStateId,{currentCanvasInformation:o.state,showList:!1}),t.onCanvasSelected.trigger(o.state),t.updateMenuStateLog(te.info,i.ActionsHelpText),t.showMenuStateLog()})}return i.prototype.getSelectedCanvasInformation=function(){return this.mvx.getGenericState(this.canvasListStateId).currentCanvasInformation},i.prototype.trackPageCanvases=function(){if(this.isTrackingCanvas=!0,document.body){var e=document.body.querySelectorAll("canvas");this.updateCanvasesList(e)}},i.prototype.updateCanvasesList=function(e){this.updateCanvasesListInformationInternal(e,function(t){return{id:t.id,width:t.width,height:t.height,ref:t}})},i.prototype.updateCanvasesListInformation=function(e){this.updateCanvasesListInformationInternal(e,function(t){return{id:t.id,width:t.width,height:t.height,ref:t.ref}})},i.prototype.display=function(){this.updateMenuStateVisibility(!0)},i.prototype.hide=function(){this.updateMenuStateVisibility(!1)},i.prototype.captureComplete=function(e){e?this.updateMenuStateLog(te.error,e):this.updateMenuStateLog(te.info,i.ActionsHelpText)},i.prototype.setFPS=function(e){this.mvx.updateState(this.fpsStateId,e)},i.prototype.updateCanvasesListInformationInternal=function(e,t){this.mvx.removeChildrenStates(this.canvasListStateId);for(var o=[],c=0;c<e.length;c++){var y=t(e[c]);o.push(y),this.mvx.addChildState(this.canvasListStateId,y,this.canvasListItemComponent)}var D=o.length,V=this.mvx.getGenericState(this.canvasListStateId).showList;if(!V)if(D===1){var Z=o[0];this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:Z,showList:V}),this.updateMenuStateLog(te.info,i.ActionsHelpText),this.onCanvasSelected.trigger(Z)}else this.updateMenuStateLog(te.info,i.SelectCanvasHelpText),this.onCanvasSelected.trigger(null)},i.prototype.hideMenuStateLog=function(){var e=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:e.visible,logLevel:e.logLevel,logText:e.logText,logVisible:!1})},i.prototype.showMenuStateLog=function(){var e=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:e.visible,logLevel:e.logLevel,logText:e.logText,logVisible:!this.options.hideLog})},i.prototype.updateMenuStateLog=function(e,t,o){o===void 0&&(o=!1);var c=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:c.visible,logLevel:e,logText:t,logVisible:!this.options.hideLog},o)},i.prototype.updateMenuStateVisibility=function(e){var t=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:e,logLevel:t.logLevel,logText:t.logText,logVisible:t.logVisible})},i.SelectCanvasHelpText="Please, select a canvas in the list above.",i.ActionsHelpText="Record with the red button, you can also pause or continue playing the current scene.",i.PleaseWaitHelpText="Capturing, be patient (this can take up to 3 minutes)...",i}(),tr=(W(13),function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}()),ni=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},dn=function(i){function e(){var t=i.call(this)||this;return t.onCaptureLoaded=new Q,t}return tr(e,i),e.prototype.render=function(t,o){var c=this,y=this.htmlTemplate(f||(f=ni([`
        <div class="captureListComponent `,`">
            <div class="openCaptureFile">
                <Span>Drag files here to open a previously saved capture.</span>
            </div>
            <ul childrenContainer="true"></ul>
        </div>`],[`
        <div class="captureListComponent `,`">
            <div class="openCaptureFile">
                <Span>Drag files here to open a previously saved capture.</span>
            </div>
            <ul childrenContainer="true"></ul>
        </div>`])),t?"active":""),D=this.renderElementFromTemplate(y,t,o),V=D.querySelector(".openCaptureFile");return V.addEventListener("dragenter",function(Z){return c.drag(Z),!1},!1),V.addEventListener("dragover",function(Z){return c.drag(Z),!1},!1),V.addEventListener("drop",function(Z){c.drop(Z)},!1),D},e.prototype.drag=function(t){t.stopPropagation(),t.preventDefault()},e.prototype.drop=function(t){t.stopPropagation(),t.preventDefault(),this.loadFiles(t)},e.prototype.loadFiles=function(t){var o=this,c=null;if(t&&t.dataTransfer&&t.dataTransfer.files&&(c=t.dataTransfer.files),t&&t.target&&t.target.files&&(c=t.target.files),c&&c.length>0)for(var y=function(V){var Z=c[V].name.toLowerCase().split(".").pop();if(c[V].type,Z==="json"){var re=c[V],ae=new FileReader;ae.onerror=function(le){O.error("Error while reading file: "+re.name+le)},ae.onload=function(le){try{var ve=JSON.parse(le.target.result);o.onCaptureLoaded.trigger(ve)}catch(Ae){O.error("Error while reading file: "+re.name+Ae)}},ae.readAsText(re)}},D=0;D<c.length;D++)y(D)},e}(Ne),ct=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Fe=function(i){function e(){var t=i.call(this)||this;return t.onCaptureSelected=t.createEvent("onCaptureSelected"),t.onSaveRequested=t.createEvent("onSaveRequested"),t}return ct(e,i),e.prototype.render=function(t,o){var c=document.createElement("li");if(t.active&&(c.className="active"),t.capture.endState.VisualState.Attachments)for(var y=0,D=t.capture.endState.VisualState.Attachments;y<D.length;y++){var V=D[y],Z=document.createElement("img");Z.src=encodeURI(V.src),c.appendChild(Z)}else{var re=document.createElement("span");re.innerText=t.capture.endState.VisualState.FrameBufferStatus,c.appendChild(re)}var ae=document.createElement("span");ae.innerText=new Date(t.capture.startTime).toTimeString().split(" ")[0],c.appendChild(ae);var le=document.createElement("a");return le.href="#",le.className="captureListItemSave",this.mapEventListener(le,"click","onSaveRequested",t,o,!1,!0),ae.appendChild(le),this.mapEventListener(c,"click","onCaptureSelected",t,o),c},e}(Ne),ii=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Pe=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},pn=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ii(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(T||(T=Pe([`
        <div class="visualStateListComponent">
            <ul childrenContainer="true"></ul>
        </div>`],[`
        <div class="visualStateListComponent">
            <ul childrenContainer="true"></ul>
        </div>`])));return this.renderElementFromTemplate(c,t,o)},e}(Ne),He=function(){function i(){}return i.scrollIntoView=function(e){for(var t=e.getBoundingClientRect(),o=e.parentElement;o&&o.clientHeight===o.offsetHeight;)o=o.parentElement;if(o){var c=o.getBoundingClientRect();t.top<c.top?e.scrollIntoView(!0):t.bottom>c.bottom&&e.scrollIntoView(!1)}},i}(),nr=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Nt=function(i){function e(){var t=i.call(this)||this;return t.onVisualStateSelected=t.createEvent("onVisualStateSelected"),t}return nr(e,i),e.prototype.render=function(t,o){var c=document.createElement("li");if(t.active&&(c.className="active",setTimeout(function(){He.scrollIntoView(c)},1)),t.VisualState.Attachments)for(var y=0,D=t.VisualState.Attachments;y<D.length;y++){var V=D[y];if(V.src){var Z=document.createElement("img");if(Z.src=encodeURI(V.src),c.appendChild(Z),t.VisualState.Attachments.length>1){var re=document.createElement("span");re.innerText=V.attachmentName,c.appendChild(re)}if(V.textureLayer){var ae=document.createElement("span");ae.innerText="Layer: "+V.textureLayer,c.appendChild(ae)}if(V.textureCubeMapFace){var le=document.createElement("span");le.innerText=V.textureCubeMapFace,c.appendChild(le)}}}else{var ve=document.createElement("span");ve.innerText=t.VisualState.FrameBufferStatus,c.appendChild(ve)}var Ae=document.createElement("span");return Ae.innerText=t.VisualState.FrameBuffer?"Frame buffer: "+t.VisualState.FrameBuffer.__SPECTOR_Object_TAG.id:"Canvas frame buffer",c.appendChild(Ae),this.mapEventListener(c,"click","onVisualStateSelected",t,o),c},e}(Ne),mn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ir=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},rr=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return mn(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(L||(L=ir([`
        <div class="commandListComponent">
            <ul childrenContainer="true"></ul>
        </div>`],[`
        <div class="commandListComponent">
            <ul childrenContainer="true"></ul>
        </div>`])));return this.renderElementFromTemplate(c,t,o)},e}(Ne),fn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),or=function(i){function e(){var t=i.call(this)||this;return t.onCommandSelected=t.createEvent("onCommandSelected"),t.onVertexSelected=t.createEvent("onVertexSelected"),t.onFragmentSelected=t.createEvent("onFragmentSelected"),t}return fn(e,i),e.prototype.render=function(t,o){var c=document.createElement("li"),y="unknown";switch(t.capture.status){case 50:y="deprecated";break;case 10:y="unused";break;case 20:y="disabled";break;case 30:y="redundant";break;case 40:y="valid"}if(t.capture.VisualState&&(c.className=" drawCall"),t.active&&(c.className=" active",setTimeout(function(){He.scrollIntoView(c)},1)),t.capture.marker){var D=document.createElement("span");D.className=y+" marker important",D.innerText=t.capture.marker+" ",D.style.fontWeight="1000",c.appendChild(D)}var V=document.createElement("span"),Z=t.capture.text;if(Z=Z.replace(t.capture.name,'<span class=" '+y+' important">'+t.capture.name+"</span>"),V.innerHTML=Z,c.appendChild(V),t.capture.VisualState&&t.capture.name!=="clear")try{var re=t.capture.DrawCall.shaders[0],ae=t.capture.DrawCall.shaders[1],le=document.createElement("a");le.innerText=re.name,le.href="#",c.appendChild(le),this.mapEventListener(le,"click","onVertexSelected",t,o);var ve=document.createElement("a");ve.innerText=ae.name,ve.href="#",c.appendChild(ve),this.mapEventListener(ve,"click","onFragmentSelected",t,o)}catch{}return this.mapEventListener(c,"click","onCommandSelected",t,o),c},e}(Ne),gn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ft=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},Ht=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return gn(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(w||(w=Ft([`
        <div class="commandDetailComponent" childrenContainer="true">
        </div>`],[`
        <div class="commandDetailComponent" childrenContainer="true">
        </div>`])));return this.renderElementFromTemplate(c,t,o)},e}(Ne),ri=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ot=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},oi=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return ri(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(S||(S=ot([`
        <div class="jsonContentComponent" childrenContainer="true">
        </div>`],[`
        <div class="jsonContentComponent" childrenContainer="true">
        </div>`])));return this.renderElementFromTemplate(c,t,o)},e}(Ne),vn=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),_n=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},sr=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return vn(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(I||(I=_n([`
        <div class="jsonGroupComponent">
            <div class="jsonGroupComponentTitle">`,`</div>
            <ul childrenContainer="true"></ul>
        </div>`],[`
        <div class="jsonGroupComponent">
            <div class="jsonGroupComponentTitle">`,`</div>
            <ul childrenContainer="true"></ul>
        </div>`])),t?t.replace(/([A-Z])/g," $1").trim():"");return this.renderElementFromTemplate(c,t,o)},e}(Ne),jt=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),gt=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},vt=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return jt(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(F||(F=gt([`
            <li><span class="jsonItemComponentKey">`,': </span><span class="jsonItemComponentValue">',"</span><li>"],[`
            <li><span class="jsonItemComponentKey">`,': </span><span class="jsonItemComponentValue">',"</span><li>"])),t.key,t.value);return this.renderElementFromTemplate(c,t,o)},e}(Ne),Xt=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ar=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},lr=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return Xt(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(B||(B=ar([`
        <li class="jsonItemImageHolder"><div class="jsonItemImage"><img src="`,'"/><span>',"</span></div></li>"],[`
        <li class="jsonItemImageHolder"><div class="jsonItemImage"><img src="`,'"/><span>',"</span></div></li>"])),t.value,t.key);return this.renderElementFromTemplate(c,t,o)},e}(Ne),cr=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ur=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},ut=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return cr(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(G||(G=ur([`
            <li><span class="jsonItemComponentKey">`,`: </span>
                <span class="jsonItemComponentValue">`,' (<a href="',`" target="_blank" class="jsonSourceItemComponentOpen">Open help page</a>)
                </span>
            <li>`],[`
            <li><span class="jsonItemComponentKey">`,`: </span>
                <span class="jsonItemComponentValue">`,' (<a href="',`" target="_blank" class="jsonSourceItemComponentOpen">Open help page</a>)
                </span>
            <li>`])),t.key,t.value,t.help);return this.renderElementFromTemplate(c,t,o)},e}(Ne),hr=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),dr=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return hr(e,i),e.prototype.render=function(t,o){var c=document.createElement("div");if(c.className="jsonVisualStateItemComponent",t.Attachments)for(var y=0,D=t.Attachments;y<D.length;y++){var V=D[y];if(V.src){var Z=document.createElement("img");if(Z.src=encodeURI(V.src),c.appendChild(Z),t.Attachments.length>1){var re=document.createElement("span");re.innerText=V.attachmentName,c.appendChild(re)}}}else{var ae=document.createElement("span");ae.innerText=t.FrameBufferStatus,c.appendChild(ae)}var le=document.createElement("span");return le.innerText=t.FrameBuffer?t.FrameBuffer.__SPECTOR_Object_TAG.displayText:"Canvas frame buffer",c.appendChild(le),c},e}(Ne),pr=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),mr=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},si=function(i){function e(){var t=i.call(this)||this;return t.onCapturesClicked=t.createEvent("onCapturesClicked"),t.onCommandsClicked=t.createEvent("onCommandsClicked"),t.onInformationClicked=t.createEvent("onInformationClicked"),t.onInitStateClicked=t.createEvent("onInitStateClicked"),t.onEndStateClicked=t.createEvent("onEndStateClicked"),t.onCloseClicked=t.createEvent("onCloseClicked"),t.onSearchTextChanged=t.createEvent("onSearchTextChanged"),t.onSearchTextCleared=t.createEvent("onSearchTextCleared"),t}return pr(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(z||(z=mr([`<ul class="resultViewMenuComponent">
                <li class="resultViewMenuOpen resultViewMenuSmall"><a href="#" role="button">Menu</a></li>

                <li class="searchContainer">
                    <input type="text" placeHolder="Search..." value="`,`" commandName="onSearchTextChanged" commandEventBinding="change">
                    <a class="clearSearch" stoppropagation="true" CommandName="onSearchTextCleared">X</a>
                </li>
                <li><a class="`,` href="#" role="button" commandName="onCapturesClicked">Captures</a></li>
                <li><a class="`,` href="#" role="button" commandName="onInformationClicked">Information</a></li>
                <li><a class="`,` href="#" role="button" commandName="onInitStateClicked">Init State</a></li>
                <li>
                    <a class="`,` href="#" role="button" commandName="onCommandsClicked">
                        Commands`,`
                    </a>
                </li>
                <li><a class="`,` href="#" role="button" commandName="onEndStateClicked">End State</a></li>
                <li><a role="button" commandName="onCloseClicked" stoppropagation="true">Close</a></li>
            </ul>`],[`<ul class="resultViewMenuComponent">
                <li class="resultViewMenuOpen resultViewMenuSmall"><a href="#" role="button">Menu</a></li>

                <li class="searchContainer">
                    <input type="text" placeHolder="Search..." value="`,`" commandName="onSearchTextChanged" commandEventBinding="change">
                    <a class="clearSearch" stoppropagation="true" CommandName="onSearchTextCleared">X</a>
                </li>
                <li><a class="`,` href="#" role="button" commandName="onCapturesClicked">Captures</a></li>
                <li><a class="`,` href="#" role="button" commandName="onInformationClicked">Information</a></li>
                <li><a class="`,` href="#" role="button" commandName="onInitStateClicked">Init State</a></li>
                <li>
                    <a class="`,` href="#" role="button" commandName="onCommandsClicked">
                        Commands`,`
                    </a>
                </li>
                <li><a class="`,` href="#" role="button" commandName="onEndStateClicked">End State</a></li>
                <li><a role="button" commandName="onCloseClicked" stoppropagation="true">Close</a></li>
            </ul>`])),t.searchText,t.status===0?"active":"",t.status===10?"active":"",t.status===20?"active":"",t.status===40?"active":"",t.commandCount>0?" ("+t.commandCount+")":"",t.status===30?"active":""),y=this.renderElementFromTemplate(c,t,o),D=y.querySelector(".resultViewMenuOpen"),V=y.querySelectorAll("li:not(.resultViewMenuSmall)");return D.addEventListener("click",function(Z){if(D.getAttribute("open")==="true"){D.setAttribute("open","false");for(var re=0;re<V.length;re++)V[re].style.display="none",V[re].style.visibility="hidden"}else for(D.setAttribute("open","true"),re=0;re<V.length;re++)V[re].style.display="block",V[re].style.visibility="visible"}),y},e}(Ne),fr=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),gr=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return fr(e,i),e.prototype.render=function(t,o){return this.renderElementFromTemplate('<div childrenContainer="true" class="resultViewContentComponent"></div>',t,o)},e}(Ne),_t=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),ai=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},vr=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return _t(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(ne||(ne=ai([`
            <div childrenContainer="true" class="resultViewComponent `,`">
            </div>`],[`
            <div childrenContainer="true" class="resultViewComponent `,`">
            </div>`])),t?"active":"");return this.renderElementFromTemplate(c,t,o)},e}(Ne),_r=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Kt=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},zt=function(i){function e(){var t=i.call(this)||this;return t.onTranslatedVertexSourceClicked=t.createEvent("onTranslatedVertexSourceClicked"),t.onTranslatedFragmentSourceClicked=t.createEvent("onTranslatedFragmentSourceClicked"),t.onVertexSourceClicked=t.createEvent("onVertexSourceClicked"),t.onFragmentSourceClicked=t.createEvent("onFragmentSourceClicked"),t.onSourceCodeCloseClicked=t.createEvent("onSourceCodeCloseClicked"),t.onSourceCodeChanged=t.createEvent("onSourceCodeChanged"),t}return _r(e,i),e.prototype.showError=function(t){if(this.editor){var o=[];if(t=t||"")for(var c=/^.*ERROR:\W([0-9]+):([0-9]+):(.*)$/gm,y=c.exec(t);y!=null;)o.push({row:+y[2]-1,column:y[1],text:y[3]||"Error",type:"error"}),y=c.exec(t);this.editor.getSession().setAnnotations(o)}},e.prototype.render=function(t,o){var c,y=this,D=t.fragment?t.sourceFragment:t.sourceVertex;c=t.translated?t.fragment?t.translatedSourceFragment:t.translatedSourceVertex:D?this._indentIfdef(this._beautify(D)):"";var V=this.htmlTemplate($||($=Kt([`
        <div class="sourceCodeComponentContainer">
            <div class="sourceCodeMenuComponentContainer">
                <ul class="sourceCodeMenuComponent">
                    $`,`
                    $`,`
                    <li><a class="`,`" href="#" role="button" commandName="onVertexSourceClicked">Vertex</a></li>
                    <li><a class="`,`" href="#" role="button" commandName="onFragmentSourceClicked">Fragment</a></li>
                    <li><a href="#" role="button" commandName="onSourceCodeCloseClicked">Close</a></li>
                </ul>
            </div>
            $`,`
        </div>`],[`
        <div class="sourceCodeComponentContainer">
            <div class="sourceCodeMenuComponentContainer">
                <ul class="sourceCodeMenuComponent">
                    $`,`
                    $`,`
                    <li><a class="`,`" href="#" role="button" commandName="onVertexSourceClicked">Vertex</a></li>
                    <li><a class="`,`" href="#" role="button" commandName="onFragmentSourceClicked">Fragment</a></li>
                    <li><a href="#" role="button" commandName="onSourceCodeCloseClicked">Close</a></li>
                </ul>
            </div>
            $`,`
        </div>`])),t.translatedSourceVertex?this.htmlTemplate(J||(J=Kt(['<li><a class="','" href="#" role="button" commandName="onTranslatedVertexSourceClicked">Translated Vertex</a></li>'],['<li><a class="','" href="#" role="button" commandName="onTranslatedVertexSourceClicked">Translated Vertex</a></li>'])),!t.fragment&&t.translated?"active":""):"",t.translatedSourceFragment?this.htmlTemplate(K||(K=Kt(['<li><a class="','" href="#" role="button" commandName="onTranslatedFragmentSourceClicked">Translated Fragment</a></li>'],['<li><a class="','" href="#" role="button" commandName="onTranslatedFragmentSourceClicked">Translated Fragment</a></li>'])),t.fragment&&t.translated?"active":""):"",t.fragment||t.translated?"":"active",t.fragment&&!t.translated?"active":"",this.htmlTemplate(H||(H=Kt(['<div class="sourceCodeComponent">',"</div>"],['<div class="sourceCodeComponent">',"</div>"])),c)),Z=this.renderElementFromTemplate(V.replace(/<br>/g,`
`),t,o);this.editor=ace.edit(Z.querySelector(".sourceCodeComponent")),this.editor.setTheme("ace/theme/monokai"),this.editor.getSession().setMode("ace/mode/glsl"),this.editor.setShowPrintMargin(!1);var re=-1;return this.editor.setReadOnly(!t.editable&&!t.translated),this.editor.getSession().on("change",function(ae){re!==-1&&clearTimeout(re),re=setTimeout(function(){y._triggerCompilation(y.editor,t,Z,o)},1500)}),Z},e.prototype._triggerCompilation=function(t,o,c,y){o.fragment?o.sourceFragment=t.getValue():o.sourceVertex=t.getValue(),this.triggerEvent("onSourceCodeChanged",c,o,y)},e.prototype._beautify=function(t,o){o===void 0&&(o=0),t=t.trim(),t=this._adaptComments(t);for(var c,y=this._getBracket(t),D=y.firstIteration,V=y.lastIteration,Z="",re=0;re<o;re++)Z+="    ";if(D===-1)c=t=(t=(t=(t=(t=(t=(t=(t=Z+t).replace(/;(?![^\(]*\))\s*(\/\/.*)?/g,function(Ee){return Ee.trim()+`
`})).replace(/\s*([*+-/=><\s]*=)\s*/g,function(Ee){return" "+Ee.trim()+" "})).replace(/\s*(,)\s*/g,function(Ee){return Ee.trim()+" "})).replace(/\n[ \t]+/g,`
`)).replace(/\n/g,`
`+Z)).replace(/\s+$/g,"")).replace(/\n+$/g,"");else{var ae=t.substr(0,D),le=t.substr(V+1,t.length),ve=t.substr(D+1,V-D-1).trim(),Ae=this._beautify(ve,o+1);c=(c=(c=this._beautify(ae,o)+` {
`+Ae+`
`+Z+`}
`+this._beautify(le,o)).replace(/\s*\n+\s*;/g,";")).replace(/#endif[\t \f\v]*{/g,`
 {`)}return c=(c=(c=c.replace(e.semicolonReplacementKeyRegex,";")).replace(e.openCurlyReplacementKeyRegex,"{")).replace(e.closeCurlyReplacementKeyRegex,"}")},e.prototype._adaptComments=function(t){for(var o=!1,c=!1,y=0;y<t.length;y++){var D=t[y];D==="/"?t[y-1]==="*"?c=!1:t[y+1]==="*"?o||(c=!0,y++):t[y+1]==="/"&&(c||(o=!0,y++)):D===`
`?o=!1:D===";"?(o||c)&&(t=t.substr(0,y)+e.semicolonReplacementKey+t.substr(y+1)):D==="{"?(o||c)&&(t=t.substr(0,y)+e.openCurlyReplacementKey+t.substr(y+1)):D==="}"&&(o||c)&&(t=t.substr(0,y)+e.closeCurlyReplacementKey+t.substr(y+1))}return t},e.prototype._getBracket=function(t,o){o===void 0&&(o=-1);for(var c=t.indexOf("{",o),y=1,D=c,V=0,Z=0,re=t.substr(c+1).split("");Z<re.length;Z++){var ae=re[Z];if(D++,ae==="{"&&y++,ae==="}"&&y--,y===0){V=D;break}}return c>-1&&V===0?this._getBracket(t,c+1):{firstIteration:c,lastIteration:V}},e.prototype._indentIfdef=function(t){for(var o=0,c=t.split(`
`),y=0;y<c.length;y++){var D=c[y];D.indexOf("#endif")!==-1&&o--,D.indexOf("#else")!==-1&&o--;for(var V="",Z=0;Z<o;Z++)V+="    ";c[y]=V+D,D.indexOf("#if")===-1&&D.indexOf("#else")===-1||o++}return c.join(`
`)},e.semicolonReplacementKey="[[[semicolonReplacementKey]]]",e.semicolonReplacementKeyRegex=new RegExp("\\[\\[\\[semicolonReplacementKey\\]\\]\\]","g"),e.openCurlyReplacementKey="[[[openCurlyReplacementKey]]]",e.openCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[openCurlyReplacementKey\\]\\]\\]","g"),e.closeCurlyReplacementKey="[[[closeCurlyReplacementKey]]]",e.closeCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[closeCurlyReplacementKey\\]\\]\\]","g"),e}(Ne),we=function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var y in c)c.hasOwnProperty(y)&&(o[y]=c[y])})(e,t)};return function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),st=function(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i},Er=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return we(e,i),e.prototype.render=function(t,o){var c=this.htmlTemplate(X||(X=st([`
                <div childrenContainer="true" class="`,'"></div>'],[`
                <div childrenContainer="true" class="`,'"></div>'])),t?"informationColumnLeftComponent":"informationColumnRightComponent");return this.renderElementFromTemplate(c,t,o)},e}(Ne),En=function(){function i(){}return i.getMDNLink=function(e){var t=i.WebGL2Functions[e];if(t)return i.WebGL2RootUrl+t;var o=i.WebGLFunctions[e];return o?i.WebGLRootUrl+o:i.WebGLRootUrl+e},i.WebGL2RootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/",i.WebGLRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/",i.WebGL2Functions={beginQuery:"beginQuery",beginTransformFeedback:"beginTransformFeedback",bindBufferBase:"bindBufferBase",bindBufferRange:"bindBufferRange",bindSampler:"bindSampler",bindTransformFeedback:"bindTransformFeedback",bindVertexArray:"bindVertexArray",blitFramebuffer:"blitFramebuffer",clearBufferfv:"clearBuffer",clearBufferiv:"clearBuffer",clearBufferuiv:"clearBuffer",clearBufferfi:"clearBuffer",clientWaitSync:"clientWaitSync",compressedTexImage3D:"compressedTexImage3D",compressedTexSubImage3D:"compressedTexSubImage3D",copyBufferSubData:"copyBufferSubData",copyTexSubImage3D:"copyTexSubImage3D",createQuery:"createQuery",createSampler:"createSampler",createTransformFeedback:"createTransformFeedback",createVertexArray:"createVertexArray",deleteQuery:"deleteQuery",deleteSampler:"deleteSampler",deleteSync:"deleteSync",deleteTransformFeedback:"deleteTransformFeedback",deleteVertexArray:"deleteVertexArray",drawArraysInstanced:"drawArraysInstanced",drawBuffers:"drawBuffers",drawElementsInstanced:"drawElementsInstanced",drawRangeElements:"drawRangeElements",endQuery:"endQuery",endTransformFeedback:"endTransformFeedback",fenceSync:"fenceSync",framebufferTextureLayer:"framebufferTextureLayer",getActiveUniformBlockName:"getActiveUniformBlockName",getActiveUniformBlockParameter:"getActiveUniformBlockParameter",getActiveUniforms:"getActiveUniforms",getBufferSubData:"getBufferSubData",getFragDataLocation:"getFragDataLocation",getIndexedParameter:"getIndexedParameter",getInternalformatParameter:"getInternalformatParameter",getQuery:"getQuery",getQueryParameter:"getQueryParameter",getSamplerParameter:"getSamplerParameter",getSyncParameter:"getSyncParameter",getTransformFeedbackVarying:"getTransformFeedbackVarying",getUniformBlockIndex:"getUniformBlockIndex",getUniformIndices:"getUniformIndices",invalidateFramebuffer:"invalidateFramebuffer",invalidateSubFramebuffer:"invalidateSubFramebuffer",isQuery:"isQuery",isSampler:"isSampler",isSync:"isSync",isTransformFeedback:"isTransformFeedback",isVertexArray:"isVertexArray",pauseTransformFeedback:"pauseTransformFeedback",readBuffer:"readBuffer",renderbufferStorageMultisample:"renderbufferStorageMultisample",resumeTransformFeedback:"resumeTransformFeedback",samplerParameteri:"samplerParameter",samplerParameterf:"samplerParameter",texImage3D:"texImage3D",texStorage2D:"texStorage2D",texStorage3D:"texStorage3D",texSubImage3D:"texSubImage3D",transformFeedbackVaryings:"transformFeedbackVaryings",uniform1ui:"uniform",uniform2ui:"uniform",uniform3ui:"uniform",uniform4ui:"uniform",uniform1fv:"uniform",uniform2fv:"uniform",uniform3fv:"uniform",uniform4fv:"uniform",uniform1iv:"uniform",uniform2iv:"uniform",uniform3iv:"uniform",uniform4iv:"uniform",uniform1uiv:"uniform",uniform2uiv:"uniform",uniform3uiv:"uniform",uniform4uiv:"uniform",uniformBlockBinding:"uniformBlockBinding",uniformMatrix2fv:"uniformMatrix",uniformMatrix3x2fv:"uniformMatrix",uniformMatrix4x2fv:"uniformMatrix",uniformMatrix2x3fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4x3fv:"uniformMatrix",uniformMatrix2x4fv:"uniformMatrix",uniformMatrix3x4fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttribDivisor:"vertexAttribDivisor",vertexAttribI4i:"vertexAttribI",vertexAttribI4ui:"vertexAttribI",vertexAttribI4iv:"vertexAttribI",vertexAttribI4uiv:"vertexAttribI",vertexAttribIPointer:"vertexAttribIPointer",waitSync:"waitSync"},i.WebGLFunctions={uniform1f:"uniform",uniform1fv:"uniform",uniform1i:"uniform",uniform1iv:"uniform",uniform2f:"uniform",uniform2fv:"uniform",uniform2i:"uniform",uniform2iv:"uniform",uniform3f:"uniform",uniform3i:"uniform",uniform3iv:"uniform",uniform4f:"uniform",uniform4fv:"uniform",uniform4i:"uniform",uniform4iv:"uniform",uniformMatrix2fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttrib1f:"vertexAttrib",vertexAttrib2f:"vertexAttrib",vertexAttrib3f:"vertexAttrib",vertexAttrib4f:"vertexAttrib",vertexAttrib1fv:"vertexAttrib",vertexAttrib2fv:"vertexAttrib",vertexAttrib3fv:"vertexAttrib",vertexAttrib4fv:"vertexAttrib"},i}(),at=function(){function i(e){var t=this;e===void 0&&(e=null),this.rootPlaceHolder=e,this.onSourceCodeChanged=new Q,this.rootPlaceHolder=this.rootPlaceHolder||document.body,this.mvx=new Jn(this.rootPlaceHolder),this.searchText="",this.currentCommandId=-1,this.visible=!1,this.commandCount=0,this.commandListStateId=-1,this.commandDetailStateId=-1,this.currentCaptureStateId=-1,this.currentCommandStateId=-1,this.currentVisualStateId=-1,this.visualStateListStateId=-1,this.initVisualStateId=-1,this.sourceCodeComponentStateId=-1,this.captureListComponent=new dn,this.captureListItemComponent=new Fe,this.visualStateListComponent=new pn,this.visualStateListItemComponent=new Nt,this.commandListComponent=new rr,this.commandListItemComponent=new or,this.commandDetailComponent=new Ht,this.jsonContentComponent=new oi,this.jsonGroupComponent=new sr,this.jsonItemComponent=new vt,this.jsonImageItemComponent=new lr,this.jsonHelpItemComponent=new ut,this.jsonVisualStateItemComponent=new dr,this.resultViewMenuComponent=new si,this.resultViewContentComponent=new gr,this.resultViewComponent=new vr,this.sourceCodeComponent=new zt,this.informationColumnComponent=new Er,this.rootStateId=this.mvx.addRootState(null,this.resultViewComponent),this.menuStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewMenuComponent),this.contentStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewContentComponent),this.captureListStateId=this.mvx.addChildState(this.rootStateId,!1,this.captureListComponent),this.initKeyboardEvents(),this.initMenuComponent(),this.captureListComponent.onCaptureLoaded.add(function(o){t.addCapture(o)}),this.captureListItemComponent.onCaptureSelected.add(function(o){t.selectCapture(o.stateId)}),this.captureListItemComponent.onSaveRequested.add(function(o){t.saveCapture(o.state.capture)}),this.visualStateListItemComponent.onVisualStateSelected.add(function(o){t.selectVisualState(o.stateId)}),this.commandListItemComponent.onCommandSelected.add(function(o){t.selectCommand(o.stateId)}),this.commandListItemComponent.onVertexSelected.add(function(o){t.selectCommand(o.stateId),t.openShader(!1)}),this.commandListItemComponent.onFragmentSelected.add(function(o){t.selectCommand(o.stateId),t.openShader(!0)}),this.sourceCodeComponent.onSourceCodeCloseClicked.add(function(){t.displayCurrentCapture()}),this.sourceCodeComponent.onTranslatedVertexSourceClicked.add(function(o){var c=t.mvx.getGenericState(t.sourceCodeComponentStateId);c.fragment=!1,c.translated=!0,t.mvx.updateState(t.sourceCodeComponentStateId,c)}),this.sourceCodeComponent.onTranslatedFragmentSourceClicked.add(function(o){var c=t.mvx.getGenericState(t.sourceCodeComponentStateId);c.fragment=!0,c.translated=!0,t.mvx.updateState(t.sourceCodeComponentStateId,c)}),this.sourceCodeComponent.onVertexSourceClicked.add(function(o){var c=t.mvx.getGenericState(t.sourceCodeComponentStateId);c.fragment=!1,c.translated=!1,t.mvx.updateState(t.sourceCodeComponentStateId,c)}),this.sourceCodeComponent.onFragmentSourceClicked.add(function(o){var c=t.mvx.getGenericState(t.sourceCodeComponentStateId);c.fragment=!0,c.translated=!1,t.mvx.updateState(t.sourceCodeComponentStateId,c)}),this.sourceCodeComponent.onSourceCodeChanged.add(function(o){t.onSourceCodeChanged.trigger({programId:o.state.programId,sourceFragment:o.state.sourceFragment,sourceVertex:o.state.sourceVertex,translatedSourceFragment:o.state.translatedSourceFragment,translatedSourceVertex:o.state.translatedSourceVertex})}),this.updateViewState()}return i.prototype.saveCapture=function(e){var t=JSON.stringify(e,null,4),o=new Blob([t],{type:"octet/stream"}),c="capture "+new Date(e.startTime).toTimeString().split(" ")[0]+".json";if(navigator.msSaveBlob)navigator.msSaveBlob(o,c);else{var y=document.createElement("a"),D=window.URL.createObjectURL(o);y.setAttribute("href",D),y.setAttribute("download",c),y.click()}},i.prototype.selectCapture=function(e){this.currentCommandId=-1,this.currentCaptureStateId=e,this.displayCurrentCapture()},i.prototype.selectCommand=function(e){this.currentCommandStateId=e,this.currentVisualStateId=this.displayCurrentCommand(),this.displayCurrentVisualState()},i.prototype.selectVisualState=function(e){this.currentVisualStateId=e,this.currentCommandStateId=this.displayCurrentVisualState(),this.displayCurrentCommand()},i.prototype.display=function(){this.visible=!0,this.updateViewState()},i.prototype.hide=function(){this.visible=!1,this.updateViewState()},i.prototype.addCapture=function(e){var t=this.mvx.insertChildState(this.captureListStateId,{capture:e,active:!1},0,this.captureListItemComponent);return this.selectCapture(t),t},i.prototype.showSourceCodeError=function(e){this.sourceCodeComponent.showError(e)},i.prototype.initKeyboardEvents=function(){var e=this;this.rootPlaceHolder.addEventListener("keydown",function(t){e.mvx.getGenericState(e.menuStateId).status===40&&(t.keyCode===38?(t.preventDefault(),t.stopPropagation(),e.selectPreviousCommand()):t.keyCode===40?(t.preventDefault(),t.stopPropagation(),e.selectNextCommand()):t.keyCode===33?(t.preventDefault(),t.stopPropagation(),e.selectPreviousVisualState()):t.keyCode===34&&(t.preventDefault(),t.stopPropagation(),e.selectNextVisualState()))})},i.prototype.openShader=function(e){this.mvx.removeChildrenStates(this.contentStateId);var t=this.mvx.getGenericState(this.currentCommandStateId);this.sourceCodeComponentStateId=this.mvx.addChildState(this.contentStateId,{programId:t.capture.DrawCall.programStatus.program.__SPECTOR_Object_TAG.id,nameVertex:t.capture.DrawCall.shaders[0].name,nameFragment:t.capture.DrawCall.shaders[1].name,sourceVertex:t.capture.DrawCall.shaders[0].source,sourceFragment:t.capture.DrawCall.shaders[1].source,translatedSourceVertex:t.capture.DrawCall.shaders[0].translatedSource,translatedSourceFragment:t.capture.DrawCall.shaders[1].translatedSource,fragment:e,translated:!1,editable:t.capture.DrawCall.programStatus.RECOMPILABLE},this.sourceCodeComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.displayCurrentCommandDetail(t)},i.prototype.selectPreviousCommand=function(){var e=this.mvx.getGenericState(this.currentCommandStateId);e.previousCommandStateId<0||this.selectCommand(e.previousCommandStateId)},i.prototype.selectNextCommand=function(){var e=this.mvx.getGenericState(this.currentCommandStateId);e.nextCommandStateId<0||this.selectCommand(e.nextCommandStateId)},i.prototype.selectPreviousVisualState=function(){var e=this.mvx.getGenericState(this.currentVisualStateId);e.previousVisualStateId<0||this.selectVisualState(e.previousVisualStateId)},i.prototype.selectNextVisualState=function(){var e=this.mvx.getGenericState(this.currentVisualStateId);e.nextVisualStateId<0||this.selectVisualState(e.nextVisualStateId)},i.prototype.initMenuComponent=function(){var e=this;this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:0}),this.resultViewMenuComponent.onCloseClicked.add(function(t){e.hide()}),this.resultViewMenuComponent.onCapturesClicked.add(function(t){e.displayCaptures()}),this.resultViewMenuComponent.onCommandsClicked.add(function(t){e.displayCurrentCapture()}),this.resultViewMenuComponent.onInformationClicked.add(function(t){e.displayInformation()}),this.resultViewMenuComponent.onInitStateClicked.add(function(t){e.displayInitState()}),this.resultViewMenuComponent.onEndStateClicked.add(function(t){e.displayEndState()}),this.resultViewMenuComponent.onSearchTextChanged.add(function(t){e.search(t.sender.value)}),this.resultViewMenuComponent.onSearchTextCleared.add(function(t){e.mvx.updateState(e.menuStateId,{status:t.state.status,searchText:"",commandCount:t.state.commandCount}),e.search("")})},i.prototype.onCaptureRelatedAction=function(e){var t=this.mvx.getGenericState(this.currentCaptureStateId);return this.commandCount=t.capture.commands.length,this.mvx.removeChildrenStates(this.contentStateId),this.mvx.updateState(this.menuStateId,{status:e,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.getGenericState(this.captureListStateId)&&this.mvx.updateState(this.captureListStateId,!1),t.capture},i.prototype.displayCaptures=function(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.updateState(this.captureListStateId,!0)},i.prototype.displayInformation=function(){var e=this.onCaptureRelatedAction(10),t=this.mvx.addChildState(this.contentStateId,!0,this.informationColumnComponent),o=this.mvx.addChildState(this.contentStateId,!1,this.informationColumnComponent),c=this.mvx.addChildState(t,null,this.jsonContentComponent);this.displayJSONGroup(c,"Canvas",e.canvas),this.displayJSONGroup(c,"Context",e.context);for(var y=this.mvx.addChildState(o,null,this.jsonContentComponent),D=0,V=e.analyses;D<V.length;D++){var Z=V[D];this.displayJSONGroup(y,Z.analyserName,Z)}this.displayJSONGroup(y,"Frame Memory Changes",e.frameMemory),this.displayJSONGroup(y,"Total Memory (seconds since application start: bytes)",e.memory)},i.prototype.displayJSON=function(e,t){for(var o in t.VisualState&&this.mvx.addChildState(e,t.VisualState,this.jsonVisualStateItemComponent),t)if(o!=="VisualState"&&o!=="analyserName"&&o!=="source"&&o!=="translatedSource"){var c=t[o];if(o==="visual")for(var y in c)c.hasOwnProperty(y)&&c[y]&&this.mvx.addChildState(e,{key:y,value:c[y]},this.jsonImageItemComponent);else{var D=this.getJSONAsString(e,o,c);if(D==null||this.toFilter(o)&&this.toFilter(c))continue;this.mvx.addChildState(e,{key:o,value:D},this.jsonItemComponent)}c&&c.__SPECTOR_Metadata&&this.displayJSONGroup(e,"Metadata",c.__SPECTOR_Metadata)}},i.prototype.getJSONAsString=function(e,t,o){if(o===null)return"null";if(o===void 0)return"undefined";if(typeof o=="number")return Math.floor(o)===o?o.toFixed(0):o.toFixed(4);if(typeof o=="string")return o;if(typeof o=="boolean")return o?"true":"false";if(o.length===0)return"Empty Array";if(o.length){for(var c=[],y=0;y<o.length;y++){var D=this.getJSONAsString(e,t+"("+y.toFixed(0)+")",o[y]);D!==null&&c.push(D)}return c.length===0?null:c.join(", ")}return o.help?(this.mvx.addChildState(e,{key:t,value:o.name,help:o.help},this.jsonHelpItemComponent),null):o.__SPECTOR_Object_TAG?o.__SPECTOR_Object_TAG.displayText:o.displayText?o.displayText:(typeof o=="object"&&this.displayJSONGroup(e,t,o),null)},i.prototype.displayJSONGroup=function(e,t,o){if(o){var c=this.mvx.addChildState(e,t,this.jsonGroupComponent);this.displayJSON(c,o),this.mvx.hasChildren(c)||this.mvx.removeState(c)}},i.prototype.displayInitState=function(){var e=this.onCaptureRelatedAction(20),t=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(t,e.initState)},i.prototype.displayEndState=function(){var e=this.onCaptureRelatedAction(30),t=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(t,e.endState)},i.prototype.displayCurrentCapture=function(){var e=this.onCaptureRelatedAction(40);this.mvx.updateAllChildrenGenericState(this.captureListStateId,function(t){return t.active=!1,t}),this.mvx.updateState(this.currentCaptureStateId,{capture:e,active:!0}),this.createVisualStates(e),this.commandListStateId=this.mvx.addChildState(this.contentStateId,null,this.commandListComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.createCommands(e)},i.prototype.displayCurrentCommand=function(){if(this.mvx.getGenericState(this.menuStateId).status!==40)return-1;var e=this.mvx.getGenericState(this.currentCommandStateId),t=e.capture;return this.currentCommandId=t.id,this.mvx.updateAllChildrenGenericState(this.commandListStateId,function(o){return o.active=!1,o}),this.mvx.updateState(this.currentCommandStateId,{capture:t,visualStateId:e.visualStateId,previousCommandStateId:e.previousCommandStateId,nextCommandStateId:e.nextCommandStateId,active:!0}),this.displayCurrentCommandDetail(e)},i.prototype.displayCurrentCommandDetail=function(e){var t=e.capture;this.mvx.removeChildrenStates(this.commandDetailStateId);var o=this.mvx.getGenericState(e.visualStateId);this.mvx.addChildState(this.commandDetailStateId,o.VisualState,this.jsonVisualStateItemComponent);var c="Unknown";switch(t.status){case 50:c="Deprecated";break;case 10:c="Unused";break;case 20:c="Disabled";break;case 30:c="Redundant";break;case 40:c="Valid"}var y=En.getMDNLink(t.name);for(var D in t.result?this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:y,name:t.name},duration:t.commandEndTime-t.startTime,result:t.result,status:c}):this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:y,name:t.name},duration:t.commandEndTime-t.startTime,status:c}),t)D!=="VisualState"&&D!=="result"&&typeof t[D]=="object"&&this.displayJSONGroup(this.commandDetailStateId,D,t[D]);return e.visualStateId},i.prototype.displayCurrentVisualState=function(){if(this.mvx.getGenericState(this.menuStateId).status!==40)return null;var e=this.mvx.getGenericState(this.currentVisualStateId);return e.commandStateId===Number.MIN_VALUE?this.displayInitState():e.commandStateId===Number.MAX_VALUE&&this.displayEndState(),this.mvx.updateAllChildrenGenericState(this.visualStateListStateId,function(t){return t.active=!1,t}),e.active=!0,this.mvx.updateState(this.currentVisualStateId,e),e.commandStateId},i.prototype.createVisualStates=function(e){this.visualStateListStateId=this.mvx.addChildState(this.contentStateId,null,this.visualStateListComponent),this.mvx.removeChildrenStates(this.visualStateListStateId),this.initVisualStateId=this.mvx.addChildState(this.visualStateListStateId,{VisualState:e.initState.VisualState,time:e.startTime,commandStateId:Number.MIN_VALUE,active:!1},this.visualStateListItemComponent)},i.prototype.createCommands=function(e){this.mvx.removeChildrenStates(this.commandListStateId);for(var t=this.initVisualStateId,o=!1,c=null,y=-1,D=null,V=-1,Z=0;Z<e.commands.length;Z++){var re=e.commands[Z];if(!this.toFilter(re.marker)||!this.toFilter(re.name)||re.id===this.currentCommandId){var ae={capture:re,previousCommandStateId:y,nextCommandStateId:-1,visualStateId:void 0,active:!1},le=this.mvx.addChildState(this.commandListStateId,ae,this.commandListItemComponent);if(c&&((c=this.mvx.getGenericState(y)).nextCommandStateId=le,this.mvx.updateState(y,c)),y=le,c=ae,re.VisualState){var ve={VisualState:re.VisualState,time:re.endTime,commandStateId:le,active:!1,previousVisualStateId:V,nextVisualStateId:-1};t=this.mvx.addChildState(this.visualStateListStateId,ve,this.visualStateListItemComponent),D&&((D=this.mvx.getGenericState(V)).nextVisualStateId=t,this.mvx.updateState(V,D)),D=ve,V=t,o=!0}else if(!o){var Ae=this.mvx.getGenericState(this.initVisualStateId);Ae.commandStateId=le,Ae.previousVisualStateId=-1,Ae.nextVisualStateId=-1,this.mvx.updateState(this.initVisualStateId,Ae),D=Ae,V=t,o=!0}ae.visualStateId=t,this.mvx.updateState(le,ae),(this.currentCommandId===-1&&Z===0||this.currentCommandId===re.id)&&(this.currentCommandStateId=le,this.displayCurrentCommand(),this.currentVisualStateId=t,this.displayCurrentVisualState())}}},i.prototype.updateViewState=function(){this.mvx.updateState(this.rootStateId,this.visible)},i.prototype.toFilter=function(e){return e=(e+="").toLowerCase(),!!(this.searchText&&this.searchText.length>2&&e.indexOf(this.searchText.toLowerCase())===-1)},i.prototype.search=function(e){switch(this.searchText=e,this.mvx.getGenericState(this.menuStateId).status){case 0:case 40:this.displayCurrentCapture();break;case 30:this.displayEndState();break;case 10:this.displayInformation();break;case 20:this.displayInitState()}this.searchText=""},i}(),Ke={CaptureMenu:Qe,ResultView:at},br=function(){function i(){this.noFrameTimeout=-1,this.captureNextFrames=0,this.captureNextCommands=0,this.quickCapture=!1,this.fullCapture=!1,this.retry=0,this.contexts=[],this.timeSpy=new Qn,this.onCaptureStarted=new Q,this.onCapture=new Q,this.onError=new Q,this.timeSpy.onFrameStart.add(this.onFrameStart,this),this.timeSpy.onFrameEnd.add(this.onFrameEnd,this),this.timeSpy.onError.add(this.onErrorInternal,this)}return i.getFirstAvailable3dContext=function(e){return this.tryGetContextFromHelperField(e)||this.tryGetContextFromCanvas(e,"webgl")||this.tryGetContextFromCanvas(e,"experimental-webgl")||this.tryGetContextFromCanvas(e,"webgl2")||this.tryGetContextFromCanvas(e,"experimental-webgl2")},i.tryGetContextFromHelperField=function(e){var t=e instanceof HTMLCanvasElement?e.getAttribute("__spector_context_type"):e.__spector_context_type;if(t)return this.tryGetContextFromCanvas(e,t)},i.tryGetContextFromCanvas=function(e,t){var o;try{o=e.getContext(t)}catch{}return o},i.prototype.displayUI=function(e){var t=this;e===void 0&&(e=!1),this.captureMenu||(this.getCaptureUI(),this.captureMenu.onPauseRequested.add(this.pause,this),this.captureMenu.onPlayRequested.add(this.play,this),this.captureMenu.onPlayNextFrameRequested.add(this.playNextFrame,this),this.captureMenu.onCaptureRequested.add(function(o){o&&t.captureCanvas(o.ref)},this),setInterval(function(){t.captureMenu.setFPS(t.getFps())},1e3),e||this.captureMenu.trackPageCanvases(),this.captureMenu.display()),this.resultView||(this.getResultUI(),this.onCapture.add(function(o){t.resultView.display(),t.resultView.addCapture(o)}))},i.prototype.getResultUI=function(){var e=this;return this.resultView||(this.resultView=new at,this.resultView.onSourceCodeChanged.add(function(t){e.rebuildProgramFromProgramId(t.programId,t.sourceVertex,t.sourceFragment,function(o){e.referenceNewProgram(t.programId,o),e.resultView.showSourceCodeError(null)},function(o){e.resultView.showSourceCodeError(o)})})),this.resultView},i.prototype.getCaptureUI=function(){return this.captureMenu||(this.captureMenu=new Qe),this.captureMenu},i.prototype.rebuildProgramFromProgramId=function(e,t,o,c,y){var D=Vt.getFromGlobalStore(e);this.rebuildProgram(D,t,o,c,y)},i.prototype.rebuildProgram=function(e,t,o,c,y){M.rebuildProgram(e,t,o,c,y)},i.prototype.referenceNewProgram=function(e,t){Vt.updateInGlobalStore(e,t)},i.prototype.pause=function(){this.timeSpy.changeSpeedRatio(0)},i.prototype.play=function(){this.timeSpy.changeSpeedRatio(1)},i.prototype.playNextFrame=function(){this.timeSpy.playNextFrame()},i.prototype.drawOnlyEveryXFrame=function(e){this.timeSpy.changeSpeedRatio(e)},i.prototype.getFps=function(){return this.timeSpy.getFps()},i.prototype.spyCanvases=function(){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new Zn,this.canvasSpy.onContextRequested.add(this.spyContext,this))},i.prototype.spyCanvas=function(e){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new Zn(e),this.canvasSpy.onContextRequested.add(this.spyContext,this))},i.prototype.getAvailableContexts=function(){return this.getAvailableContexts()},i.prototype.captureCanvas=function(e,t,o,c){t===void 0&&(t=0),o===void 0&&(o=!1),c===void 0&&(c=!1);var y=this.getAvailableContextSpyByCanvas(e);if(y)this.captureContextSpy(y,t,o,c);else{var D=i.getFirstAvailable3dContext(e);D?this.captureContext(D,t,o,c):O.error("No webgl context available on the chosen canvas.")}},i.prototype.captureContext=function(e,t,o,c){t===void 0&&(t=0),o===void 0&&(o=!1),c===void 0&&(c=!1);var y=this.getAvailableContextSpyByCanvas(e.canvas);y||((y=e.getIndexedParameter?new cn({context:e,version:2,recordAlways:!1}):new cn({context:e,version:1,recordAlways:!1})).onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:y.context.canvas,contextSpy:y})),y&&this.captureContextSpy(y,t,o,c)},i.prototype.captureContextSpy=function(e,t,o,c){var y=this;t===void 0&&(t=0),o===void 0&&(o=!1),c===void 0&&(c=!1),this.quickCapture=o,this.fullCapture=c,this.capturingContext?this.onErrorInternal("Already capturing a context."):(this.retry=0,this.capturingContext=e,this.capturingContext.setMarker(this.marker),(t=Math.min(t,5e3))>0?this.captureCommands(t):this.captureFrames(1),this.noFrameTimeout=setTimeout(function(){t>0?y.stopCapture():y.capturingContext&&y.retry>1?y.onErrorInternal("No frames with gl commands detected. Try moving the camera."):y.onErrorInternal("No frames detected. Try moving the camera or implementing requestAnimationFrame.")},1e4))},i.prototype.captureNextFrame=function(e,t,o){t===void 0&&(t=!1),o===void 0&&(o=!1),e instanceof HTMLCanvasElement||self.OffscreenCanvas&&e instanceof OffscreenCanvas?this.captureCanvas(e,0,t,o):this.captureContext(e,0,t,o)},i.prototype.startCapture=function(e,t,o,c){o===void 0&&(o=!1),c===void 0&&(c=!1),e instanceof HTMLCanvasElement||self.OffscreenCanvas&&e instanceof OffscreenCanvas?this.captureCanvas(e,t,o,c):this.captureContext(e,t,o,c)},i.prototype.stopCapture=function(){if(this.capturingContext){var e=this.capturingContext.stopCapture();if(e.commands.length>0)return this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),this.triggerCapture(e),this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,e;this.captureNextCommands===0&&(this.retry++,this.captureFrames(1))}},i.prototype.setMarker=function(e){this.marker=e,this.capturingContext&&this.capturingContext.setMarker(e)},i.prototype.clearMarker=function(){this.marker=null,this.capturingContext&&this.capturingContext.clearMarker()},i.prototype.captureFrames=function(e){this.captureNextFrames=e,this.captureNextCommands=0,this.playNextFrame()},i.prototype.captureCommands=function(e){this.captureNextFrames=0,this.captureNextCommands=e,this.play(),this.capturingContext?(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(e,this.quickCapture,this.fullCapture)):(this.onErrorInternal("No context to capture from."),this.captureNextCommands=0)},i.prototype.spyContext=function(e){var t=this.getAvailableContextSpyByCanvas(e.context.canvas);t||((t=new cn({context:e.context,version:e.contextVersion,recordAlways:!0})).onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:t.context.canvas,contextSpy:t})),t.spy()},i.prototype.getAvailableContextSpyByCanvas=function(e){for(var t=0,o=this.contexts;t<o.length;t++){var c=o[t];if(c.canvas===e)return c.contextSpy}},i.prototype.onFrameStart=function(){this.captureNextCommands>0||(this.captureNextFrames>0?(this.capturingContext&&(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(0,this.quickCapture,this.fullCapture)),this.captureNextFrames--):this.capturingContext=void 0)},i.prototype.onFrameEnd=function(){this.captureNextCommands>0||this.captureNextFrames===0&&this.stopCapture()},i.prototype.triggerCapture=function(e){this.captureMenu&&this.captureMenu.captureComplete(null),this.onCapture.trigger(e)},i.prototype.onErrorInternal=function(e){if(O.error(e),this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),!this.capturingContext)throw e;this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,this.retry=0,this.captureMenu&&this.captureMenu.captureComplete(e),this.onError.trigger(e)},i}()}])})})(zs);export{ma as A,fa as T,da as a,Ys as b,Ws as c,qs as d,Qs as e,la as f,ca as g,Ds as h,Zs as i,Js as j,na as k,sa as l,aa as m,ha as n,oa as o,ra as p,ia as q,ta as r,ua as s,Jr as t,pa as u,ea as v,zs as w};
